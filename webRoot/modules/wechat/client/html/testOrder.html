<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    function sortDesc(item1,item2){

        return item1.release_date < item2.release_date;
    }


    var items =[{"pur_header_id":395246569,"po_num":"1106000041","revision_num":"1","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-17","release_time":"21:01","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395246573,"po_num":"1106000041","revision_num":"2","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-27","release_time":"21:01","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395246330,"po_num":"1106001366","revision_num":"2","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-27","release_time":"16:48","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395246336,"po_num":"1106001473","revision_num":"2","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-27","release_time":"16:48","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395246278,"po_num":"1106003327","revision_num":"4","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-27","release_time":"16:35","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395246229,"po_num":"1106005393","revision_num":"1","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-27","release_time":"15:16","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395246197,"po_num":"1106003090","revision_num":"4","company_name":"Shantui construction machinery Limited by Share Ltd","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-08-27","release_time":"14:54","release_day":"星期四","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395000595,"po_num":"1106006086","revision_num":"5","company_name":"山推工程机械股份有限公司","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已确认","release_date":"2015-03-25","release_time":"16:46","release_day":"星期三","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395000594,"po_num":"1106006085","revision_num":"0","company_name":"山推工程机械股份有限公司","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已确认","release_date":"2015-03-25","release_time":"16:14","release_day":"星期三","urgent_flag":"N","attachment_flag":"N"},{"pur_header_id":395000593,"po_num":"1106006084","revision_num":"0","company_name":"山推工程机械股份有限公司","vendor_name":"高邮市迅达工程机械集团有限公司","srm_status":"已发布","release_date":"2015-03-25","release_time":"16:04","release_day":"星期三","urgent_flag":"N","attachment_flag":"N"}];

    var dateItems = [];
    var hash = [];

    items.sort(sortDesc);

    //console.log(items);

    for(var i in items) {

        var key = 'String' + items[i].release_date;
        if (hash[key] !== 1) {
            dateItems.push({release_date: items[i].release_date, items: []});

            hash[key] = 1;
        }
    }
    console.log(dateItems);


    for(var i in dateItems){

        for(var j in items){
            if(items[j].release_date == dateItems[i].release_date){
                dateItems[i].items.push(items[j]);
            }

        }


    }

    console.log(dateItems);

//    function unique(arr) {
//        var ret = []
//        var hash = {}
//
//        for (var i = 0; i < arr.length; i++) {
//            var item = arr[i]
//            var key = typeof(item) + item
//            if (hash[key] !== 1) {
//                ret.push(item)
//                hash[key] = 1
//            }
//        }
//
//        return ret
//    }
//
//
//    function mySort(item1,item2){
//
//            return a<b
//    }

//    var ret = [];

//    var items = ['2015-08-27','2015-08-27','2015-08-26','2014-09-27'];

//
//    ret =  unique(items);
//
//
//    console.log(ret);
//
//    items.sort(mySort);
//
//    for(var item in items){

//        alert(items[item]);
//    }


</script>


</body>
</html>