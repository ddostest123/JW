2019-11-01 10:30:22.887 [aurora.application.session_check] [CONFIG] Session data copied to context
2019-11-01 10:30:22.887 [aurora.application.session_check] [CONFIG] Access check result for modules/cux/MKWE/pur/PUR8010/delivery_plan_batch_update.svc => success
2019-11-01 10:30:22.891 [uncertain.proc] [CONFIG] [action] DecideStatement
2019-11-01 10:30:22.892 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2019-11-01 10:30:22.892 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2019-11-01 10:30:22.892 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2019-11-01 10:30:22.892 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2019-11-01 10:30:22.892 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.892 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.892 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2019-11-01 10:30:22.892 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2019-11-01 10:30:22.892 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2019-11-01 10:30:22.892 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2019-11-01 10:30:22.893 [aurora.database] [CONFIG] 
============= BEGIN [execute] SQL Statement execution dump ============

            begin 
				sys_nls_language_pkg.set_nls_language(p_nls_language => 'zhs');
			end;
			
---------------------Binding info---------------------
null
=============== END [execute] SQL Statement execution dump ============

2019-11-01 10:30:22.894 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2019-11-01 10:30:22.894 [uncertain.proc] [CONFIG] [action] ParseParameter
2019-11-01 10:30:22.894 [uncertain.proc] [CONFIG] [action] ValidateInput
2019-11-01 10:30:22.894 [uncertain.proc] [CONFIG] [action] InvokeService
2019-11-01 10:30:22.895 [aurora.database] [CONFIG] ===================================== prepare to run model-query cux.MKWE.pur.PUR8010.srm_to_ebs_url_query==============================
2019-11-01 10:30:22.897 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2019-11-01 10:30:22.897 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2019-11-01 10:30:22.897 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2019-11-01 10:30:22.897 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2019-11-01 10:30:22.897 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.897 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.898 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2019-11-01 10:30:22.898 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2019-11-01 10:30:22.899 [uncertain.proc] [CONFIG] [action] QueryFinish
2019-11-01 10:30:22.899 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2019-11-01 10:30:22.899 [uncertain.proc] [CONFIG] [action] FetchResultSet
2019-11-01 10:30:22.899 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2019-11-01 10:30:22.899 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

           SELECT
                    (SELECT
                        s.code_value_name
                    FROM
                        sys_code_values_vl s
                    WHERE
                        s.code_value = 'POST_URL' AND
                        s.code_id    = sv.code_id
                    ) post_url
                FROM
                    sys_codes_vl sv
                WHERE
                    sv.code = 'SRM_TO_EBS_SEND'
            
---------------------Binding info---------------------
null
=============== END [query] SQL Statement execution dump ============

2019-11-01 10:30:22.899 [aurora.database] [CONFIG] Running batch-apply with data from path /parameter, total 5 records
2019-11-01 10:30:22.899 [aurora.database] [CONFIG] Executing batch-apply on parameter No.0
2019-11-01 10:30:22.901 [uncertain.proc] [CONFIG] [action] DecideStatement
2019-11-01 10:30:22.901 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2019-11-01 10:30:22.901 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2019-11-01 10:30:22.901 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2019-11-01 10:30:22.901 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2019-11-01 10:30:22.901 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.901 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.901 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2019-11-01 10:30:22.901 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2019-11-01 10:30:22.901 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2019-11-01 10:30:22.901 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2019-11-01 10:30:22.903 [aurora.database] [CONFIG] 
============= BEGIN [Delete] SQL Statement execution dump ============

              
              DELETE FROM cux_pur_deliver_to_ebs_temp t WHERE t.batch_id = ?
            
            
---------------------Binding info---------------------
No.1	Access path:@batch_id	Data type of passed value :java.lang.Integer	Value:53974091	Output:false	Database Type:null	

=============== END [Delete] SQL Statement execution dump ============

2019-11-01 10:30:22.903 [aurora.database] [CONFIG] Executing batch-apply on parameter No.1
2019-11-01 10:30:22.904 [uncertain.proc] [CONFIG] [action] DecideStatement
2019-11-01 10:30:22.905 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2019-11-01 10:30:22.905 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2019-11-01 10:30:22.905 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2019-11-01 10:30:22.905 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2019-11-01 10:30:22.905 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.905 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2019-11-01 10:30:22.905 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2019-11-01 10:30:22.905 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2019-11-01 10:30:22.905 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2019-11-01 10:30:22.905 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2019-11-01 10:30:22.909 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

        	 begin
        	   cux_pur_deliver_import_pkg.update_pur_del_plan_lines(pv_line_id          => ?,
        	   		                                                pv_line_location_id => ?,
                                      								pn_batch_id         => ?, 
                                      								pv_promise_date     => ?,
                                                                    pv_mrp_locked_flag  => ? );
        	 end;
        	
---------------------Binding info---------------------
No.1	Access path:@line_id	Data type of passed value :java.lang.Long	Value:43622	Output:false	Database Type:null	
No.2	Access path:@es_line_location_id	Data type of passed value :java.lang.Integer	Value:2135973	Output:false	Database Type:null	
No.3	Access path:@batch_id	Data type of passed value :java.lang.Integer	Value:53974091	Output:false	Database Type:null	
No.4	Access path:@promise_date	Data type of passed value :java.lang.String	Value:2019-11-13	Output:false	Database Type:null	
No.5	Access path:@mrp_locked_flag	Data type of passed value :java.lang.String	Value:N	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2019-11-01 10:30:22.909 [aurora.database] [CONFIG] Executing batch-apply on parameter No.2
2019-11-01 10:30:22.909 [aurora.database] [CONFIG] Executing batch-apply on parameter No.3
2019-11-01 10:30:22.909 [aurora.database] [CONFIG] Executing batch-apply on parameter No.4
2019-11-01 10:30:22.909 [uncertain.proc] [CONFIG] [action] HandleException
2019-11-01 10:30:22.909 [uncertain.proc] [CONFIG] [action] CreateFailResponse
2019-11-01 10:30:22.910 [aurora.application] [SEVERE] java.sql.SQLException: ORA-06550: 第 3 行, 第 13 列: 
PLS-00306: 调用 'UPDATE_PUR_DEL_PLAN_LINES' 时参数个数或类型错误
ORA-06550: 第 3 行, 第 13 列: 
PL/SQL: Statement ignored

	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587)
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:225)
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:53)
	at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:943)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150)
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4798)
	at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4875)
	at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1361)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)
	at aurora.database.SqlRunner.updateInternal(SqlRunner.java:274)
	at aurora.database.SqlRunner.update(SqlRunner.java:299)
	at aurora.database.SqlRunner.update(SqlRunner.java:314)
	at aurora.database.service.BusinessModelService.onExecuteDmlStatement(BusinessModelService.java:347)
	at sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:92)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:49)
	at uncertain.event.Configuration.fireEventInternal(Configuration.java:450)
	at uncertain.event.Configuration.fireEvent(Configuration.java:388)
	at uncertain.proc.ProcedureRunner.fireEvent(ProcedureRunner.java:352)
	at uncertain.proc.Action.run(Action.java:171)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:277)
	at aurora.database.service.BusinessModelService.runProcedure(BusinessModelService.java:244)
	at aurora.database.service.BusinessModelService.executeDml(BusinessModelService.java:260)
	at aurora.database.service.BusinessModelService.updateByPK(BusinessModelService.java:264)
	at aurora.database.actions.ModelUpdate.run(ModelUpdate.java:21)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.Switch.run(Switch.java:90)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at aurora.database.actions.BatchApply.run(BatchApply.java:53)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:277)
	at aurora.application.features.AbstractProcedureInvoker.runProcedure(AbstractProcedureInvoker.java:41)
	at aurora.application.features.InitProcedureInvoker.doInvoke(InitProcedureInvoker.java:34)
	at aurora.application.features.InitProcedureInvoker.onInvokeService(InitProcedureInvoker.java:42)
	at sun.reflect.GeneratedMethodAccessor141.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:92)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:49)
	at uncertain.event.Configuration.fireEventInternal(Configuration.java:450)
	at uncertain.event.Configuration.fireEvent(Configuration.java:388)
	at uncertain.proc.ProcedureRunner.fireEvent(ProcedureRunner.java:352)
	at uncertain.proc.Action.run(Action.java:171)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.Switch.run(Switch.java:90)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:277)
	at aurora.service.ServiceInstance.invoke(ServiceInstance.java:133)
	at aurora.service.http.AbstractFacadeServlet.doService(AbstractFacadeServlet.java:158)
	at aurora.service.http.AbstractFacadeServlet.doPost(AbstractFacadeServlet.java:97)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

