<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: wangshihua  
    $Date: 2013-8-14 下午6:38:04  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure>
        <!--         <a:model-query autoCount="true" defaultWhereClause="vendor_register_id=${/parameter/@vendor_register_id}" fetchAll="true" model="pur.PUR5610.pur_vendor_register_progress" rootPath="progress_bar"/>
 -->
        <a:model-query defaultWhereClause="vendor_register_id=${/parameter/@vendor_register_id}" fetchAll="true" model="pur.PUR5610.pur_register_vendors" rootPath="detail_info"/>
    </a:init-procedure>
    <a:view>
        <a:link id="pur5611_register_vendor_basic_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_basic_info.screen"/>
        <a:link id="pur5611_register_vendor_document_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_document_info.screen"/>
        <a:link id="pur5611_register_vendor_detail_save_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_detail_info_save.svc"/>
        <a:link id="pur5611_register_vendor_check_contact_link" model="pur.PUR5610.pur_check_default_contact_exist" modelaction="execute"/>
        <a:link id="pur5611_register_vendor_product_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_category.screen"/>
        <a:link id="pur5610_register_account_create_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_account_create.screen"/>
        <a:link id="pur5610_register_account_edit_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_account_edit.screen"/>
        <a:link id="pur5610_register_account_delete_link" model="pur.PUR5610.pur_register_vendor_accounts" modelaction="delete"/>
        <a:link id="pur5610_register_address_create_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_address_create.screen"/>
        <a:link id="pur5610_register_address_edit_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_address_edit.screen"/>
        <a:link id="pur5610_register_address_delete_link" model="pur.PUR5610.pur_register_vendor_address" modelaction="delete"/>
        <a:link id="pur5610_register_contact_create_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_contact_create.screen"/>
        <a:link id="pur5610_register_contact_edit_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_vendor_contact_edit.screen"/>
        <a:link id="pur5610_register_contact_delete_link" model="pur.PUR5610.pur_register_vendor_contacts" modelaction="delete"/>
        <a:link id="pur5610_register_pur_ctg_create_link" url="${/request/@context_path}/modules/pur/PUR5610/pur_register_pur_ctg_assign.screen"/>
        <a:link id="pur5610_register_pur_ctg_delete_link" model="pur.PUR5610.pur_register_vendor_pur_ctg" modelaction="delete"/>
        <style><![CDATA[
html {
    background:#fff;
}        
        
body {
	font-family:"微软雅黑";
	font-size:12px;
	background:#fff;
}

td {
    word-break:break-all;
    word-wrap:word-break;
}

.head {
    margin:10px auto;
    height:70px;
    width:970px;
}

.logo {
    float:left;
    height:80px;
    width:290px;
}

.hr_top {
    float:left;
    margin-right:15px;
    width:970px;
}

#main {
    height: auto;
    margin-left: auto;
    margin-right: auto;
    width: 970px;
    text-align:center;
}

.main_top {
    border-bottom: 1px dashed #333333;
    float: left;
    margin-left: 15px;
    margin-right: 15px;
    padding-left: 40px;
    text-align: left;
    width: 890px;
}

.main_title {
    float:left;
    color: #000000;
    font-size: 14px;
    font-weight: bold;
    line-height: 30px;
}

.main_content {
    float: left;
    margin-left: 15px;
    margin-right: 15px;
    padding-bottom: 20px;
    padding-top: 20px;
    text-align: left;
    width: 890px;
}

.main_hbox {
    margin-left:0px;
    padding-left:0px;
}

.add_button {
    float:left;
    margin-left:10px;
    width:200px;
    height:30px;
}  		

.skip {
    float: left;
    margin-left: 15px;
    margin-right: 15px;
    margin-bottom:15px;
    padding-left: 40px;
    text-align: left;
    width: 890px;
}

.hr_footer {
    float:left;
    margin-top:10px;
    width:970px;
}

.footer {
    float:left;
    width:970px;
    margin-bottom:5px;
    height:85px;
    font-size:10px;
    color:#787676;
}

#progress_form {
    float:left;
    width:940px;
    margin-left:15px;
    margin-right:15px;
    text-align:center;
    height:100px;
}

#progress_bar {
    margin-bottom:30px;
    overflow:hidden;
    counter-reset:step;
    height:100px;
    width:930px;
}

#progress_bar li {
    list-style-type:none;
    color:#575757;
    text-transform:uppercase;
    font-size:14px;
    width:130px;
    float:left;
    position:relative;
    heigth:30px;
}

.before {
    content:counter(step);
    counter-increment:step;
    width:30px;
    height:20px;
    line-heigth:20px;
    display:block;
    font-size:12px;
    color:#333;
    background:#F0F0F0;
    border-radius:50px;
    margin:5px auto;
    padding-top:5px;
    padding-bottom:5px;
}

.after {
    content:'';
    width:102px;
    height:10px;
    background:#F0F0F0;
    position:absolute;
    left:79px;
    top:15px;
    z-index:1;
}

.before_finished {
    content:counter(step);
    counter-increment:step;
    width:30px;
    height:20px;
    line-heigth:20px;
    display:block;
    font-size:12px;
    color:#333;
    background:#43CD80;
    border-radius:50px;
    margin:5px auto;
    padding-top:5px;
    padding-bottom:5px;
    color:#F0F0F0;
}

.after_finished {
    content:'';
    width:102px;
    height:10px;
    background:#43CD80;
    position:absolute;
    left:79px;
    top:15px;
    z-index:1;
    color:#F0F0F0;
}
		    		
		]]></style>
        <script><![CDATA[
            //自动查询处理
            
            function pur5611_query_handler(ds) {
            
                var record = ds.getCurrentRecord();
                var vendor_register_id = record.get('vendor_register_id');
            
                Aurora.request({
                    url: '${/request/@context_path}/autocrud/pur.PUR5610.pur_register_vendor_init/execute',
                    para: record.data,
                    success: function(res) {
                        var visit_feedback = res.result.visit_feedback;
                        if (visit_feedback == 'SUCCESS') {
                            return '';
                        } else if (visit_feedback == 'ERROR') {
                            var win = Aurora.showMessage('${l:PROMPT.ERROR}', '${l:PUR5610.ILLEGAL_VISIT_GO_TO_INDEX}', function() {
                                window.location.href = '${/request/@context_path}';
                            });
                            setTimeout(function() {
                                win.close();
                                window.location.href = '${/request/@context_path}';
                            }, 3000);
                        }
                    },
                    scope: this
                });
            }
            
            //上一步
            
            function pur5611_detail_last_page() {
                //window.location.href = $('pur5611_register_vendor_basic_link').getUrl() + location.search;
                var param = {};
                param['vendor_register_id'] = '${/parameter/@vendor_register_id}';
                Aurora.post($('pur5611_register_vendor_basic_link').getUrl(), param);
            }
            
            //下一步
            
            function pur5611_detail_next_page() {
                var ds = $('pur5611_register_vendor_detail_ds');
                var record = ds.getCurrentRecord();
                //检验主账户唯一性等问题
                Aurora.request({
                    url: $('pur5611_register_vendor_detail_save_link').getUrl(),
                    para: record.data,
                    success: function(res) {
                        //window.location.href = $('pur5611_register_vendor_document_link').getUrl() + location.search;
                        var param = {};
                        param['vendor_register_id'] = '${/parameter/@vendor_register_id}';
                        Aurora.post($('pur5611_register_vendor_document_link').getUrl(), param);
                    },
                    scope: this
                });
            }
            
            //国家、地区、城市级联更新
            
            function pur5611_register_vendor_detail_update_handler(ds, record, name, value, oldvalue) {
                //国家、地区、城市级联更新
                if (name == 'country_name') {
                    record.set('province_name', '');
                    record.set('province_id', '');
                    record.set('city_id', '');
                    record.set('city_name', '');
                    if (Ext.isEmpty(record.get('country_name')) || record.get('country_name') == undefined) {
                        record.set('country_code', '');
                        record.getField("province_name").setLovService('');
                        record.getField("city_name").setLovService('');
                    } else {
                        var temp_string = record.get('country_code');
                        record.getField("city_name").setLovService('');
                        record.getField("province_name").setLovService('pur.PUR5610.fnd_region_province_lov');
                        record.getField("province_name").setLovPara('country_code', temp_string);
                        record.getField("province_name").setLovPara('vendor_register_id', '${/parameter/@vendor_register_id}');
                    }
                }
                if (name == 'province_name') {
                    record.set('city_name', '');
                    record.set('city_id', '');
                    if (Ext.isEmpty(record.get('province_name')) || record.get('province_name') == undefined) {
                        record.set('province_id', '');
                        record.getField("city_name").setLovService('');
                    } else {
                        record.getField("city_name").setLovService('pur.PUR5610.fnd_region_city_lov');
                        record.getField("city_name").setLovPara('province_id', record.get('province_id'));
                        record.getField("city_name").setLovPara('vendor_register_id', '${/parameter/@vendor_register_id}');
                    }
                }
            }
            
            function pur5611_email_validator(record, name, value) {
                var myReg = /^[-_A-Za-z0-9]+@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/;
                if (myReg.test(value)) {
                    return true;
                }
                return '${l:PROMPT.INCORRECT_EMAIL_FORMAT}';
            }
            
            //银行账户新增
            
            
            function pur5610_account_create() {
                new Aurora.Window({
                    url: $('pur5610_register_account_create_link').getUrl() + '?vendor_id=${/parameter/@vendor_register_id}',
                    title: '${l:PUR5610_VENDOR_REG.ADD_ACCOUNT_INFO}',
                    id: 'pur5610_account_create_win',
                    height: 350,
                    width: 380
                });
            }
            
            //银行账户编辑
            
            
            function pur5610_account_edit(rowIndex, id) {
                var table = document.getElementById('pur5610_account_table');
                new Aurora.Window({
                    url: $('pur5610_register_account_edit_link').getUrl() + '?vendor_account_id=' + id + '&rowindex=' + rowIndex,
                    title: '${l:PUR5610_VENDOR_REG.EDIT_ACCOUNT_INFO}',
                    id: 'pur5610_account_edit_win',
                    height: 350,
                    width: 380
                });
            }
            
            //银行账户删除
            
            
            function pur5610_account_delete(rowIndex, id) {
                var table = document.getElementById("pur5610_account_table");
                table.deleteRow(rowIndex);
                var ds = $('pur5610_register_account_ds');
                var record = ds.create();
                record.set('vendor_account_id', id);
                Aurora.request({
                    url: $('pur5610_register_account_delete_link').getUrl(),
                    para: record.data,
                    success: function(res) {
                        $('pur5610_register_account_ds').query();
                        pur5610_account_init();
                    },
                    scope: this
                });
            }
            
            //银行账户添加行显示
            
            
            function pur5610_account_add_row(id, id1, id2, id3, id4, id5, id6) {
                var table = document.getElementById("pur5610_account_table");
                var len = table.rows.length;
                var tr = table.insertRow(len);
                tr.id = id;
                tr_item = document.getElementById(id);
                var rowIndex = tr_item.rowIndex;
                var td1 = tr.insertCell(0);
                td1.innerHTML = id1;
                var td2 = tr.insertCell(1);
                td2.innerHTML = id2;
                var td3 = tr.insertCell(2);
                td3.innerHTML = id3;
                var td4 = tr.insertCell(3);
                td4.innerHTML = id4;
                var td5 = tr.insertCell(4);
                td5.innerHTML = id5;
                var td6 = tr.insertCell(5);
                td6.innerHTML = id6;
            
                var td_edit = tr.insertCell(6);
                td_edit.innerHTML = "<a href='javascript:pur5610_account_edit(" + rowIndex + "," + id + ")'>${l:PROMPT.EDIT}</a>";
                var td_delete = tr.insertCell(7);
                td_delete.innerHTML = "<a href='javascript:pur5610_account_delete(" + rowIndex + "," + id + ")'>${l:PROMPT.DELETE}</a>";
            }
            
            //银行账户信息初始化
            
            
            function pur5610_account_init() {
            
                var ds = $('pur5610_register_account_ds');
                var length = ds.getAll().length;
                var table = document.getElementById("pur5610_account_table");
                var len = table.rows.length;
                for (var m = len - 1;m > 0;m--) {
                    table.deleteRow(m);
                }
                for (var i = 0;i < length;i++) {
                    var record = ds.getAt(i);
                    pur5610_account_add_row(record.get('vendor_account_id'), record.get('bank_code'), record.get('bank_name'), record.get('bank_branch_name'), record.get('bank_account_name'), record.get('bank_account_number'), record.get('primary_account_flag_display'));
                }
            }
            
            //供应商地点新增
            
            function pur5610_site_create() {
                new Aurora.Window({
                    url: $('pur5610_register_address_create_link').getUrl() + '?vendor_id=${/parameter/@vendor_register_id}',
                    title: '${l:PUR5610_VENDOR_REG.ADD_VENDOR_LOCATION_INFO}',
                    id: 'pur5610_site_create_win',
                    height: 350,
                    width: 380
                });
            }
            
            //供应商地点编辑
            
            function pur5610_site_edit(rowIndex, id) {
                var table = document.getElementById('pur5610_site_table');
                new Aurora.Window({
                    url: $('pur5610_register_address_edit_link').getUrl() + '?vendor_site_id=' + id + '&rowindex=' + rowIndex,
                    title: '${l:PUR5610_VENDOR_REG.EDIT_VENDOR_LOCATION_INFO}',
                    id: 'pur5610_site_edit_win',
                    height: 350,
                    width: 380
                });
            }
            
            //供应商地点删除
            
            function pur5610_site_delete(rowIndex, id) {
                var table = document.getElementById("pur5610_site_table");
                table.deleteRow(rowIndex);
                var ds = $('pur5610_register_site_ds');
                var record = ds.create();
                record.set('vendor_site_id', id);
                Aurora.request({
                    url: $('pur5610_register_address_delete_link').getUrl(),
                    para: record.data,
                    success: function(res) {
                        $('pur5610_register_site_ds').query();
                        pur5610_site_init();
                    },
                    scope: this
                });
            }
            
            //供应商地点添加行显示
            
            function pur5610_site_add_row(id, id1, id2, id3, id4, id5, id6) {
                var table = document.getElementById("pur5610_site_table");
                var len = table.rows.length;
                var tr = table.insertRow(len);
                tr.id = id;
                tr_item = document.getElementById(id);
                var rowIndex = tr_item.rowIndex;
                var td1 = tr.insertCell(0);
                td1.innerHTML = id1;
                var td2 = tr.insertCell(1);
                if (id2 == undefined) {
                    td2.innerHTML = '';
                } else {
                    td2.innerHTML = id2;
                }
                var td3 = tr.insertCell(2);
                if (id3 == undefined) {
                    td3.innerHTML = '';
                } else {
                    td3.innerHTML = id3;
                }
                var td4 = tr.insertCell(3);
                td4.innerHTML = id4;
                var td5 = tr.insertCell(4);
                if (id5 == undefined) {
                    td5.innerHTML = '';
                } else {
                    td5.innerHTML = id5;
                }
                var td6 = tr.insertCell(5);
                if (id6 == undefined) {
                    td6.innerHTML = '';
                } else {
                    td6.innerHTML = id6;
                }
            
                var td_edit = tr.insertCell(6);
                td_edit.innerHTML = "<a href='javascript:pur5610_site_edit(" + rowIndex + "," + id + ")'>${l:PROMPT.EDIT}</a>";
                var td_delete = tr.insertCell(7);
                td_delete.innerHTML = "<a href='javascript:pur5610_site_delete(" + rowIndex + "," + id + ")'>${l:PROMPT.DELETE}</a>";
            }
            
            //供应商地点信息初始化
            
            function pur5610_site_init() {
            
                var ds = $('pur5610_register_site_ds');
                var length = ds.getAll().length;
                var table = document.getElementById("pur5610_site_table");
                var len = table.rows.length;
                for (var m = len - 1;m > 0;m--) {
                    table.deleteRow(m);
                }
                for (var i = 0;i < length;i++) {
                    var record = ds.getAt(i);
                    pur5610_site_add_row(record.get('vendor_site_id'), record.get('country_name'), record.get('province_name'), record.get('city_name'), record.get('address'), record.get('post_code'), record.get('address_comments'));
                }
            }
            
            //联系人新增
            
            function pur5610_contact_create() {
                var url = $('pur5610_register_contact_create_link').getUrl() + '?vendor_id=${/parameter/@vendor_register_id}';
                new Aurora.Window({
                    url: url,
                    title: '${l:PUR5610_VENDOR_REG.ADD_CONTACT_INFO}',
                    id: 'pur5610_contact_create_win',
                    height: 370,
                    width: 500
                });
            }
            
            function pur5610_contact_edit(rowIndex, id) {
                var table = document.getElementById('pur5610_contact_table');
                new Aurora.Window({
                    url: $('pur5610_register_contact_edit_link').getUrl() + '?vendor_contact_id=' + id + '&rowindex=' + rowIndex,
                    title: '${l:PUR5610_VENDOR_REG.EDIT_CONTACT_INFO}',
                    id: 'pur5610_contact_edit_win',
                    height: 370,
                    width: 500
                });
            }
            
            //删除联系人行
            
            function pur5610_contact_delete(rowIndex, id) {
                var table = document.getElementById("pur5610_contact_table");
                table.deleteRow(rowIndex);
                var ds = $('pur5610_register_contacts');
                var record = ds.create();
                record.set('vendor_contact_id', id);
                Aurora.request({
                    url: $('pur5610_register_contact_delete_link').getUrl(),
                    para: record.data,
                    success: function(res) {
                        $('pur5610_register_contacts').query();
                        pur5610_contact_init();
                    },
                    scope: this
                });
            }
            //添加联系人行
            
            function pur5610_contact_add_row(id, id1, id2, id3, id4, id5, id6, id7, id8, id9, id10, id11) {
                var table = document.getElementById("pur5610_contact_table");
                var len = table.rows.length;
                var tr = table.insertRow(len);
                tr.id = id;
                tr_item = document.getElementById(id);
                var rowIndex = tr_item.rowIndex;
                var td1 = tr.insertCell(0);
                if (id1 == undefined) {
                    td1.innerHTML = '';
                } else {
                    td1.innerHTML = id1;
                }
                
                var td2 = tr.insertCell(1);
                if (id2 == undefined) {
                    td2.innerHTML = '';
                } else {
                    td2.innerHTML = id2;
                }
                
                var td3 = tr.insertCell(2);
                if (id3 == undefined) {
                    td3.innerHTML = '';
                } else {
                    td3.innerHTML = id3;
                }
                
                var td4 = tr.insertCell(3);
                if (id4 == undefined) {
                    td4.innerHTML = '';
                } else {
                    td4.innerHTML = id4;
                }
                
                var td5 = tr.insertCell(4);
                if (id5 == undefined) {
                    td5.innerHTML = '';
                } else {
                    td5.innerHTML = id5;
                }
                
                var td6 = tr.insertCell(5);
                if (id6 == undefined) {
                    td6.innerHTML = '';
                } else {
                    td6.innerHTML = id1;
                }
                
                var td7 = tr.insertCell(6);
                if (id7 == undefined) {
                    td7.innerHTML = '';
                } else {
                    td7.innerHTML = id7;
                }
                
                var td8 = tr.insertCell(7);
                if (id8 == undefined) {
                    td8.innerHTML = '';
                } else {
                    td8.innerHTML = id8;
                }
                
                var td9 = tr.insertCell(8);
                if (id9 == undefined) {
                    td9.innerHTML = '';
                } else {
                    td9.innerHTML = id9;
                }
                
                var td10 = tr.insertCell(9);
                if (id10 == undefined) {
                    td10.innerHTML = '';
                } else {
                    td10.innerHTML = id10;
                }
                
                var td11 = tr.insertCell(10);
                if (id11 == undefined) {
                    td11.innerHTML = '';
                } else {
                    td11.innerHTML = id11;
                }
                var td_edit = tr.insertCell(11);
                td_edit.innerHTML = "<a href='javascript:pur5610_contact_edit(" + rowIndex + "," + id + ")'>${l:PROMPT.EDIT}</a>";
                var td_delete = tr.insertCell(12);
                td_delete.innerHTML = "<a href='javascript:pur5610_contact_delete(" + rowIndex + "," + id + ")'>${l:PROMPT.DELETE}</a>";
            
            }
            
            //初始化联系人信息
            
            function pur5610_contact_init() {
                var ds = $('pur5610_register_contacts');
                var length = ds.getAll().length;
                var table = document.getElementById("pur5610_contact_table");
                var len = table.rows.length;
                for (var m = len - 1;m > 0;m--) {
                    table.deleteRow(m);
                }
                for (var i = 0;i < length;i++) {
                    var record = ds.getAt(i);
                    pur5610_contact_add_row(record.get('vendor_contact_id'), record.get('contact_name'), record.get('contact_sex_name'), record.get('id_type_name'), record.get('id_number'), record.get('department'), record.get('position'), record.get('mobile_phone'), record.get('telephone'), record.get('email'), record.get('default_contact'), record.get('contact_comments'));
                }
            }
            
            //采购品类信息新增
            
            function pur5610_purchase_category_create() {
                new Aurora.Window({
                    url: $('pur5610_register_pur_ctg_create_link').getUrl() + '?vendor_id=${/parameter/@vendor_register_id}',
                    title: '${l:PUR5610_VENDOR_REG.DISTRIBUTION_OF_CATAGORY}',
                    id: 'pur5610_pur_ctg_create_win',
                    height: 580,
                    width: 1000
                }).on('beforeclose', function() {
                    $('pur5610_register_pur_ctg_ds').query();
                });
            }
            //添加采购品类行
            
            function pur5610_pur_ctg_add_row(id, id1, id2) {
                var table = document.getElementById("pur5610_purchase_category_table");
                var len = table.rows.length;
                var tr = table.insertRow(len);
                tr.id = id;
                tr_item = document.getElementById(id);
                var rowIndex = tr_item.rowIndex;
                var td1 = tr.insertCell(0);
                td1.innerHTML = id1;
                var td2 = tr.insertCell(1);
                td2.innerHTML = id2;
                var td_delete = tr.insertCell(2);
                td_delete.innerHTML = "<a href='javascript:pur5610_pur_ctg_delete(" + rowIndex + "," + id + ")'>${l:PROMPT.DELETE}</a>";
            
            }
            //删除采购品类行
            
            function pur5610_pur_ctg_delete(rowIndex, id) {
                var table = document.getElementById("pur5610_purchase_category_table");
                table.deleteRow(rowIndex);
                var ds = $('pur5610_register_pur_ctg_ds');
                var record = ds.create();
                record.set('vendor_purchase_category_id', id);
                Aurora.request({
                    url: $('pur5610_register_pur_ctg_delete_link').getUrl(),
                    para: record.data,
                    success: function(res) {
                        $('pur5610_register_pur_ctg_ds').query();
                        //pur5610_pur_ctg_init();
                    },
                    scope: this
                });
            }
            //初始化采购品类
            
            function pur5610_pur_ctg_init() {
                var ds = $('pur5610_register_pur_ctg_ds');
                var length = ds.getAll().length;
                var table = document.getElementById('pur5610_purchase_category_table');
                var len = table.rows.length;
                for (var m = len - 1;m > 0;m--) {
                    table.deleteRow(m);
                }
                for (var i = 0;i < length;i++) {
                    var record = ds.getAt(i);
                    pur5610_pur_ctg_add_row(record.get('vendor_purchase_category_id'), record.get('purchase_category_code'), record.get('purchase_category_name'));
                }
            }
        ]]></script>
        <a:dataSets>
            <a:dataSet id="pur5611_register_vendor_detail_ds" autoCreate="true" autoQuery="true" model="pur.PUR5610.pur_register_vendors" queryUrl="${/request/@context_path}/autocrud/pur.PUR5610.pur_register_vendors/query?vendor_register_id=${/parameter/@vendor_register_id}">
                <a:fields>
                    <a:field name="vendor_register_id" defaultValue="${/parameter/@vendor_register_id}"/>
                </a:fields>
                <a:events>
                    <a:event name="query" handler="pur5611_query_handler"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5610_register_account_ds" autoQuery="true" model="pur.PUR5610.pur_register_vendor_accounts_query" queryUrl="${/request/@context_path}/autocrud/pur.PUR5610.pur_register_vendor_accounts_query/query?vendor_id=${/parameter/@vendor_register_id}">
                <a:events>
                    <a:event name="load" handler="pur5610_account_init"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5610_register_pur_ctg_ds" autoQuery="true" model="pur.PUR5610.pur_register_vendor_pur_ctg" queryUrl="${/request/@context_path}/autocrud/pur.PUR5610.pur_register_vendor_pur_ctg/query?vendor_id=${/parameter/@vendor_register_id}">
                <a:events>
                    <a:event name="load" handler="pur5610_pur_ctg_init"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5610_register_site_ds" autoQuery="true" model="pur.PUR5610.pur_register_vendor_addresses_query" queryUrl="${/request/@context_path}/autocrud/pur.PUR5610.pur_register_vendor_addresses_query/query?vendor_id=${/parameter/@vendor_register_id}">
                <a:events>
                    <a:event name="load" handler="pur5610_site_init"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5610_register_contacts" autoQuery="true" model="pur.PUR5610.pur_register_vendor_contacts_query" queryUrl="${/request/@context_path}/autocrud/pur.PUR5610.pur_register_vendor_contacts_query/query?vendor_id=${/parameter/@vendor_register_id}">
                <a:events>
                    <a:event name="load" handler="pur5610_contact_init"/>
                </a:events>
            </a:dataSet>
        </a:dataSets>
        <div class="head">
            <div class="logo" style="cursor:pointer;">
                <img onclick="window.location.href=&apos;${/request/@context_path}/&apos; " src="../../../images/logo.jpg"/>
            </div>
            <div class="hr_top">
                <hr/>
            </div>
        </div>
        <div id="main" style="padding-top:10px;">
            <div id="progress_form">
                <ul id="progress_bar">
                    <li>
                        <div class="before_finished"><![CDATA[1]]></div>
                        <div class="after_finished"/>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.ENTER_INVITATION_CODE}]]></div>
                    </li>
                    <li>
                        <div class="before_finished"><![CDATA[2]]></div>
                        <div class="after_finished"/>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.READ_REG_INSTRUCTIONS}]]></div>
                    </li>
                    <li>
                        <div class="before_finished"><![CDATA[3]]></div>
                        <div class="after_finished"/>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.ENTER_COMPANY_INFO}]]></div>
                    </li>
                    <li>
                        <div class="before_finished"><![CDATA[4]]></div>
                        <div class="after"/>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.COMPLETE_BUSINESS_INFO}]]></div>
                    </li>
                    <li>
                        <div class="before"><![CDATA[5]]></div>
                        <div class="after"/>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.UPLOAD_FILES}]]></div>
                    </li>
                    <li>
                        <div class="before"><![CDATA[6]]></div>
                        <div class="after"/>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.PENDING_APPROVAL}]]></div>
                    </li>
                    <li>
                        <div class="before"><![CDATA[7]]></div>
                        <div><![CDATA[${l:PUR5610_VENDOR_REG.APPROVAL_END}]]></div>
                    </li>
                </ul>
            </div>
            <div class="main_top">
                <span class="main_title"><![CDATA[${l:PUR5610_VENDOR_REG.BANK_INFO}]]></span>
                <div class="add_button">
                    <a href="javascript:pur5610_account_create()">
                        <img height="20" src="../../../images/add_finance.jpg" style="margin:5px auto 5px auto;" width="20"/>
                    </a>
                </div>
            </div>
            <div class="main_content">
                <div style="float:left;">
                    <table id="pur5610_account_table" border="0" cellpadding="5" cellspacing="0" style="border:1px solid #D1D1D1;" width="930">
                        <tbody>
                            <tr height="25">
                                <th style="text-align:left;" width="100"><![CDATA[${l:PUR_REGISTER_VENDORS.BANK_CODE}]]></th>
                                <th style="text-align:left;" width="150"><![CDATA[${l:PUR_SYSTEM_VENDERS.BANK_CODE}]]></th>
                                <th style="text-align:left;" width="150"><![CDATA[${l:PUR_REGISTER_VENDORS.BANK_BRANCH_NAME}]]></th>
                                <th style="text-align:left;" width="120"><![CDATA[${l:CSH_PAYMENT.BANK_ACCOUNT_NAME}]]></th>
                                <th style="text-align:left;" width="200"><![CDATA[${l:EXP_EMPLOYEE.BANK_ACCOUNT}]]></th>
                                <th style="text-align:left;" width="60"><![CDATA[${l:PUR5610_VENDOR_REG.PRIMARY_ACCOUNT_NUMBER}]]></th>
                                <th style="text-align:left;" width="30"/>
                                <th style="text-align:left;" width="30"/>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="main_top">
                <span class="main_title"><![CDATA[${l:INV_SYS_ITEMS.PURCHASE_CATEGORY_INFOMATION}]]></span>
                <div class="add_button">
                    <a href="javascript:pur5610_purchase_category_create()">
                        <img height="20" src="../../../images/add_finance.jpg" style="margin:5px auto 5px auto;" width="20"/>
                    </a>
                </div>
            </div>
            <div class="main_content">
                <div style="float:left;">
                    <table id="pur5610_purchase_category_table" border="0" cellpadding="5" cellspacing="0" style="border:1px solid #D1D1D1;" width="930">
                        <tbody>
                            <tr height="25">
                                <th style="text-align:left;" width="100"><![CDATA[${l:PUR_PURCHASE_CATEGORIES.PURCHASE_CATEGORY_CODE}]]></th>
                                <th style="text-align:left;" width="250"><![CDATA[${l:PUR_PURCHASE_CATEGORIES.PURCHASE_CATEGORY_NAME}]]></th>
                                <th style="text-align:left;" width="30"/>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="main_top">
                <span class="main_title"><![CDATA[${l:PUR5610_VENDOR_REG.VENDOR_LOCATION_INFO}]]></span>
                <div class="add_button">
                    <a href="javascript:pur5610_site_create()">
                        <img height="20" src="../../../images/add_finance.jpg" style="margin:5px auto 5px auto;" width="20"/>
                    </a>
                </div>
            </div>
            <div class="main_content">
                <div style="float:left;">
                    <table id="pur5610_site_table" border="0" cellpadding="5" cellspacing="0" style="border:1px solid #D1D1D1;" width="930">
                        <tbody>
                            <tr height="25">
                                <th style="text-align:left;" width="100"><![CDATA[${l:PUR_VENDOR_SITES.COUNTRY_CODE}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:PUR_SYSTEM_VENDERS.PROVINCE}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:PUR_SYSTEM_VENDERS.CITY}]]></th>
                                <th style="text-align:left;" width="200"><![CDATA[${l:PUR_VENDOR_SITES.ADDRESS_ID}]]></th>
                                <th style="text-align:left;" width="80"><![CDATA[${l:CUSTOMER.ZIP_CODE}]]></th>
                                <th style="text-align:left;" width="200"><![CDATA[${l:PUR_SYSTEM_VENDERS.NOTE_OF_ADDRESS}]]></th>
                                <th style="text-align:left;" width="30"/>
                                <th style="text-align:left;" width="30"/>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="main_top">
                <span class="main_title"><![CDATA[${l:PUR_SYSTEM_VENDERS.CONTACT_INFORMATION}]]></span>
                <div class="add_button">
                    <a href="javascript:pur5610_contact_create()">
                        <img height="20" src="../../../images/add_finance.jpg" style="margin:5px auto 5px auto;" width="20"/>
                    </a>
                </div>
            </div>
            <div class="main_content">
                <div style="float:left;">
                    <table id="pur5610_contact_table" border="0" cellpadding="3" cellspacing="3" style="border:1px solid #D1D1D1;" width="930">
                        <tbody>
                            <tr height="25">
                                <th style="text-align:left;" width="80"><![CDATA[${l:PUR_VENDOR_CONTACTS.CONTACT_NAME}]]></th>
                                <th style="text-align:left;" width="40"><![CDATA[${l:EXP_EMPLOYEES.SEX}]]></th>
                                <th style="text-align:left;" width="80"><![CDATA[${l:EXP_EMPLOYEE.ID_TYPE}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:HCLC.ID_NUMBER}]]></th>
                                <th style="text-align:left;" width="60"><![CDATA[${l:EXP_ORG_UNIT.UNIT}]]></th>
                                <th style="text-align:left;" width="60"><![CDATA[${l:BID_EXPERT_CAREERS.POSITION}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:EXP_EMPLOYEE.MOBIL}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:EXP_EMPLOYEE.PHONE}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:PUR_SYS_VENDOR_CONTACTS.EMAIL}]]></th>
                                <th style="text-align:left;" width="75"><![CDATA[${l:PUR_REGISTER_VENDOR_CONTACTS.DEFAULT_CONTACT_FLAG}]]></th>
                                <th style="text-align:left;" width="100"><![CDATA[${l:EXP_EMPLOYEE.NOTES}]]></th>
                                <th style="text-align:left;" width="45"/>
                                <th stype="text-align:left;" width="45"/>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="skip">
                <a:button click="pur5611_detail_last_page" style="height:20px;float:left;margin-left:640px;margin-right:30px;" text="PROMPT.LAST_STEP" width="60"/>
                <a:button click="pur5611_detail_next_page" style="height:20px;float:left;" text="PROMPT.NEXT_STEP" width="60"/>
            </div>
            <div class="hr_footer">
                <hr/>
            </div>
            <div class="footer">
                <p><![CDATA[${l:HAND_COMPANY_SITE_INFO}]]></p>
                <p><![CDATA[${l:HAND_COMPANY_CONTACT_INFO}]]></p>
                <p><![CDATA[沪ICP备05019135号 联系我们 © Copyright Hand China Co.,Ltd. Powered by ViewLine]]></p>
            </div>
        </div>
    </a:view>
</a:screen>
