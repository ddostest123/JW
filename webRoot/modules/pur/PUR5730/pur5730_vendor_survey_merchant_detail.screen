<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: weiqinglong 
    $Date: 2015-3-20 下午9:36:54  
    $Revision: 1.0  
    $Purpose: _merchant_
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure> 
        <a:model-query defaultWhereClause="survey_header_id=${/parameter/@survey_header_id}" model="pur.PUR5730.pur5730_vendor_survey_atm_load" rootPath="pur5730_vendor_survey_atm"/>
        <a:model-query model="pur.PUR7210.pur7210_vendor_survey_tabs" rootPath="pur5730_vendor_survey_tabs"/>
        <a:model-query model="pur.PUR7210.pur7210_vendor_survey_require" rootPath="pur5730_vendor_survey_require"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_INDUSTRY_RANKS&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_merchant_industry_rank"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_PACKING_METHOLD&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_merchant_packing_methold"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_CERTIFICATION&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_merchant_certification"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_COOPERATION_FREQUENCY&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_merchant_cooperation_frequency"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;PUR_QUESTIONARY_ATM_TYPE_CODE&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_attachment_type"/>
    </a:init-procedure>
    <a:view>
        <a:link id="pur5730_survey_merchant_submit_link" model="pur.PUR5730.pur5730_vendor_survey_query" modelaction="execute"/>
        <a:link id="pur5730_attachment_file_query_link" url="${/request/@context_path}/modules/pur/PUR5730/pur5730_queryFile.screen"/>
        <a:link id="pur5730_attachment_file_upload_link" url="${/request/@context_path}/modules/pur/PUR5730/pur5730_uploadFile.screen"/>
        <a:link id="pur5730_vendorSurveyAccountSave_link" url="${/request/@context_path}/modules/pur/PUR5730/pur_5730_vendor_survey_account_save.svc"/>
        <a:link id="pur5730_vendor_survey_atm_link" model="pur.PUR5730.pur5730_vendor_survey_atm_query" modelaction="query"/>
        <script><![CDATA[
            function pur5730_detail_merchant_returnFun() {
                if ($('pur5730_vendor_survey_detail_win')) {
                    $('pur5730_vendor_survey_detail_win').close();
                } else {
                    window.close();
                }
            }
            
            function check_require_ds_is_empty() {
                if ($('pur5730_vendor_survey_require_ds').getAll().length > 0) {
                    return false;
                } else {
                    return true;
                }
            }
            
            function set_required(record, name, value) {
                if (value == 'Y') {
                    record.getField(name).setRequired(true);
                }
            }
            
            function pur5730_vendor_survey_basic_info_ds_loadFun(dataSet) {
                if (dataSet.getAll().length == 0) {
                    dataSet.create();
                }
            
                //获取是否必输的配置
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    var set_record = dataSet.getAt(0);
                    set_required(set_record, 'tax_type_name', require_record.get('basic_tax_type_codes_bg'));
                    set_required(set_record, 'payment_method_name', require_record.get('basic_payment_method'));
                    set_required(set_record, 'payment_terms', require_record.get('basic_payment_term'));
                    set_required(set_record, 'chairman_board', require_record.get('basic_chairman_board'));
                    set_required(set_record, 'general_manager', require_record.get('basic_general_manager'));
                    set_required(set_record, 'staff_count', require_record.get('basic_staff_count'));
                    set_required(set_record, 'management_staff_count', require_record.get('basic_management_staff_count'));
                    set_required(set_record, 'technical_staff_count', require_record.get('basic_technical_staff_count'));
                    set_required(set_record, 'production_staff_count', require_record.get('basic_production_staff_count'));
                    //set_required(set_record, 'rd_flag', require_record.get('basic_rd_flag'));
                    set_required(set_record, 'rd_staff_count', require_record.get('basic_rd_staff_count'));
                    set_required(set_record, 'building_area', require_record.get('basic_building_area'));
                    set_required(set_record, 'industry_ranks_desc', require_record.get('basic_industry_ranks'));
                    set_required(set_record, 'others', require_record.get('basic_others'));
                    set_required(set_record, 'international_top5', require_record.get('basic_international_top5'));
                    set_required(set_record, 'domestic_top5', require_record.get('basic_domestic_top5'));
                    set_required(set_record, 'c_attribute1', require_record.get('basic_c_attribute1'));
                    set_required(set_record, 'c_attribute2', require_record.get('basic_c_attribute2'));
                    set_required(set_record, 'c_attribute3', require_record.get('basic_c_attribute3'));
                    set_required(set_record, 'c_attribute4', require_record.get('basic_c_attribute4'));
                    set_required(set_record, 'c_attribute5', require_record.get('basic_c_attribute5'));
                    set_required(set_record, 'c_attribute6', require_record.get('basic_c_attribute6'));
                    set_required(set_record, 'c_attribute7', require_record.get('basic_c_attribute7'));
                    set_required(set_record, 'c_attribute8', require_record.get('basic_c_attribute8'));
                    set_required(set_record, 'c_attribute9', require_record.get('basic_c_attribute9'));
                    set_required(set_record, 'c_attribute10', require_record.get('basic_c_attribute10'));
                    set_required(set_record, 'c_attribute11', require_record.get('basic_c_attribute11'));
                    set_required(set_record, 'c_attribute12', require_record.get('basic_c_attribute12'));
                    set_required(set_record, 'c_attribute13', require_record.get('basic_c_attribute13'));
                    //set_required(set_record, 'c_attribute14', require_record.get('basic_c_attribute14'));
                }
                
                if(${/model/pur5730_vendor_survey_atm/record/@count1} == 0){
            	    document.getElementById('pur5730_vendor_survey_merchant_uploadBtu_img').style.visibility="hidden";
                }
                
                if(${/model/pur5730_vendor_survey_atm/record/@count2} == 0){
            	    document.getElementById('pur5730_vendor_survey_merchant_bond_uploadBtu_img').style.visibility="hidden";
                }
            }
            
            
            function pur5730_vendor_survey_merchant_rendererFun(value, record, name) {
                var survey_header_id = record.get('survey_header_id');
                if (name == 'organization') {
                    return '<a style="color:blue" href="javascript:pur5730_vendor_survey_merchant_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                }
            
                if (name == 'stock_right') {
                    return '<a style="color:blue" href="javascript:pur5730_vendor_survey_merchant_stock_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                }
            }
            
            function pur5730_vendor_survey_merchant_uploadFun(id) {
                new Aurora.Window({
                    id: 'pur5730_attachment_file_upload_link_window',
                    title: '${l:ATM.UPLOAD_ATTACHMENT}',
                    url: $('pur5730_attachment_file_upload_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_BASIC_INFO_ME',
                    width: 610,
                    height: 500
                }).on('close', function() {
	                Aurora.request({
	                    url: $('pur5730_vendor_survey_atm_link').getUrl(),
	                    para: {
	                        'survey_header_id': id,
	                        'table_name': 'PUR_VENDOR_SURVEY_BASIC_INFO_ME'},
	                    success: function(res) {
							if(res.result.record.count == 0){
			            	    document.getElementById('pur5730_vendor_survey_merchant_uploadBtu_img').style.visibility="hidden";
							}else{
			            	    document.getElementById('pur5730_vendor_survey_merchant_uploadBtu_img').style.visibility="visible"; 
							}
	                    },
	                    scope: this
	                });
                });
            }
            
            function pur5730_vendor_survey_merchant_stock_uploadFun(id) {
                new Aurora.Window({
                    id: 'pur5730_attachment_file_upload_link_window',
                    title: '${l:ATM.UPLOAD_ATTACHMENT}',
                    url: $('pur5730_attachment_file_upload_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_BASIC_INFO_STOCK',
                    width: 610,
                    height: 500
                }).on('close', function() {
	                Aurora.request({
	                    url: $('pur5730_vendor_survey_atm_link').getUrl(),
	                    para: {
	                        'survey_header_id': id,
	                        'table_name': 'PUR_VENDOR_SURVEY_BASIC_INFO_STOCK'},
	                    success: function(res) {
							if(res.result.record.count == 0){
			            	    document.getElementById('pur5730_vendor_survey_merchant_bond_uploadBtu_img').style.visibility="hidden";
							}else{
			            	    document.getElementById('pur5730_vendor_survey_merchant_bond_uploadBtu_img').style.visibility="visible"; 
							}
	                    },
	                    scope: this
	                });
                });
            }
            
            function pur5730_vendor_survey_merchant_business_tab_ds_loadFun(dataSet) {
                if (dataSet.getAll().length == 0) {
                    dataSet.create();
                }
            
                //获取是否必输的配置
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    var set_record = dataSet.getAt(0);
                    set_required(set_record, 'main_distribution_channel', require_record.get('bu_main_distribution_channel'));
                    //set_required(set_record, 'descriptions', require_record.get('bu_descriptions'));
                    set_required(set_record, 'warranty_date', require_record.get('bu_warranty_date'));
                    //set_required(set_record, 'field_maintenance_flag', require_record.get('bu_field_maintenance_flag'));
                    set_required(set_record, 'service_network_count', require_record.get('bu_service_network_count'));
                    set_required(set_record, 'service_network_address', require_record.get('bu_service_network_address'));
                    set_required(set_record, 'c_attribute1', require_record.get('bu_c_attribute1'));
                    set_required(set_record, 'c_attribute2', require_record.get('bu_c_attribute2'));
                    set_required(set_record, 'c_attribute3', require_record.get('bu_c_attribute3'));
                    set_required(set_record, 'c_attribute4', require_record.get('bu_c_attribute4'));
                    set_required(set_record, 'c_attribute5', require_record.get('bu_c_attribute5'));
                    //set_required(set_record, 'c_attribute6', require_record.get('bu_c_attribute6'));
                    //set_required(set_record, 'c_attribute7', require_record.get('bu_c_attribute7'));
                    //set_required(set_record, 'c_attribute8', require_record.get('bu_c_attribute8'));
                    set_required(set_record, 'c_attribute9', require_record.get('bu_c_attribute9'));
                    set_required(set_record, 'c_attribute10', require_record.get('bu_c_attribute10'));
                    //set_required(set_record, 'c_attribute11', require_record.get('bu_c_attribute11'));
                    //set_required(set_record, 'c_attribute12', require_record.get('bu_c_attribute12'));
                    //set_required(set_record, 'c_attribute13', require_record.get('bu_c_attribute13'));
                    //set_required(set_record, 'c_attribute14', require_record.get('bu_c_attribute14'));
                }
            }
            
            function pur5730_vendor_survey_merchant_business_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_merchant_business_tab_ds').query();
            }
            
            function pur5730_vendor_survey_merchant_contact_tab_saveFun() {
            
                var contact_ds = $('pur5730_vendor_survey_merchant_contact_tab_ds');
            
                if (!contact_ds.validate()) {
                    return;
                }
                contact_ds.submit();
            }
            
            function pur5730_vendor_survey_merchant_contact_tab_deleteFun() {
            
                Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.CONFIRM_TO_DELETE_DATA}', function() {
                    var contact_records = $('pur5730_vendor_survey_merchant_contact_tab_ds').getSelected();
                    var delete_flag = 'N';
                    var los = [];
                    var llo = {};
            
                    for (var i = 0;i < contact_records.length;i++) {
                        var contact_id = contact_records[i].get('contact_id');
            
                        if (contact_id == null || contact_id == '' || contact_id == 'undefined') {
                            $('pur5730_vendor_survey_merchant_contact_tab_ds').remove(contact_records[i]);
                        } else {
                            llo['contact_id'] = contact_records[i].get('contact_id');
                            llo['survey_header_id'] = contact_records[i].get('survey_header_id');
                            llo['_status'] = 'delete';
                            los.push(llo);
                            delete_flag = 'Y';
                        }
                    }
            
                    if (delete_flag == 'Y') {
                        Aurora.request({
                            url: $('pur5730_vendor_survey_merchant_contact_tab_save_link').getUrl(),
                            para: los,
                            success: function(result) {
                                $('pur5730_vendor_survey_merchant_contact_tab_ds').query();
                            },
                            failure: function() {},
                            error: function() {},
                            scope: this
                        });
                    }
                });
            }
            
            function pur5730_vendor_survey_merchant_contact_tab_ds_submitsuccessFun(dataset) {
                dataset.query();
            }
            
            function pur5730_vendor_survey_merchant_address_submitSuccessFun() {
                $('pur7210_vendor_survey_merchant_address_tab_ds').query();
            }
            //地点tab事件
            
            function pur5730_merchant_addressesCellClick_fun(grid, row, name, record) {
                //国家、地区、城市级联更新
                if (Ext.isEmpty(record.get('country_name')) || record.get('country_name') == undefined) {
                    record.set('country_code', '');
                    record.getField("province_name").setLovService('');
                    record.getField("city_name").setLovService('');
            
                    record.getField('province_name').setReadOnly(true);
                    record.getField('city_name').setReadOnly(true);
                } else {
                    var temp_string = record.get('country_code');
                    record.getField("city_name").setLovService('');
                    record.getField("province_name").setLovService('public.fnd_region_province_lov');
                    record.getField("province_name").setLovPara('country_code', temp_string);
            
                    record.getField('province_name').setReadOnly(false);
                }
                if (Ext.isEmpty(record.get('province_name')) || record.get('province_name') == undefined) {
                    record.set('province_id', '');
                    record.getField("city_name").setLovService('');
            
                    record.getField('city_name').setReadOnly(true);
                } else {
                    record.getField("city_name").setLovService('public.fnd_region_city_lov');
                    record.getField("city_name").setLovPara('province_id', record.get('province_id'));
                    record.getField('city_name').setReadOnly(false);
                }
            
            }
            
            function pur5730_vendor_survey_merchant_account_tab_ds_submitSuccessFun() {
                $('pur5730_vendor_survey_merchant_account_tab_ds').query();
            }

            function pur5730_vendor_survey_merchant_account_tab_ds_update(ds, record, name, value) {
                if (name == 'c_attribute1') {
                    record.set(name, value.replace(/\s+/g,""));
                }
            }

            function pur5730_vendor_survey_merchant_branch_tab_ds_submitSuccessFun() {
                $('pur7210_vendor_survey_merchant_branch_tab_ds').query();
            }
            
            //地点tab事件
            
            function pur5730_branchCellClick_fun(grid, row, name, record) {
                //国家、地区、城市级联更新
                if (Ext.isEmpty(record.get('country_name')) || record.get('country_name') == undefined) {
                    record.set('country_code', '');
                    record.getField("province_name").setLovService('');
                    record.getField("city_name").setLovService('');
            
                    record.getField('province_name').setReadOnly(true);
                    record.getField('city_name').setReadOnly(true);
                } else {
                    var temp_string = record.get('country_code');
                    record.getField("city_name").setLovService('');
                    record.getField("province_name").setLovService('public.fnd_region_province_lov');
                    record.getField("province_name").setLovPara('country_code', temp_string);
            
                    record.getField('province_name').setReadOnly(false);
                }
                if (Ext.isEmpty(record.get('province_name')) || record.get('province_name') == undefined) {
                    record.set('province_id', '');
                    record.getField("city_name").setLovService('');
            
                    record.getField('city_name').setReadOnly(true);
                } else {
                    record.getField("city_name").setLovService('public.fnd_region_city_lov');
                    record.getField("city_name").setLovPara('province_id', record.get('province_id'));
                    record.getField('city_name').setReadOnly(false);
                }
            }
            
            function pur5730_vendor_survey_merchant_authenticate_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_authenticate_tab_ds').query();
            }
            
            function pur7210_vendor_survey_merchant_product_capacity_tab_ds_submitsuccessFun() {
                $('pur7210_vendor_survey_merchant_product_capacity_tab_ds').query();
            }
            
            function pur5730_vendor_survey_merchant_customer_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_merchant_customer_tab_ds').query();
            }
            
            function pur5730_vendor_survey_merchant_finance_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_merchant_finance_tab_ds').query();
            }
            
            //提交成功，刷新附件页签
            function pur5730_vendor_survey_merchant_attachment_tab_ds_submitSuccessFun(){
                $('pur5730_vendor_survey_merchant_attachment_tab_ds').query();
            }
            
            function pur5730_vendor_survey_merchant_attachment_tab_ds_selectFun(record) {
                if (record.isNew) {
                    return true;
                }
                return false;
            }
            
            function pur5730_survey_atm_type_editorFun(record, name) {
                if (record.isNew) {
                    return 'pur5730_vendor_survey_merchant_attachment_tab_cbb';
                }
                return '';
            }
            //查看采购方附件
            function pur5730_survey_atm_query_rendererFun(value, record, name) {
                var attachment_id = record.get('attachment_id');
                if (record.isNew) {
                    return '';
                }
                if(record.get('atm_count_buyer')==0){
                     return '<a style="color:blue" href="javascript:pur7210_vendor_survey_queryFun(' + attachment_id + ')">${l:PROMPT.VIEW_ATTACHMENT}</a>';
                }else{
                     return '<a style="color:blue" href="javascript:pur7210_vendor_survey_queryFun(' + attachment_id + ')">${l:PROMPT.VIEW_ATTACHMENT}</a>' + '<img id="pur5730_vendor_survey_manufacturer_uploadBtu_img_1" height="12" src="${/request/@context_path}/images/touch/report.png" width="15"/>';
                }
            }
            //上传供应商附件
            function pur5730_survey_atm_upload_rendererFun(value, record, name) {
                var attachment_id = record.get('attachment_id');
                if (record.isNew) {
                    return '';
                }
                if(record.get('atm_count_vendor')==0){
                     return '<a style="color:blue" href="javascript:pur7210_vendor_survey_uploadFun(' + attachment_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                }else{
                     return '<a style="color:blue" href="javascript:pur7210_vendor_survey_uploadFun(' + attachment_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>' + '<img id="pur5730_vendor_survey_manufacturer_uploadBtu_img_2" height="12" src="${/request/@context_path}/images/touch/report.png" width="15"/>';
                }    
            }
            
            function pur7210_vendor_survey_queryFun(id) {
                new Aurora.Window({
                    id: 'pur7220_attachment_file_query_link_window',
                    title: '${l:PROMPT.BUYER_ATTACHMENT}',
                    url: $('pur5730_attachment_file_query_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_ATTACHMENT_BUYER',
                    width: 610,
                    height: 500
                }).on('close', function() {
                    $('pur5730_vendor_survey_manufacturer_attachment_tab_ds').query();
                });
            }
            
            function pur7210_vendor_survey_uploadFun(id) {
                new Aurora.Window({
                    id: 'pur7220_attachment_file_upload_link_window',
                    title: '${l:PROMPT.VENDOR_ATTACHMENT}',
                    url: $('pur5730_attachment_file_upload_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_ATTACHMENT',
                    width: 610,
                    height: 500
                }).on('close', function() {
                    $('pur5730_vendor_survey_merchant_attachment_tab_ds').query();
                });
            }
            
            function pur5730_vendor_survey_merchant_attachment_tab_ds_updateFun(dataSet, record, name, value, oldvalue) {
                // if (name == 'attachment_type') {
                    // var records = dataSet.getAll();
                    // for (var i = 0;i < records.length;i++) {
                        // for (var j = i + 1;j < records.length;j++) {
                            // if (records[i].get('attachment_type') == records[j].get('attachment_type')) {
                                // Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.ATTACHMENT_EXIST_AND_SELECT_AGAIN}');
                                // return;
                            // }
                        // }
                    // }
                // }
            }
            
            
            //校验是否有必输数据未填写
            
            function check_validate() {
            
                if (!$('pur5730_vendor_survey_basic_info_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(0);
                    return '';
                }
                if (!$('pur5730_vendor_survey_merchant_business_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(1);
                    return '';
                }
                if (!$('pur5730_vendor_survey_merchant_contact_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(2);
                    return '';
                }
                if (!$('pur7210_vendor_survey_merchant_address_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(3);
                    return '';
                }
                if (!$('pur5730_vendor_survey_merchant_account_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(4);
                    return '';
                }
                if (!$('pur7210_vendor_survey_merchant_branch_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(5);
                    return '';
                }
                if (!$('pur5730_vendor_survey_authenticate_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(6);
                    return '';
                }
                if (!$('pur7210_vendor_survey_merchant_product_capacity_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(7);
                    return '';
                }
                if (!$('pur5730_vendor_survey_merchant_customer_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(8);
                    return '';
                }
                if (!$('pur5730_vendor_survey_merchant_finance_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(9);
                    return '';
                }
                if (!$('pur5730_vendor_survey_merchant_attachment_tab_ds').validate()) {
                    $('vendor_survey_merchant_tabPanel_id').selectTab(10);
                    return '';
                }
            }
            
            function pur5730_maskWindow() {
                if ($('pur5730_vendor_survey_detail_win')) {
                    Aurora.Masker.mask($('pur5730_vendor_survey_detail_win').wrap, '...');
                } else {
                    Aurora.Masker.mask(Ext.getBody(), '..');
                }
            }
            
            function pur5730_unmaskWindow() {
                if ($('pur5730_vendor_survey_detail_win')) {
                    Aurora.Masker.unmask($('pur5730_vendor_survey_detail_win').wrap);
                } else {
                    Aurora.Masker.unmask(Ext.getBody());
                }
            }
            
            function pur5730_detail_merchant_saveFun() {
            
                check_validate();
            
                pur5730_maskWindow();
                $('pur5730_survey_merchant_headers_ds').submit();
                pur5730_unmaskWindow();
            }
            
            
            function pur5730_survey_merchant_headers_ds_submitsuccessFun() {
                Aurora.showMessage('${l:PROMPT}', '${l:PROMPT.SAVE_SUCCESS}', null);
                $('pur5730_survey_merchant_headers_ds').query();
            }
            
            //校验是否有数据未保存
            
            function check_update() {
            
                if ($('pur5730_survey_merchant_headers_ds').isModified()) {
                    return 'Y';
                }
            
                if ($('pur5730_vendor_survey_basic_info_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_merchant_business_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_merchant_contact_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur7210_vendor_survey_merchant_address_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_merchant_account_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_authenticate_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur7210_vendor_survey_merchant_product_capacity_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_merchant_customer_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_merchant_finance_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_merchant_attachment_tab_ds').isModified()) {
                    return 'Y';
                }
                return 'N';
            }
            
            function pur5730_detail_merchant_submitFun() {
            
                Aurora.showConfirm('${l:PROMPT}', '${l:DOCUMNET_SUBMIT_CONFIRM}', function() {
            
                    var isModified = check_update();
                    if (isModified == 'Y') {
                        Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.SAVE_DATA_FIRST}', null);
                        return '';
                    }
            
                    pur5730_maskWindow();
                    Aurora.request({
                        url: $('pur5730_survey_merchant_submit_link').getUrl(),
                        para: {
                            'survey_header_id': '${/parameter/@survey_header_id}'
                        },
                        success: function(result) {
                            Aurora.showMessage('${l:PROMPT}', '${l:PROMPT.SUBMIT_SUCCESS}', null);
                            pur5730_unmaskWindow();
                            pur5730_detail_merchant_returnFun();
                        },
                        failure: function() {
                            pur5730_unmaskWindow();
                        },
                        error: function() {
                            pur5730_unmaskWindow();
                        },
                        scope: this
                    });
                });
            }
            
            //无头内容时提示已提交
            
            function pur5730_survey_header_ds_load() {
                var records = $('pur5730_survey_merchant_headers_ds').getAll();
                if (records.length == 0) {
                    Aurora.showMessage('提示', '调查表已提交!', function() {
                        window.close();
                    });
                }
            }
            
            //账户保存
            
            function pur5730_vendorSurveyAccounts_saveFun() {
                $('pur5730_detail_merchant_saveBtn').disable();
                $('pur5730_detail_merchant_submitBtn').disable();
                $('pur5730_detail_merchant_backBtn').disable();
            
                var account_ds = $('pur5730_vendor_survey_merchant_account_tab_ds');
            
                if (!account_ds.validate()) {
                    $('pur5730_detail_merchant_saveBtn').enable();
                    $('pur5730_detail_merchant_submitBtn').enable();
                    $('pur5730_detail_merchant_backBtn').enable();
                    return;
                }
            
                var data = {};
                var lines = [];
                var records = account_ds.getAll();
                for (i = 0;i < records.length;i++) {
                    lines.push(records[i].data);
                }
            
                data['accounts'] = lines;
                data['survey_header_id'] = '${/parameter/@survey_header_id}';
            
                Aurora.request({
                    url: $('pur5730_vendorSurveyAccountSave_link').getUrl(),
                    para: data,
                    success: function(result) {
                        $('pur5730_detail_merchant_saveBtn').enable();
                        $('pur5730_detail_merchant_submitBtn').enable();
                        $('pur5730_detail_merchant_backBtn').enable();
                        pur5730_vendor_survey_merchant_account_tab_ds_submitSuccessFun();
                    },
                    failure: function() {
                        $('pur5730_detail_merchant_saveBtn').enable();
                        $('pur5730_detail_merchant_submitBtn').enable();
                        $('pur5730_detail_merchant_backBtn').enable();
                    },
                    error: function() {
                        $('pur5730_detail_merchant_saveBtn').enable();
                        $('pur5730_detail_merchant_submitBtn').enable();
                        $('pur5730_detail_merchant_backBtn').enable();
                    },
                    scope: this
                });
            }
            
            function pur5730_merchant_contact_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'contact_name') {
                        set_required(record, name, require_record.get('contact_name'));
                    }
                    if (name == 'contact_sex_name') {
                        set_required(record, name, require_record.get('contact_sex'));
                    }
                    if (name == 'id_type') {
                        set_required(record, name, require_record.get('contact_id_type'));
                    }
                    if (name == 'id_number') {
                        set_required(record, name, require_record.get('contact_id_number'));
                    }
                    if (name == 'department') {
                        set_required(record, name, require_record.get('contact_department'));
                    }
                    if (name == 'position') {
                        set_required(record, name, require_record.get('contact_position'));
                    }
                    if (name == 'mobile_phone') {
                        set_required(record, name, require_record.get('contact_mobile_phone'));
                    }
                    if (name == 'telephone') {
                        set_required(record, name, require_record.get('contact_telephone'));
                    }
                    if (name == 'email') {
                        set_required(record, name, require_record.get('contact_email'));
                    }
                    if (name == 'c_attribute1') {
                    	set_required(record, name, require_record.get('contact_c_attribute1'));
                    }
                    if (name == 'comments') {
                        set_required(record, name, require_record.get('contact_comments'));
                    }
                }
                return value;
            }
            
            function pur5730_merchant_address_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'country_name') {
                        set_required(record, name, require_record.get('address_country_code'));
                    }
                    if (name == 'province_name') {
                        set_required(record, name, require_record.get('address_province'));
                    }
                    if (name == 'city_name') {
                        set_required(record, name, require_record.get('address_city'));
                    }
                    if (name == 'address_detail_desc') {
                        set_required(record, name, require_record.get('address_detail'));
                    }
                    if (name == 'comments') {
                        set_required(record, name, require_record.get('address_comments'));
                    }
                    if (name == 'post_code') {
                        set_required(record, name, require_record.get('address_post_code'));
                    }
                    //if (name == 'enabled_flag') {set_required(record, name, require_record.get('address_enabled_flag'));}
                }
                return value;
            }
            
            function pur5730_merchant_account_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'bank_code') {
                        set_required(record, name, require_record.get('bank_code'));
                    }
                    if (name == 'bank_branch_name') {
                        set_required(record, name, require_record.get('bank_branch_name'));
                    }
                    if (name == 'bank_account_name') {
                        set_required(record, name, require_record.get('bank_account_name'));
                    }
                    if (name == 'bank_account_number') {
                        set_required(record, name, require_record.get('bank_account_number'));
                    }
                    if (name == 'c_attribute1') {
                    	set_required(record, name, require_record.get('bank_c_attribute1'));
                    	if(!Aurora.isEmpty(value)){
                    		return value.replace(/\s+/g,"");
                    	}
                    }
                }
                return value;
            }
            
            function pur5730_merchant_branch_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'country_code') {
                        set_required(record, name, require_record.get('branch_country_code'));
                    }
                    if (name == 'province') {
                        set_required(record, name, require_record.get('branch_province'));
                    }
                    if (name == 'city') {
                        set_required(record, name, require_record.get('branch_city'));
                    }
                    if (name == 'charge_person') {
                        set_required(record, name, require_record.get('branch_charge_person'));
                    }
                    if (name == 'telephone') {
                        set_required(record, name, require_record.get('branch_telephone'));
                    }
                    if (name == 'fax') {
                        set_required(record, name, require_record.get('branch_fax'));
                    }
                    if (name == 'email') {
                        set_required(record, name, require_record.get('branch_email'));
                    }
                    if (name == 'description') {
                        set_required(record, name, require_record.get('branch_description'));
                    }
                }
                return value;
            }
            
            function pur5730_merchant_authenticate_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'authenticate_type_desc') {
                        set_required(record, name, require_record.get('authenticate_type_code'));
                    }
                    if (name == 'authenticate_description') {
                        set_required(record, name, require_record.get('authenticate_description'));
                    }
                    if (name == 'authenticate_number') {
                        set_required(record, name, require_record.get('authenticate_number'));
                    }
                    if (name == 'authenticate_date') {
                        set_required(record, name, require_record.get('authenticate_date'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'certification_org') {
                        set_required(record, name, require_record.get('authenticate_certification_org'));
                    }
                }
                return value;
            }
            
            function pur5730_merchant_product_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'product_name') {
                        set_required(record, name, require_record.get('product_name'));
                    }
                    if (name == 'product_brand') {
                        set_required(record, name, require_record.get('product_brand'));
                    }
                    if (name == 'main_craftwork') {
                        set_required(record, name, require_record.get('product_main_craftwork'));
                    }
                    if (name == 'annual_yield') {
                        set_required(record, name, require_record.get('product_annual_yield'));
                    }
                    if (name == 'conformity_rate') {
                        set_required(record, name, require_record.get('product_conformity_rate'));
                    }
                    if (name == 'annual_turnover') {
                        set_required(record, name, require_record.get('product_annual_turnover'));
                    }
                    if (name == 'typical_customers') {
                        set_required(record, name, require_record.get('product_typical_customers'));
                    }
                    if (name == 'customer_satisf_per') {
                        set_required(record, name, require_record.get('product_customer_satisf_per'));
                    }
                    if (name == 'manufacturer') {
                        set_required(record, name, require_record.get('product_manufacturer'));
                    }
                    if (name == 'business_nature') {
                        set_required(record, name, require_record.get('product_business_nature'));
                    }
                    if (name == 'agency_level') {
                        set_required(record, name, require_record.get('product_agency_level'));
                    }
                    if (name == 'agency_region') {
                        set_required(record, name, require_record.get('product_agency_region'));
                    }
                    if (name == 'description') {
                        set_required(record, name, require_record.get('prodcut_description'));
                    }
                    if (name == 'c_attribute1') {
                        set_required(record, name, require_record.get('product_c_attribute1'));
                    }
                }
                return value;
            }
            
            function pur5730_merchant_fin_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'year_period') {
                        set_required(record, name, require_record.get('fin_year_period'));
                    }
                    if (name == 'revenue') {
                        set_required(record, name, require_record.get('fin_revenue'));
                    }
                    if (name == 'cost_of_sales') {
                        set_required(record, name, require_record.get('fin_cost_of_sales'));
                    }
                    if (name == 'operating_expense') {
                        set_required(record, name, require_record.get('fin_operating_expense'));
                    }
                    if (name == 'operating_profit') {
                        set_required(record, name, require_record.get('fin_operating_profit'));
                    }
                    if (name == 'invest_profit') {
                        set_required(record, name, require_record.get('fin_invest_profit'));
                    }
                    if (name == 'total_profit') {
                        set_required(record, name, require_record.get('fin_total_profit'));
                    }
                    if (name == 'income_tax') {
                        set_required(record, name, require_record.get('fin_income_tax'));
                    }
                    if (name == 'net_profit') {
                        set_required(record, name, require_record.get('fin_net_profit'));
                    }
                    if (name == 'current_assets') {
                        set_required(record, name, require_record.get('fin_current_assets'));
                    }
                    if (name == 'long_term_investment') {
                        set_required(record, name, require_record.get('fin_long_term_investment'));
                    }
                    if (name == 'fixed_assets') {
                        set_required(record, name, require_record.get('fin_fixed_assets'));
                    }
                    if (name == 'intangible_other_assets') {
                        set_required(record, name, require_record.get('fin_intangible_other_assets'));
                    }
                    if (name == 'defered_tax') {
                        set_required(record, name, require_record.get('fin_defered_tax'));
                    }
                    if (name == 'total_assets') {
                        set_required(record, name, require_record.get('fin_total_assets'));
                    }
                    if (name == 'current_liabilities') {
                        set_required(record, name, require_record.get('fin_current_liabilities'));
                    }
                    if (name == 'long_term_liabilities') {
                        set_required(record, name, require_record.get('fin_long_term_liabilities'));
                    }
                    if (name == 'total_liabilities') {
                        set_required(record, name, require_record.get('fin_total_liabilities'));
                    }
                    if (name == 'investors_equity') {
                        set_required(record, name, require_record.get('fin_investors_equity'));
                    }
                    if (name == 'ttl_liabi_and_investors') {
                        set_required(record, name, require_record.get('fin_ttl_liabi_and_investors'));
                    }
                    if (name == 'operating_cash') {
                        set_required(record, name, require_record.get('fin_operating_cash'));
                    }
                    if (name == 'investing_cash') {
                        set_required(record, name, require_record.get('fin_investing_cash'));
                    }
                    if (name == 'financing_cash') {
                        set_required(record, name, require_record.get('fin_financing_cash'));
                    }
                    if (name == 'exchange_cash') {
                        set_required(record, name, require_record.get('fin_exchange_cash'));
                    }
                    if (name == 'cash_and_equivalents') {
                        set_required(record, name, require_record.get('fin_cash_and_equivalents'));
                    }
                    if (name == 'final_cash') {
                        set_required(record, name, require_record.get('fin_final_cash'));
                    }
                }
                return value;
            }
            
            function pur5730_merchant_customer_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'customer_name') {
                        set_required(record, name, require_record.get('customer_name'));
                    }
                    if (name == 'cooperation_frequency_desc') {
                        set_required(record, name, require_record.get('customer_coop_frequency_code'));
                    }
                    if (name == 'belong_regions') {
                        set_required(record, name, require_record.get('customer_belong_regions'));
                    }
                    if (name == 'sales_volume') {
                        set_required(record, name, require_record.get('customer_sales_volume'));
                    }
                    if (name == 'sales') {
                        set_required(record, name, require_record.get('customer_sales'));
                    }
                    if (name == 'description') {
                        set_required(record, name, require_record.get('customer_description'));
                    }
                }
                return value;
            }
        ]]></script>
        <a:dataSets>
            <a:dataSet id="pur5730_vendor_survey_tabs_ds">
                <a:datas dataSource="pur5730_vendor_survey_tabs"/>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_require_ds">
                <a:datas dataSource="pur5730_vendor_survey_require"/>
            </a:dataSet>
            <a:dataSet id="pur5730_taxpayer_type_ds" lookupCode="FND_COM_SUP_INFOS.TAXPAYER_TYPE"/>
            <a:dataSet id="pur5730_merchant_list_ds">
                <a:datas>
                    <a:record name="是" code="Y"/>
                    <a:record name="否" code="N"/>
                    <a:record name="其他" code="OTHER"/>
                </a:datas>
            </a:dataSet>
            <a:dataSet id="pur5730_merchant_industry_rank_ds">
                <a:datas dataSource="pur5730_merchant_industry_rank"/>
            </a:dataSet>
            <a:dataSet id="pur5730_merchant_packing_methold_ds">
                <a:datas dataSource="pur5730_merchant_packing_methold"/>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_idType_ds" lookupCode="FND_COM_SUP_INFOS.ID_TYPE"/>
            <a:dataSet id="pur5730_vendor_survey_sex_ds" lookupCode="PUR_SEX"/>
            <a:dataSet id="pur5730_merchant_certification_ds">
                <a:datas dataSource="pur5730_merchant_certification"/>
            </a:dataSet>
            <a:dataSet id="pur5730_merchantCooperation_frequency_ds">
                <a:datas dataSource="pur5730_merchant_cooperation_frequency"/>
            </a:dataSet>
            <a:dataSet id="pur5730_merchant_attachment_type_ds">
                <a:datas dataSource="pur5730_attachment_type"/>
            </a:dataSet>
            <a:dataSet id="pur5730_survey_merchant_headers_ds" autoQuery="true" model="pur.PUR5730.pur5730_vendor_survey_headers" queryUrl="${/request/@context_path}/autocrud/pur.PUR5730.pur5730_vendor_survey_headers/query?survey_header_id=${/parameter/@survey_header_id}" submitUrl="${/request/@context_path}/modules/pur/PUR5730/pur5730_vendor_survey_receive_save.svc">
                <a:fields>
                    <a:field name="vendor_name" readOnly="true"/>
                    <a:field name="survey_header_id"/>
                    <a:field name="survey_number" readOnly="true"/>
                    <a:field name="created_by_desc" readOnly="true"/>
                    <a:field name="creation_date" readOnly="true"/>
                    <a:field name="submit_date" readOnly="true"/>
                    <a:field name="status" readOnly="true"/>
                    <a:field name="status_desc" readOnly="true"/>
                    <a:field name="require_business_group"/>
                    <a:field name="require_company_id"/>
                    <a:field name="company_code" readOnly="true"/>
                    <a:field name="company_name" readOnly="true"/>
                    <a:field name="vendor_code" readOnly="true"/>
                    <a:field name="supplier_business_group" readOnly="true"/>
                    <a:field name="supplier_company_id"/>
                    <a:field name="survey_type_code" readOnly="true"/>
                    <a:field name="vendor_short_name" readOnly="true"/>
                    <a:field name="survey_description" readOnly="true"/>
                </a:fields>
                <a:events>
                    <a:event name="submitsuccess" handler="pur5730_survey_merchant_headers_ds_submitsuccessFun"/>
                    <a:event name="load" handler="pur5730_survey_header_ds_load"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_basic_info_tab_ds" autoQuery="true" bindName="basic_info" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_basic_info_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_basic_info_tab/query?survey_header_id=${/parameter/@survey_header_id}">
                <a:fields>
                    <a:field name="basic_info_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                    <a:field name="survey_type_name"/>
                    <a:field name="tax_type_codes_bg_id"/>
                    <a:field name="tax_type_name" autoComplete="true" autoCompleteField="tax_type_code" lovHeight="500" lovService="pur.PUR5730.pur5730_tax_type_codes_bg_lov?require_business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.TAX_TYPE_NAME" title="PUR5730.TAX_TYPE_NAME">
                        <a:mapping>
                            <a:map from="tax_type_codes_bg_id" to="tax_type_codes_bg_id"/>
                            <a:map from="tax_type_name" to="tax_type_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="payment_method_id"/>
                    <a:field name="payment_method_name" autoComplete="true" autoCompleteField="payment_method_code" lovHeight="500" lovService="pur.PUR5730.pur5730_payment_methods_lov?require_business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.PAYMENT_METHOD_NAME" title="PUR5730.PAYMENT_METHOD_NAME">
                        <a:mapping>
                            <a:map from="payment_method_id" to="payment_method_id"/>
                            <a:map from="description" to="payment_method_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="payment_term_id"/>
                    <a:field name="payment_terms" lovHeight="500" lovService="fnd.FND9220.fnd_9220_payment_terms_lov?business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.PAYMENT_TERMS" title="PUR5730.PAYMENT_TERMS">
                        <a:mapping>
                            <a:map from="payment_term_id" to="payment_term_id"/>
                            <a:map from="description" to="payment_terms"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="chairman_board"/>
                    <a:field name="general_manager"/>
                    <a:field name="listed_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="listed_place"/>
                    <a:field name="listed_date"/>
                    <a:field name="staff_count"/>
                    <a:field name="management_staff_count"/>
                    <a:field name="technical_staff_count"/>
                    <a:field name="production_staff_count"/>
                    <a:field name="rd_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="rd_staff_count"/>
                    <a:field name="building_area"/>
                    <a:field name="industry_ranks"/>
                    <a:field name="industry_ranks_desc" displayField="flex_desc" options="pur5730_merchant_industry_rank_ds" returnField="industry_ranks" valueField="flex_value"/>
                    <a:field name="others"/>
                    <a:field name="international_top5"/>
                    <a:field name="domestic_top5"/>
                    <a:field name="iso9001_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="iso9001_date"/>
                    <a:field name="iso9002_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="iso9002_date"/>
                    <a:field name="iso14001_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="iso14001_date"/>
                    <a:field name="c_attribute2" displayField="code_value_name" options="pur5730_taxpayer_type_ds" returnField="taxpayer_type" valueField="code_value"/>
                    <a:field name="c_attribute8" displayField="name" options="pur5730_merchant_list_ds" returnField="c_attribute8_code" valueField="code"/>
                    <a:field name="c_attribute15" lovHeight="510" lovLabelWidth="100" lovService="fnd.FND9100.fnd_currency_code_lov" lovWidth="650" prompt="FND_COMPANY_REGISTED.REGISTERED_CURRENCY_CODE" title="CURRENCY_SELECTION">
                        <a:mapping>
                            <a:map from="currency_code" to="c_attribute15"/>
                        </a:mapping>
                    </a:field>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5730_vendor_survey_basic_info_ds_loadFun"/>
                </a:events>
            </a:dataSet>
            <!-- BUSINESS -->
            <a:dataSet id="pur5730_vendor_survey_merchant_business_tab_ds" autoQuery="true" bindName="business" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_business_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_business_tab/query?survey_header_id=${/parameter/@survey_header_id}">
                <a:fields>
                    <a:field name="business_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                    <a:field name="authorized_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <!-- <a:field name="packing_methold"/> -->
                    <!-- <a:field name="packing_methold_desc" displayField="flex_desc" options="pur5730_merchant_packing_methold_ds" returnField="packing_methold" valueField="flex_value"/> -->
                    <a:field name="main_distribution_channel"/>
                    <a:field name="land_transport_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="sea_transport_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="air_transport_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="descriptions"/>
                    <a:field name="warranty_date"/>
                    <!-- <a:field name="warranty_party"/> -->
                    <a:field name="field_maintenance_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="service_network_count"/>
                    <a:field name="service_network_address"/>
                    <a:field name="c_attribute13"/>
                    <a:field name="c_attribute14"/>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5730_vendor_survey_merchant_business_tab_ds_loadFun"/>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_business_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_merchant_contact_tab_ds" autoQuery="true" bindName="contact" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_contact_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_contact_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true" submitUrl="${/request/@context_path}/modules/pur/PUR5730/pur5730_vendor_survey_contact_save.svc">
                <a:fields>
                    <a:field name="contact_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="contact_name" requiredMessage="${l:FND_COM_SUP_CONTACTS.CONTACT_NAME}${l:PROMPT.INPUT}"/>
                    <a:field name="contact_sex"/>
                    <a:field name="contact_sex_name" displayField="code_value_name" options="pur5730_vendor_survey_sex_ds" returnField="contact_sex" valueField="code_value"/>
                    <a:field name="id_type"/>
                    <a:field name="id_type_name" displayField="code_value_name" options="pur5730_vendor_survey_idType_ds" returnField="id_type" valueField="code_value"/>
                    <a:field name="id_number"/>
                    <a:field name="department"/>
                    <a:field name="position"/>
                    <a:field name="mobile_phone" requiredMessage="${l:FND_COM_SUP_CONTACTS.MOBIL}${l:PROMPT.INPUT}"/>
                    <a:field name="telephone"/>
                    <a:field name="email"/>
                    <a:field name="default_contact_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="contact_comments"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitsuccess" handler="pur5730_vendor_survey_merchant_contact_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur7210_vendor_survey_merchant_address_tab_ds" autoQuery="true" bindName="address" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_address_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_address_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="address_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="country_code"/>
                    <a:field name="country_name" lovHeight="500" lovService="public.fnd_country_lov" lovWidth="500" requiredMessage="${l:FND_COM_SUP_ADDRESSES.COUNTRY_CODE}${l:PROMPT.INPUT}" title="FND_COM_SUP_ADDRESSES.COUNTRY_CODE_CHOOSE">
                        <a:mapping>
                            <a:map from="country_code" to="country_code"/>
                            <a:map from="country_name" to="country_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="province_id"/>
                    <a:field name="province_name" lovHeight="500" lovWidth="500" readOnly="true" title="FND_COM_SUP_ADDRESSES.PROVINCE_CHOOSE">
                        <a:mapping>
                            <a:map from="province_id" to="province_id"/>
                            <a:map from="province_name" to="province_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="city_id"/>
                    <a:field name="city_name" lovHeight="500" lovWidth="500" readOnly="true" title="FND_COM_SUP_ADDRESSES.CITY_CHOOSE">
                        <a:mapping>
                            <a:map from="city_id" to="city_id"/>
                            <a:map from="city_name" to="city_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="address_detail_desc" requiredMessage="${l:FND_COM_SUP_ADDRESSES.ADDRESS_DETAIL_ID}${l:PROMPT.INPUT}"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_address_submitSuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_merchant_account_tab_ds" autoQuery="true" bindName="account" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_account_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_account_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="account_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="bank_code" lovHeight="500" lovService="pur.public.csh_banks_lov" lovWidth="500" title="PUR5730.BANK_QUERY">
                        <a:mapping>
                            <a:map from="bank_code" to="bank_code"/>
                            <a:map from="bank_name" to="bank_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="bank_branch_name"/>
                    <a:field name="bank_account_name"/>
                    <a:field name="bank_account_number"/>
                    <a:field name="primary_account_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_account_tab_ds_submitSuccessFun"/>
                    <a:event name="update" handler="pur5730_vendor_survey_merchant_account_tab_ds_update"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur7210_vendor_survey_merchant_branch_tab_ds" autoQuery="true" bindName="branch" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_branch_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_branch_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="branch_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                    <a:field name="country_code"/>
                    <a:field name="country_name" lovHeight="500" lovService="public.fnd_country_lov" lovWidth="500" requiredMessage="${l:FND_COM_SUP_ADDRESSES.COUNTRY_CODE}${l:PROMPT.INPUT}" title="FND_COM_SUP_ADDRESSES.COUNTRY_CODE_CHOOSE">
                        <a:mapping>
                            <a:map from="country_code" to="country_code"/>
                            <a:map from="country_name" to="country_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="province_id"/>
                    <a:field name="province_name" lovHeight="500" lovWidth="500" readOnly="true" title="FND_COM_SUP_ADDRESSES.PROVINCE_CHOOSE">
                        <a:mapping>
                            <a:map from="province_id" to="province_id"/>
                            <a:map from="province_name" to="province_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="city_id"/>
                    <a:field name="city_name" lovHeight="500" lovWidth="500" readOnly="true" title="FND_COM_SUP_ADDRESSES.CITY_CHOOSE">
                        <a:mapping>
                            <a:map from="city_id" to="city_id"/>
                            <a:map from="city_name" to="city_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="charge_person"/>
                    <a:field name="telephone"/>
                    <a:field name="fax"/>
                    <a:field name="email"/>
                    <a:field name="description"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_branch_tab_ds_submitSuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_authenticate_tab_ds" autoQuery="true" bindName="authenticate" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_authenticate_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_authenticate_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="authenticate_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                    <a:field name="authenticate_type_code"/>
                    <a:field name="authenticate_type_desc" displayField="flex_desc" options="pur5730_merchant_certification_ds" returnField="authenticate_type_code" valueField="flex_value"/>
                    <a:field name="authenticate_description"/>
                    <a:field name="authenticate_number"/>
                    <a:field name="authenticate_date"/>
                    <a:field name="certification_org"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_authenticate_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur7210_vendor_survey_merchant_product_capacity_tab_ds" autoQuery="true" bindName="product_capacity" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_product_capacity_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_product_capacity_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="product_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                    <a:field name="product_name"/>
                    <a:field name="product_brand"/>
                    <a:field name="manufacturer"/>
                    <a:field name="business_nature"/>
                    <a:field name="agency_level"/>
                    <a:field name="agency_region"/>
                    <a:field name="description"/>
                    <a:field name="c_attribute1" autoComplete="true" autoCompleteField="category_code_name" lovHeight="480" lovService="pur.PUR7210.mtl_categories_user_defined_vl?business_group=${/parameter/@require_business_group}" lovWidth="510" title="PUR_REQUISITION_LNS.ITEM_CATEGORY_ID">
                        <a:mapping>
                            <a:map from="category_name" to="c_attribute1"/>
                            <a:map from="category_udf_id" to="item_category_id"/>
                            <a:map from="category_code" to="item_category_code"/>
                            <a:map from="quote_tmpl_flag" to="quote_tmpl_flag"/>
                        </a:mapping>
                    </a:field>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur7210_vendor_survey_merchant_product_capacity_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_merchant_customer_tab_ds" autoQuery="true" bindName="customer" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_customer_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_customer_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="customer_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                    <a:field name="customer_name"/>
                    <a:field name="cooperation_frequency_code"/>
                    <a:field name="cooperation_frequency_desc" displayField="flex_desc" options="pur5730_merchantCooperation_frequency_ds" returnField="cooperation_frequency_code" valueField="flex_value"/>
                    <a:field name="belong_regions"/>
                    <a:field name="sales_volume"/>
                    <a:field name="sales"/>
                    <a:field name="description"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_customer_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_merchant_finance_tab_ds" autoQuery="true" bindName="finance" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_finance_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_finance_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="20_MERCHANT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_finance_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_merchant_attachment_tab_ds" autoQuery="true" bindName="attachment" bindTarget="pur5730_survey_merchant_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_attachment_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_attachment_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectFunction="pur5730_vendor_survey_merchant_attachment_tab_ds_selectFun" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="attachment_id"/>
                    <a:field name="attachment_name"/>
                    <a:field name="attachment_type"/>
                    <a:field name="attachment_type_desc" displayField="flex_desc" options="pur5730_merchant_attachment_type_ds" required="true" returnField="attachment_type" valueField="flex_value"/>
                    <a:field name="required_flag" checkedValue="Y" defaultValue="N" readOnly="true" uncheckedValue="N"/>
                    <a:field name="invalid_date"/>
                    <a:field name="last_upload_date"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_merchant_attachment_tab_ds_submitSuccessFun"/>
                    <a:event name="update" handler="pur5730_vendor_survey_merchant_attachment_tab_ds_updateFun"/>
                </a:events>
            </a:dataSet>
        </a:dataSets>
        <a:defaultScreen>
            <a:screenTopToolbar>
                <a:toolbarButton id="pur5730_detail_merchant_saveBtn" click="pur5730_detail_merchant_saveFun" style="margin-left:20px;" text="HAP_SAVE" width="100"/>
                <a:toolbarButton id="pur5730_detail_merchant_submitBtn" click="pur5730_detail_merchant_submitFun" text="HAP_SUBMIT" width="100"/>
                <a:toolbarButton id="pur5730_detail_merchant_backBtn" click="pur5730_detail_merchant_returnFun" text="HAP_BACK" width="100"/>
            </a:screenTopToolbar>
            <a:fieldSet style="margin-top:10px;margin-left:2px;" title="PROMPT.BASIC_INFOMATION">
                <a:hBox labelWidth="120">
                    <a:textField name="survey_number" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5710.SURVEY_NUMBER" readOnly="true"/>
                    <a:textField name="survey_type_desc" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5710.SURVEY_TYPE_DESC" readOnly="true"/>
                    <a:textField name="status_desc" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5710.STATUS_DESC" readOnly="true"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="company_code" bindTarget="pur5730_survey_merchant_headers_ds" prompt="FND_COMPANIES.CLIENT_CODE"/>
                    <a:textField name="company_name" bindTarget="pur5730_survey_merchant_headers_ds" prompt="FND_COMPANIES.CLIENT_NAME" width="427"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="created_by_desc" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5710.CREATED_BY_DESC"/>
                    <a:textField name="creation_date" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5710.CREATION_DATE"/>
                    <a:textField name="submit_date" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5730.SUBMIT_DATE"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textArea name="survey_description" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5710.SURVEY_DESCRIPTION" width="702"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="survey_comment" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR5730.SURVEY_COMMENT" width="705"/>
                </a:hBox>
            </a:fieldSet>
            <a:fieldSet style="margin-top:10px;margin-left:2px;" title="PUR_VENDORS.SUPPLIER_INFORMATION">
                <a:hBox labelWidth="120">
                    <a:textField name="vendor_code" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR_VENDORS.VENDOR_CODE"/>
                    <a:textField name="vendor_name" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR_VENDORS.VENDOR_NAME" width="426"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="vendor_short_name" bindTarget="pur5730_survey_merchant_headers_ds" prompt="PUR_VENDORS.SHORT_NAME"/>
                    <a:textField name="c_attribute1" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE1"/>
                    <a:comboBox name="c_attribute2" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE2"/>
                </a:hBox>
            </a:fieldSet>
            <a:tabPanel id="vendor_survey_merchant_tabPanel_id" marginHeight="50" marginWidth="30">
                <a:tabs>
                    <a:tab id="vendor_survey_merchant_base_info_tab_id" prompt="PUR5710.ENTERPRISE_INFO" width="90">
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.OPERATION_SITUATION">
                            <a:hBox labelWidth="120">
                                <a:datePicker name="c_attribute3" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE3"/>
                                <a:textField name="c_attribute4" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE4"/>
                                <a:textField name="chairman_board" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.CHAIRMAN_BOARD" readOnly="false"/>
                                <a:textField name="general_manager" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.GENERAL_MANAGER" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:checkBox name="listed_flag" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.LISTED_FLAG" width="153"/>
                                <a:textField name="listed_place" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.LISTED_PLACE" readOnly="false"/>
                                <a:datePicker name="listed_date" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.LISTED_DATE" readOnly="false" renderer="Aurora.formatDate"/>
                                <a:textField name="c_attribute5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE5"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:label name="organization" id="pur5730_vendor_survey_merchant_uploadBtu" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.ORGANIZATION" renderer="pur5730_vendor_survey_merchant_rendererFun" width="120"/>
                                <img id="pur5730_vendor_survey_merchant_uploadBtu_img" alt="有附件" height="20" src="${/request/@context_path}/images/touch/report.png" title="有附件" width="20"/>
                                <a:label name="stock_right" id="pur5730_vendor_survey_merchant_bond_uploadBtu" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="OWNERSHIP_STRUCTURE" renderer="pur5730_vendor_survey_merchant_rendererFun" width="120"/>
                                <img id="pur5730_vendor_survey_merchant_bond_uploadBtu_img" alt="有附件" height="20" src="${/request/@context_path}/images/touch/report.png" title="有附件" width="20"/>
                            </a:hBox>
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.COMPANY_SCALE">
                            <a:hBox labelWidth="120">
                                <a:numberField name="staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.STAFF_COUNT" readOnly="false"/>
                                <a:numberField name="management_staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.MANAGEMENT_STAFF_COUNT" readOnly="false"/>
                                <a:numberField name="technical_staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.TECHNICAL_STAFF_COUNT" readOnly="false"/>
                                <a:textField name="building_area" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.BUILDING_AREA" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textField name="c_attribute6" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" emptyText="PUR2510.BASIC_C_ATTRIBUTE6_EMPTY_TEXT" prompt="PUR2510.BASIC_C_ATTRIBUTE6" width="450"/>
                            </a:hBox>
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="商务/成本">
                            <a:hBox labelWidth="150">
                                <a:lov name="tax_type_name" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR5730.TAX_TYPE_NAME"/>
                                <a:lov name="c_attribute15" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="ACP_BILL_SOURCE.CURRENCY_CODE"/>
                                <a:lov name="payment_method_name" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR5730.PAYMENT_METHOD_NAME"/>
                                <a:lov name="payment_terms" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR5730.PAYMENT_TERMS"/>
                                <a:checkBox name="c_attribute7" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE7" width="153"/>
                            </a:hBox>
                            <a:hBox labelWidth="150">
                                <a:comboBox name="c_attribute8" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE8"/>
                                <a:textField name="c_attribute9" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE9" width="800"/>
                            </a:hBox>
                            <a:hBox labelWidth="150">
                                <a:textField name="c_attribute10" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE10"/>
                                <a:textField name="c_attribute11" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE11" width="800"/>
                            </a:hBox>
                            <a:hBox labelWidth="150">
                                <a:textArea name="c_attribute12" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE12" width="450"/>
                                <a:textArea name="c_attribute13" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE13" width="490"/>
                            </a:hBox>
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.OVERALL_STRENGTH">
                            <a:hBox labelWidth="120">
                                <a:comboBox name="industry_ranks_desc" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.INDUSTRY_RANKS_DESC" readOnly="false"/>
                                <a:textField name="others" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.INDUSTRY_RANKS_DESC" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="international_top5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" emptyText="VENDOR_SURVEY_TAB.ENTER_TOP_FIVE_INTERNATIONAL_WITHIN_100_WORD" prompt="VENDOR_SURVEY_TAB.INTERNATIONAL_TOP5" width="427"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="domestic_top5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" emptyText="VENDOR_SURVEY_TAB.ENTER_TOP_FIVE_DOMESTIC_WITHIN_100_WORD" prompt="VENDOR_SURVEY_TAB.DOMESTIC_TOP5" readOnly="false" width="427"/>
                            </a:hBox>
                        </a:fieldSet>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_business_tab_id" prompt="PUR5710.BUSINESS_INFO" width="90">
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.AGENCY_DISTRIBUTE_CONDITION">
                            <a:hBox labelWidth="120">
                                <a:checkBox name="authorized_flag" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.AUTHORIZED_FLAG" width="153"/>
                                <!-- <a:comboBox name="packing_methold_desc" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.PACKING_METHOLD"/> -->
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="main_distribution_channel" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" emptyText="PUR2510.MAIN_DISTRIBUTION_CHANNEL_EMPTY_TEXT" prompt="VENDOR_SURVEY_TAB.MAIN_DISTRIBUTION_CHANNEL" width="427"/>
                            </a:hBox>
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.DELIVERY_METHOD">
                            <a:hBox labelWidth="120">
                                <a:checkBox name="land_transport_flag" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.LAND_TRANSPORT_FLAG" width="153"/>
                                <a:checkBox name="sea_transport_flag" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.SEA_TRANSPORT_FLAG" width="153"/>
                                <a:checkBox name="air_transport_flag" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.AIR_TRANSPORT_FLAG" width="153"/>
                                <a:textField name="c_attribute1" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE1"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textField name="c_attribute2" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE2"/>
                                <a:textField name="c_attribute3" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE3"/>
                                <a:textField name="c_attribute4" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE4"/>
                            </a:hBox>
                            <!-- <a:hBox labelWidth="120">
                                <a:textField name="descriptions" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.DESCRIPTION"/>
                            </a:hBox> -->
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.AFTER_SALE_SERVICE">
                            <a:hBox labelWidth="120">
                                <a:textField name="warranty_date" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.WARRANTY_DATE" readOnly="false"/>
                                <a:checkBox name="field_maintenance_flag" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.FIELD_MAINTENANCE_FLAG" width="153"/>
                                <a:textField name="c_attribute5" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE5"/>
                                <a:numberField name="service_network_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="VENDOR_SURVEY_TAB.AFTER_SERVICE_POINT_QUANTITY"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textField name="service_network_address" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" emptyText="VENDOR_SURVEY_TAB.ENTER_SERVICE_POINT_WITHIN_500_WORD" prompt="VENDOR_SURVEY_TAB.SERVICE_NETWORK_ADDRESS"/>
                                <a:checkBox name="c_attribute6" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE6" width="153"/>
                                <a:checkBox name="c_attribute7" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE7" width="153"/>
                                <a:checkBox name="c_attribute8" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE8" width="153"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="c_attribute9" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE9" width="420"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="c_attribute10" bindTarget="pur5730_vendor_survey_merchant_business_tab_ds" prompt="PUR2510.BU_C_ATTRIBUTE10" width="420"/>
                            </a:hBox>
                        </a:fieldSet>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_contact_tab_id" prompt="FND9220.CONTACT_INFORMATION" width="90">
                        <a:grid bindTarget="pur5730_vendor_survey_merchant_contact_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:label width="10"/>
                                <a:button click="pur5730_vendor_survey_merchant_contact_tab_saveFun" text="PROMPT.SAVE"/>
                                <a:label width="10"/>
                                <a:button click="pur5730_vendor_survey_merchant_contact_tab_deleteFun" text="PROMPT.DELETE"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="contact_name" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.CONTACT_NAME" renderer="pur5730_merchant_contact_grid_renderer" width="65"/>
                                <a:column name="contact_sex_name" align="left" editor="pur5730_merchant_contact_cbx" prompt="FND_COM_SUP_CONTACTS.SEX" renderer="pur5730_merchant_contact_grid_renderer" width="40"/>
                                <a:column name="id_type_name" align="left" editor="pur5730_merchant_contact_cbx" prompt="FND_COM_SUP_CONTACTS.ID_TYPE" renderer="pur5730_merchant_contact_grid_renderer" width="60"/>
                                <a:column name="id_number" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.ID_NUMBER" renderer="pur5730_merchant_contact_grid_renderer" width="120"/>
                                <a:column name="department" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.DEPARTMENT" renderer="pur5730_merchant_contact_grid_renderer" width="80"/>
                                <a:column name="position" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.POSITION" renderer="pur5730_merchant_contact_grid_renderer" width="80"/>
                                <a:column name="mobile_phone" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.MOBIL" renderer="pur5730_merchant_contact_grid_renderer" width="100"/>
                                <a:column name="c_attribute1" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.FAX_NUMBER" renderer="pur5730_merchant_contact_grid_renderer" width="100"/>
                                <a:column name="telephone" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.PHONE" renderer="pur5730_merchant_contact_grid_renderer" width="100"/>
                                <a:column name="email" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.EMAIL" renderer="pur5730_merchant_contact_grid_renderer" width="120"/>
                                <a:column name="default_contact_flag" align="center" editor="pur5730_merchant_contact_cb" prompt="FND_COM_SUP_CONTACTS.DEFAULT_CONTACT_FLAG" renderer="pur5730_merchant_contact_grid_renderer" width="65"/>
                                <a:column name="contact_comments" align="left" editor="pur5730_merchant_contact_tf" prompt="FND_COM_SUP_CONTACTS.CONTACT_COMMENTS" renderer="pur5730_merchant_contact_grid_renderer" width="90"/>
                                <a:column name="enabled_flag" align="center" editor="pur5730_merchant_contact_cb" prompt="FND_COM_SUP_CONTACTS.ENABLED_FLAG" renderer="pur5730_merchant_contact_grid_renderer" width="40"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_merchant_contact_tf"/>
                                <a:comboBox id="pur5730_merchant_contact_cbx"/>
                                <a:checkBox id="pur5730_merchant_contact_cb"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_address_tab_id" prompt="FND9220.ADDRESS_INFORMATION" width="90">
                        <a:grid bindTarget="pur7210_vendor_survey_merchant_address_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="country_name" align="left" editor="pur5730_merchant_lov" prompt="FND_COM_SUP_ADDRESSES.COUNTRY_CODE" renderer="pur5730_merchant_address_grid_renderer" width="120"/>
                                <a:column name="province_name" align="left" editor="pur5730_merchant_lov" prompt="FND_COM_SUP_ADDRESSES.PROVINCE_ID" renderer="pur5730_merchant_address_grid_renderer" width="100"/>
                                <a:column name="city_name" align="left" editor="pur5730_merchant_lov" prompt="FND_COM_SUP_ADDRESSES.CITY_ID" renderer="pur5730_merchant_address_grid_renderer" width="100"/>
                                <a:column name="address_detail_desc" align="left" editor="pur5730_merchant_tf" prompt="FND_COM_SUP_ADDRESSES.ADDRESS_DETAIL_ID" renderer="pur5730_merchant_address_grid_renderer" width="150"/>
                                <a:column name="post_code" align="left" editor="pur5730_merchant_tf" prompt="FND_COM_SUP_ADDRESSES.POST_CODE" renderer="pur5730_merchant_address_grid_renderer" width="60"/>
                                <a:column name="address_comments" align="left" editor="pur5730_merchant_tf" prompt="FND_COM_SUP_ADDRESSES.ADDRESS_COMMENTS" renderer="pur5730_merchant_address_grid_renderer" width="150"/>
                                <a:column name="enabled_flag" align="center" editor="pur5730_merchant_cb" prompt="FND_COM_SUP_ADDRESSES.ENABLED_FLAG" renderer="pur5730_merchant_address_grid_renderer" width="60"/>
                            </a:columns>
                            <a:editors>
                                <a:lov id="pur5730_merchant_lov"/>
                                <a:textField id="pur5730_merchant_tf"/>
                                <a:checkBox id="pur5730_merchant_cb"/>
                            </a:editors>
                            <a:events>
                                <a:event name="cellclick" handler="pur5730_merchant_addressesCellClick_fun"/>
                            </a:events>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_account_tab_id" prompt="FND9220.ACCOUNT_INFORMATION" width="90">
                        <a:grid bindTarget="pur5730_vendor_survey_merchant_account_tab_ds" marginHeight="280" marginWidth="40" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button click="pur5730_vendorSurveyAccounts_saveFun" text="PROMPT.SAVE"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="bank_code" align="center" editor="pur5730_merchant_account_lov" prompt="FND_COM_SUP_ACCOUNTS.BANK_CODE" renderer="pur5730_merchant_account_grid_renderer" width="60"/>
                                <a:column name="bank_name" align="left" prompt="FND_COM_SUP_ACCOUNTS.BANK_NAME" renderer="pur5730_merchant_account_grid_renderer" width="80"/>
                                <a:column name="c_attribute1" align="left" editor="pur5730_merchant_account_tf" prompt="FND_COM_SUP_ACCOUNTS.BANK_LINE_NUMBER" renderer="pur5730_merchant_account_grid_renderer" width="120"/>
                                <a:column name="bank_branch_name" align="left" editor="pur5730_merchant_account_tf" prompt="FND_COM_SUP_ACCOUNTS.OPENING_BANK_NAME" renderer="pur5730_merchant_account_grid_renderer" width="120"/>
                                <a:column name="bank_account_name" align="left" editor="pur5730_merchant_account_tf" prompt="FND_COM_SUP_ACCOUNTS.BANK_ACCOUNT_NAME" renderer="pur5730_merchant_account_grid_renderer" width="100"/>
                                <a:column name="bank_account_number" align="left" editor="pur5730_merchant_account_tf" prompt="FND_COM_SUP_ACCOUNTS.BANK_ACCOUNT" renderer="pur5730_merchant_account_grid_renderer" width="120"/>
                                <a:column name="primary_account_flag" align="center" editor="pur5730_merchant_account_cb" prompt="FND_COM_SUP_ACCOUNTS.PRIMARY_ACCOUNT_FLAG" renderer="pur5730_merchant_account_grid_renderer" width="60"/>
                                <a:column name="enabled_flag" align="center" editor="pur5730_merchant_account_cb" prompt="FND_COM_SUP_ACCOUNTS.ENABLED_FLAG" renderer="pur5730_merchant_account_grid_renderer" width="60"/>
                            </a:columns>
                            <a:editors>
                                <a:lov id="pur5730_merchant_account_lov"/>
                                <a:textField id="pur5730_merchant_account_tf"/>
                                <a:checkBox id="pur5730_merchant_account_cb"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_branch_tab_id" prompt="PUR_VENDORS.BRANCH" width="90">
                        <a:grid bindTarget="pur7210_vendor_survey_merchant_branch_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="country_name" align="center" editor="pur5730_merchant_branch_lov" prompt="VENDOR_SURVEY_TAB.COUNTRY_NAME" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="province_name" align="center" editor="pur5730_merchant_branch_lov" prompt="FND_COM_SUP_ADDRESSES.REGION" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="city_name" align="center" editor="pur5730_merchant_branch_lov" prompt="FND_COM_SUP_ADDRESSES.CITY" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="charge_person" align="left" editor="pur5730_merchant_branch_tf" prompt="VENDOR_SURVEY_TAB.CHARGE_PERSON" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="telephone" align="left" editor="pur5730_merchant_branch_tf" prompt="FND_COMPANIES.TELEPHONE" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="fax" align="left" editor="pur5730_merchant_branch_tf" prompt="PUR_VENDORS.FAX_NO" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="email" align="left" editor="pur5730_merchant_branch_tf" prompt="VENDOR_SURVEY_TAB.EMAIL" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                                <a:column name="description" align="left" editor="pur5730_merchant_branch_tf" prompt="VENDOR_SURVEY_TAB.DESCRIPTION" renderer="pur5730_merchant_branch_grid_renderer" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:lov id="pur5730_merchant_branch_lov"/>
                                <a:textField id="pur5730_merchant_branch_tf"/>
                            </a:editors>
                            <a:events>
                                <a:event name="cellclick" handler="pur5730_branchCellClick_fun"/>
                            </a:events>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_authenticate_tab_id" prompt="PUR5710.MANAGEMENT_SYSTEM_INFO" width="90">
                        <a:grid bindTarget="pur5730_vendor_survey_authenticate_tab_ds" marginHeight="360" marginWidth="45" navBar="true" width="1060">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="authenticate_type_desc" align="center" editor="fnd9220_MerchantAuthenticate_cbb" prompt="VENDOR_SURVEY_TAB.AUTHENTICATE_TYPE_DESC" renderer="pur5730_merchant_authenticate_grid_renderer" width="90"/>
                                <a:column name="authenticate_description" align="left" editor="fnd9220_MerchantAuthenticate_tf" prompt="VENDOR_SURVEY_TAB.AUTHENTICATE_DESCRIPTION" renderer="pur5730_merchant_authenticate_grid_renderer" width="150"/>
                                <a:column name="authenticate_number" align="left" editor="fnd9220_MerchantAuthenticate_tf" prompt="VENDOR_SURVEY_TAB.AUTHENTICATE_NUMBER" renderer="pur5730_merchant_authenticate_grid_renderer" width="90"/>
                                <a:column name="authenticate_date" align="center" editor="fnd9220_MerchantAuthenticate_dp" prompt="VENDOR_SURVEY_TAB.AUTHENTICATE_DATE" renderer="pur5730_merchant_authenticate_grid_renderer" width="100"/>
                                <a:column name="certification_org" align="left" editor="fnd9220_MerchantAuthenticate_tf" prompt="VENDOR_SURVEY_TAB.CERTIFICATION_ORG" renderer="pur5730_merchant_authenticate_grid_renderer" width="150"/>
                            </a:columns>
                            <a:editors>
                                <a:comboBox id="fnd9220_MerchantAuthenticate_cbb"/>
                                <a:textField id="fnd9220_MerchantAuthenticate_tf"/>
                                <a:datePicker id="fnd9220_MerchantAuthenticate_dp"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_product_capacity_tab_id" prompt="PUR5710.PRODUCT_INFO" width="90">
                        <a:grid autoAppend="false" bindTarget="pur7210_vendor_survey_merchant_product_capacity_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1080">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="c_attribute1" align="left" editor="pur5730_merchant_product_capacity_lov" prompt="PUR2510.PRODUCT_C_ATTRIBUTE1" renderer="pur5730_merchant_product_grid_renderer" width="100"/>
                                <a:column name="product_name" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.PRODUCT_NAME" renderer="pur5730_merchant_product_grid_renderer" width="150"/>
                                <a:column name="product_brand" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.PRODUCT_BRAND" renderer="pur5730_merchant_product_grid_renderer" width="120"/>
                                <a:column name="manufacturer" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.MERCHANT" renderer="pur5730_merchant_product_grid_renderer" width="150"/>
                                <a:column name="business_nature" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.BUSINESS_NATURE" renderer="pur5730_merchant_product_grid_renderer" width="120"/>
                                <a:column name="agency_level" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.AGENCY_LEVEL" renderer="pur5730_merchant_product_grid_renderer" width="90"/>
                                <a:column name="agency_region" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.AGENCY_REGION" renderer="pur5730_merchant_product_grid_renderer" width="150"/>
                                <a:column name="description" align="left" editor="pur5730_merchant_product_capacity_tf" prompt="VENDOR_SURVEY_TAB.DESCRIPTION" renderer="pur5730_merchant_product_grid_renderer" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_merchant_product_capacity_tf"/>
                                <a:numberField id="pur5730_merchant_product_capacity_nf"/>
                                <a:comboBox id="pur5730_merchant_product_capacity_cbb"/>
                                <a:lov id="pur5730_merchant_product_capacity_lov"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_custome_tab_id" prompt="PUR5710.CLIENT_INFO" width="90">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_merchant_customer_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="customer_name" align="left" editor="pur5730_merchant_customer_tf" prompt="VENDOR_SURVEY_TAB.CUSTOMER_NAME" renderer="pur5730_merchant_customer_grid_renderer" width="150"/>
                                <a:column name="cooperation_frequency_desc" align="center" editor="pur5730_merchant_customer_cbb" prompt="VENDOR_SURVEY_TAB.COOPERATION_FREQUENCY_DESC" renderer="pur5730_merchant_customer_grid_renderer" width="90"/>
                                <a:column name="belong_regions" align="left" editor="pur5730_merchant_customer_tf" prompt="VENDOR_SURVEY_TAB.BELONG_REGIONS" renderer="pur5730_merchant_customer_grid_renderer" width="120"/>
                                <a:column name="sales" align="right" editor="pur5730_merchant_customer_tf" prompt="VENDOR_SURVEY_TAB.SALES_NUMBER" renderer="pur5730_merchant_customer_grid_renderer" width="90"/>
                                <a:column name="sales_volume" align="right" editor="pur5730_merchant_customer_nf" prompt="VENDOR_SURVEY_TAB.SALES_PRICE" renderer="pur5730_merchant_customer_grid_renderer" width="120"/>
                                <a:column name="description" align="left" editor="pur5730_merchant_customer_tf" prompt="VENDOR_SURVEY_TAB.DESCRIPTION" renderer="pur5730_merchant_customer_grid_renderer" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_merchant_customer_tf"/>
                                <a:comboBox id="pur5730_merchant_customer_cbb"/>
                                <a:numberField id="pur5730_merchant_customer_nf"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_finance_tab_id" prompt="财务信息" width="90">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_merchant_finance_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="year_period" align="center" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.YEAR_PERIOD" renderer="pur5730_merchant_fin_grid_renderer" width="50"/>
                                <a:column name="total_assets" align="center" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.TOTAL_ASSETS" renderer="pur5730_merchant_fin_grid_renderer" width="100"/>
                                <a:column name="total_liabilities" align="center" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.TOTAL_LIABILITIES" renderer="pur5730_merchant_fin_grid_renderer" width="100"/>
                                <a:column name="current_assets" align="center" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.CURRENT_ASSETS" renderer="pur5730_merchant_fin_grid_renderer" width="100"/>
                                <a:column name="current_liabilities" align="center" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.CURRENT_LIABILITIES" renderer="pur5730_merchant_fin_grid_renderer" width="100"/>
                                <a:column name="revenue" align="center" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.REVENUE" renderer="pur5730_merchant_fin_grid_renderer" width="100"/>
                                <a:column name="net_profit" align="right" editor="pur5730_merchant_finance_nf" prompt="FND_COM_SUP_FINANCES.NET_PROFIT" renderer="pur5730_merchant_fin_grid_renderer" width="100"/>
                                <a:column name="asset_liability_ratio" align="right" prompt="PUR_REGISTER_VENDOR_REJECT_DETAIL.ASSET_LIABILITY_RATIO" renderer="pur5730_merchant_fin_grid_renderer" width="50"/>
                                <a:column name="current_ratio" align="right" prompt="PUR_REGISTER_VENDOR_REJECT_DETAIL.CURRENT_RATIO" renderer="pur5730_merchant_fin_grid_renderer" width="50"/>
                                <a:column name="total_asset_earning _ratio" align="right" prompt="PUR_REGISTER_VENDOR_REJECT_DETAIL.ROE" renderer="pur5730_merchant_fin_grid_renderer" width="50"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_merchant_finance_tf"/>
                                <a:comboBox id="pur5730_merchant_finance_cbb"/>
                                <a:numberField id="pur5730_merchant_finance_nf"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_merchant_attachment_tab_id" prompt="FND9220.ATTACHMENT_INFORMATION" width="90">
                        <a:grid bindTarget="pur5730_vendor_survey_merchant_attachment_tab_ds" marginHeight="280" marginWidth="40" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="clear"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="attachment_type_desc" align="center" editorFunction="pur5730_survey_atm_type_editorFun" prompt="VENDOR_SURVEY_TAB.ATTACHMENT_TYPE_DESC" width="100"/>
                                <a:column name="attachment_name" editor="pur5730_vendor_survey_merchant_attachment_tab_tf" prompt="VENDOR_SURVEY_TAB.ATTACHMENT_NAME" width="200"/>
                                <a:column name="required_flag" align="center" prompt="VENDOR_SURVEY_TAB.REQUIRED_FLAG" width="80"/>
                                <a:column name="invalid_date" align="center" editor="pur5730_vendor_survey_merchant_attachment_tab_dp" prompt="VENDOR_SURVEY_TAB.INVALID_DATE" renderer="Aurora.formatDate" width="100"/>
                                <a:column name="last_upload_date" align="center" prompt="VENDOR_SURVEY_TAB.LAST_UPLOAD_DATE" width="130"/>
                                <a:column name="attachment_id" align="left" prompt="PROMPT.BUYER_ATTACHMENT" renderer="pur5730_survey_atm_query_rendererFun" width="70"/>
                                <a:column name="attachment_id" align="left" prompt="PROMPT.VENDOR_ATTACHMENT" renderer="pur5730_survey_atm_upload_rendererFun" width="70"/>
                            </a:columns>
                            <a:editors>
                                <a:comboBox id="pur5730_vendor_survey_merchant_attachment_tab_cbb"/>
                                <a:textField id="pur5730_vendor_survey_merchant_attachment_tab_tf"/>
                                <a:datePicker id="pur5730_vendor_survey_merchant_attachment_tab_dp"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                </a:tabs>
            </a:tabPanel>
        </a:defaultScreen>
        <script><![CDATA[
            function diaplayTab(id) {
                var ui = document.getElementById(id);
                ui.style.display = "none";
            }
            
            function init() {
                var tab_records = $('pur5730_vendor_survey_tabs_ds').getAll();
                var length = tab_records.length - 1;
                for (var i = 0;i < length;i++) {
                    if (tab_records[length - i].get('survey_tab_code') == '90_ATTACHMENT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_attachment_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '85_FINANCE') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_finance_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '80_CUSTOMER') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_custome_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '50_PRODUCT_CAPACITY') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_product_capacity_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '40_AUTHENTICATE') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_authenticate_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '30_BRANCH') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_branch_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '28_ACCOUNT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_account_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '25_ADDRESS') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_address_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '23_CONTACT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_contact_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '20_BUSINESS') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_business_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '10_BASE_INFO') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_merchant_base_info_tab_id");
                        }
                    }
                }
            }
            
            init();
        ]]></script>
    </a:view>
</a:screen>
