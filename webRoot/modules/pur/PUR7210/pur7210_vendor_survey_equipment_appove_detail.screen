<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: lianghuihao 
    $Date: 2018-8-9 下午9:36:54  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application" trace="true">
    <a:init-procedure>
        <a:model-query defaultWhereClause="survey_header_id=${/parameter/@survey_header_id}" model="pur.PUR5730.pur5730_vendor_survey_atm_load" rootPath="pur5730_vendor_survey_atm"/>
        <a:model-query model="pur.PUR7210.pur7210_vendor_survey_tabs" rootPath="pur5730_vendor_survey_tabs"/>
        <a:model-query model="pur.PUR7210.pur7210_vendor_survey_require" rootPath="pur5730_vendor_survey_require"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_INDUSTRY_RANKS&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_manufacturer_industry_rank"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_CERTIFICATION&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_manufacturer_certification"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_DEVICE_TYPE&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_manufacturer_device_type"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;KW_PAYMENT_METHOD&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_manufacturer_payment_method"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_CUSTOMER_SATISFACTION&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_manufacturer_satisfaction"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_COOPERATION_FREQUENCY&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_manufacturer_cooperation_frequency"/>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;PUR_QUESTIONARY_ATM_TYPE_CODE&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5730_attachment_type"/>
        <a:model-query defaultWhereClause="v.imp_template_code = &apos;GC_EQUIPMENT_DETAIL_IMPORT&apos;" fetchAll="true" model="public.get_fnd_excel_import_template" rootPath="import_template"/>
    </a:init-procedure>
    <a:view>
        <a:link id="pur5730_vendor_survey_manufacturer_contact_tab_save_link" url="${/request/@context_path}/modules/pur/PUR5730/pur5730_vendor_survey_contact_save.svc"/>
        <a:link id="pur5730_survey_manufacturer_submit_link" model="pur.PUR5730.pur5730_vendor_survey_query" modelaction="execute"/>
        <a:link id="pur5730_attachment_file_query_link" url="${/request/@context_path}/modules/pur/PUR5730/pur5730_queryFile.screen"/>
        <a:link id="pur5730_attachment_file_upload_link" url="${/request/@context_path}/modules/pur/PUR5730/pur5730_uploadFile.screen"/>
        <a:link id="pur5730_vendorSurveyAccountSave_link" url="${/request/@context_path}/modules/pur/PUR5730/pur_5730_vendor_survey_account_save.svc"/>
        <a:link id="pur5730_vendor_survey_manu_atm_link" model="pur.PUR5730.pur5730_vendor_survey_atm_query" modelaction="query"/>
        <a:link id="pur5730_basic_info_save_link" model="pur.PUR7210.pur7210_vendor_survey_basic_info_tab" modelaction="insert"/>
        <a:link id="pur5730_basic_info_update_link" model="pur.PUR7210.pur7210_vendor_survey_basic_info_tab" modelaction="update"/>
        <a:link id="pur5730_equipment_import_upload_link" url="${/request/@context_path}/modules/pur/PUR5730/pur_rfx_equipment_import_upload.screen"/>
        <style><![CDATA[
        .tishi{
                color:#f00;
                font-size: 15px;
            }
         .tishi2{
                color:#f00;
                font-size: 15px;
                padding-left:30px;
            }   
            
        .div{
            width:150px;
        }
        ]]></style>
        <script><![CDATA[
        
            
            
            //模版导入
            function pur5130_itemImportLoad() {
                
                var batch_id = '${/session/@session_id}';
                var random_varchar = '${/parameter/@random_varchar}';
                var survey_header_id = '${/parameter/@survey_header_id}';
                var require_business_group = '${/parameter/@require_business_group}';
            
                //Aurora.showMessage('${l:PROMPT}', '调试1：'+survey_header_id, null); 
            
                new Aurora.Window({
                    id: 'pur5730_equipment_import_upload_link_window',
                    url: $('pur5730_equipment_import_upload_link').getUrl() + '?batch_id=' + batch_id + '&random_varchar=' + random_varchar+'&survey_header_id='+survey_header_id+'&require_business_group='+require_business_group,
                    title: '${l:PROMPT.EXCEL_IMPORT_FILE}',
                    width: 450,
                    height: 270
                });
                
            }
            
            var date = new Date();
            var year = date.getFullYear();
            
            function pur51401_compareDate(start, end) {
                if (typeof(start) == 'string') {
                    start = new Date(start.replace(/-/g, "/"));
                }
            
                if (typeof(end) == 'string') {
                    end = new Date(end.replace(/-/g, "/"));
                }
            
                if (start > end) {
                    return false;
                }
                return true;
            }
            
            //成立日期校验
            
            function pur51401_founding_dateValidator(record, name, value) {
                if (name == 'c_attribute3') {
                    var c_attribute3 = record.get('c_attribute3');
                    var end = new Date();
            
                    if (!pur51401_compareDate(c_attribute3, end)) {
                        return '成立日期不能晚于当前日期！';
                    }
                    return true;
                }
            }
            
            function pur5730_detail_manufacturer_returnFun() {
                if ($('pur7210_vendor_survey_detail_win')) {
                    $('pur7210_vendor_survey_detail_win').close();
                } else {
                    window.close();
                }
            
            }
            
            function check_require_ds_is_empty() {
                if ($('pur5730_vendor_survey_require_ds').getAll().length > 0) {
                    return false;
                } else {
                    return true;
                }
            }
            
            function set_required(record, name, value) {
                if (value == 'Y') {
                    record.getField(name).setRequired(true);
                }
            }
            
            function pur5730_vendor_survey_basic_info_ds_loadFun(dataSet) {
                if (dataSet.getAll().length == 0) {
                    dataSet.create();
                }
            
                //获取是否必输的配置
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    var set_record = dataSet.getAt(0);
            
                    set_required(set_record, 'delivery_time', require_record.get('basic_delivery_time'));
                    set_required(set_record, 'tax_type_name', require_record.get('basic_tax_type_codes_bg'));
                    set_required(set_record, 'payment_method_name', require_record.get('basic_payment_method'));
                    //set_required(set_record, 'payment_terms', require_record.get('basic_payment_term'));
                    set_required(set_record, 'chairman_board', require_record.get('basic_chairman_board'));
                    set_required(set_record, 'chairman_contact', require_record.get('basic_chairman_contact'));
                    set_required(set_record, 'general_manager_contact', require_record.get('basic_general_manager_contact'));
                    set_required(set_record, 'general_manager', require_record.get('basic_general_manager'));
                    set_required(set_record, 'annual_turnover', require_record.get('basic_annual_turnover'));
                    set_required(set_record, 'first_stock_name', require_record.get('basic_first_stock_name'));
                    set_required(set_record, 'first_stock_percent', require_record.get('basic_first_stock_percent'));
                    set_required(set_record, 'sec_stock_name', require_record.get('basic_sec_stock_name'));
                    set_required(set_record, 'sec_stock_percent', require_record.get('basic_sec_stock_percent'));
                    set_required(set_record, 'staff_count', require_record.get('basic_staff_count'));
                    set_required(set_record, 'management_staff_count', require_record.get('basic_management_staff_count'));
                    set_required(set_record, 'technical_staff_count', require_record.get('basic_technical_staff_count'));
                    set_required(set_record, 'production_staff_count', require_record.get('basic_production_staff_count'));
                    //set_required(set_record, 'rd_flag', require_record.get('basic_rd_flag'));
                    //set_required(set_record, 'rd_staff_count', require_record.get('basic_rd_staff_count'));
                    set_required(set_record, 'building_area', require_record.get('basic_building_area'));
                    set_required(set_record, 'industry_ranks_desc', require_record.get('basic_industry_ranks'));
                    set_required(set_record, 'others', require_record.get('basic_others'));
                    set_required(set_record, 'international_top5', require_record.get('basic_international_top5'));
                    set_required(set_record, 'domestic_top5', require_record.get('basic_domestic_top5'));
                    set_required(set_record, 'c_attribute1', require_record.get('basic_c_attribute1'));
                    set_required(set_record, 'c_attribute2', require_record.get('basic_c_attribute2'));
                    set_required(set_record, 'c_attribute3', require_record.get('basic_c_attribute3'));
                    set_required(set_record, 'c_attribute4', require_record.get('basic_c_attribute4'));
                    set_required(set_record, 'c_attribute5', require_record.get('basic_c_attribute5'));
                    set_required(set_record, 'c_attribute6', require_record.get('basic_c_attribute6'));
                    //set_required(set_record, 'c_attribute7', require_record.get('basic_c_attribute7'));
                    set_required(set_record, 'c_attribute8', require_record.get('basic_c_attribute8'));
                    set_required(set_record, 'c_attribute9', require_record.get('basic_c_attribute9'));
                    set_required(set_record, 'c_attribute10', require_record.get('basic_c_attribute10'));
                    set_required(set_record, 'c_attribute11', require_record.get('basic_c_attribute11'));
                    set_required(set_record, 'c_attribute12', require_record.get('basic_c_attribute12'));
                    set_required(set_record, 'c_attribute13', require_record.get('basic_c_attribute13'));
                    set_required(set_record, 'c_attribute14', require_record.get('basic_c_attribute14'));
                    set_required(set_record, 'c_attribute15', require_record.get('basic_c_attribute15'));
            
                    debugger;
                    var listed_flag = set_record.get('listed_flag');
                    var rd_flag = set_record.get('rd_flag');
                    if (listed_flag == 'Y') {
                        set_record.getField('listed_place').setReadOnly(false);
                        set_record.getField('listed_date').setReadOnly(false);
            
                        set_record.getField('listed_place').setRequired(true);
                        set_record.getField('listed_date').setRequired(true);
                    } else if (listed_flag == 'N') {
                        set_record.set('listed_place', '');
                        set_record.set('listed_date', '');
                        set_record.getField('listed_place').setReadOnly(true);
                        set_record.getField('listed_date').setReadOnly(true);
                        set_record.getField('listed_place').setRequired(false);
                        set_record.getField('listed_date').setRequired(false);
                    }
                    if (rd_flag == 'Y') {
                        set_record.getField('rd_staff_count').setReadOnly(false);
            
                        set_record.getField('rd_staff_count').setRequired(true);
                    } else if (listed_flag == 'N') {
                        set_record.set('rd_staff_count', '');
                        set_record.getField('rd_staff_count').setReadOnly(true);
                        set_record.getField('rd_staff_count').setRequired(false);
                    }
                }
                if (${/model/pur5730_vendor_survey_atm/record/@count1} == 0) {
                    document.getElementById('pur5730_vendor_survey_organization_uploadBtu_img').style.visibility = "hidden";
                }
                if (${/model/pur5730_vendor_survey_atm/record/@count2} == 0) {
                    document.getElementById('pur5730_vendor_survey_equipment_bond_uploadBtu_img').style.visibility = "hidden";
                }
                if (${/model/pur5730_vendor_survey_atm/record/@count8} == 0) {
                    document.getElementById('pur5730_vendor_survey_equipment_uploadBtu_img').style.visibility = "hidden";
                }
            }
            
            function pur5730_vendor_survey_basic_info_ds_updateFun(value, record, name) {
                debugger;
                var listed_flag = record.get('listed_flag');
                var rd_flag = record.get('rd_flag');
                if (name == "listed_flag") {
                    if (listed_flag == 'Y') {
                        record.getField('listed_place').setReadOnly(false);
                        record.getField('listed_date').setReadOnly(false);
            
                        record.getField('listed_place').setRequired(true);
                        record.getField('listed_date').setRequired(true);
                    } else if (listed_flag == 'N') {
                        record.set('listed_place', '');
                        record.set('listed_date', '');
                        record.getField('listed_place').setReadOnly(true);
                        record.getField('listed_date').setReadOnly(true);
                        record.getField('listed_place').setRequired(false);
                        record.getField('listed_date').setRequired(false);
                    }
                }
                if (name == "rd_flag") {
                    if (rd_flag == 'Y') {
                        record.getField('rd_staff_count').setReadOnly(false);
            
                        record.getField('rd_staff_count').setRequired(true);
                    } else if (listed_flag == 'N') {
                        record.set('rd_staff_count', '');
                        record.getField('rd_staff_count').setReadOnly(true);
                        record.getField('rd_staff_count').setRequired(false);
                    }
                }
            }
            
            function pur5730_vendor_survey_equipment_rendererFun(value, record, name) {
                var survey_header_id = record.get('survey_header_id');
            
                if (name == 'sale_situation') {
                    return '<a style="color:blue" href="javascript:pur5730_vendor_survey_equipment_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
            
                }
                if (name == 'stock_right') {
                    return '<a style="color:blue" href="javascript:pur5730_vendor_survey_equipment_stock_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                }
                if (name == 'employment_qualifications') {
                    return '<a style="color:blue" href="javascript:employment_qualifications_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                }
            
                if (name == 'organization') {
                    return '<a style="color:blue" href="javascript:pur5730_vendor_survey_manufacturer_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                }
            
                if (name == 'major_pro_capacity') {
                    return '<a style="color:blue" href="javascript:major_pro_capacity_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
            
                }
                if (name == 'major_equipment_attch') {
                    return '<a style="color:blue" href="javascript:major_equipment_attch_uploadFun(' + survey_header_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
            
                }
            }
            
            function pur5730_vendor_survey_manufacturer_uploadFun(id) {
                new Aurora.Window({
                    id: 'pur5730_attachment_file_upload_link_window',
                    title: '${l:ATM.UPLOAD_ATTACHMENT}',
                    url: $('pur5730_attachment_file_upload_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_BASIC_INFO_ME',
                    width: 610,
                    height: 500
                }).on('close', function() {
                    Aurora.request({
                        url: $('pur5730_vendor_survey_manu_atm_link').getUrl(),
                        para: {
                            'survey_header_id': id,
                            'table_name': 'PUR_VENDOR_SURVEY_BASIC_INFO_ME'
                        },
                        success: function(res) {
                            if (res.result.record.count == 0) {
                                document.getElementById('pur5730_vendor_survey_organization_uploadBtu_img').style.visibility = "hidden";
                            } else {
                                document.getElementById('pur5730_vendor_survey_organization_uploadBtu_img').style.visibility = "visible";
                            }
                        },
                        scope: this
                    });
                });
            }
            
            function pur5730_vendor_survey_equipment_stock_uploadFun(id) {
                new Aurora.Window({
                    id: 'pur5730_attachment_file_upload_link_window',
                    title: '${l:ATM.UPLOAD_ATTACHMENT}',
                    url: $('pur5730_attachment_file_upload_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_BASIC_INFO_STOCK',
                    width: 610,
                    height: 500
                }).on('close', function() {
                    Aurora.request({
                        url: $('pur5730_vendor_survey_manu_atm_link').getUrl(),
                        para: {
                            'survey_header_id': id,
                            'table_name': 'PUR_VENDOR_SURVEY_BASIC_INFO_STOCK'
                        },
                        success: function(res) {
                            if (res.result.record.count == 0) {
                                document.getElementById('pur5730_vendor_survey_equipment_bond_uploadBtu_img').style.visibility = "hidden";
                            } else {
                                document.getElementById('pur5730_vendor_survey_equipment_bond_uploadBtu_img').style.visibility = "visible";
                            }
                        },
                        scope: this
                    });
                });
            }
            
            function pur5730_equipment_address_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'country_name') {
                        set_required(record, name, require_record.get('address_country_code'));
                    }
                    if (name == 'province_name') {
                        set_required(record, name, require_record.get('address_province'));
                    }
                    if (name == 'city_name') {
                        set_required(record, name, require_record.get('address_city'));
                    }
                    if (name == 'address_detail_desc') {
                        set_required(record, name, require_record.get('address_detail'));
                    }
                    if (name == 'comments') {
                        set_required(record, name, require_record.get('address_comments'));
                    }
                    if (name == 'post_code') {
                        set_required(record, name, require_record.get('address_post_code'));
                    }
                    //if (name == 'enabled_flag') {set_required(record, name, require_record.get('address_enabled_flag'));}
                }
                return value;
            }
            
            function pur5730_vendor_survey_equipment_uploadFun(id) {
                var url = "${/request/@context_path}/modules/pur/PUR5730/pur5730_uploadFile.screen?table_name=PUR_VENDOR_SURVEY_BASIC_INFO_SA&pkvalue=" + id;
                new Aurora.Window({
                    url: url,
                    title: '最近三年销售情况',
                    id: 'employment_qualifications_upload_window',
                    width: 500,
                    height: 500
                });
            }
            
            function employment_qualifications_uploadFun(id) {
                var url = "${/request/@context_path}/modules/pur/PUR5730/pur5730_uploadFile.screen?table_name=PUR_VENDOR_SURVEY_BASIC_INFO_QUA&pkvalue=" + id;
                new Aurora.Window({
                    url: url,
                    title: '${l:VENDOR_SURVEY_TAB.EMPLOYMENT_QUALIFICATIONS}',
                    id: 'employment_qualifications_upload_window',
                    width: 500,
                    height: 500
                });
            }
            
            
            
            
            
            function pur5730_vendor_survey_equipment_business_tab_ds_loadFun(dataSet) {
                if (dataSet.getAll().length == 0) {
                    dataSet.create();
                }
            
                //获取是否必输的配置
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    var set_record = dataSet.getAt(0);
                    set_required(set_record, 'first_contact', require_record.get('bu_first_contact'));
                    set_required(set_record, 'contact_way', require_record.get('bu_contact_way'));
                    set_required(set_record, 'contact_date', require_record.get('bu_contact_date'));
                    set_required(set_record, 'financial_reconciliator', require_record.get('bu_financial_reconciliator'));
                    set_required(set_record, 'financial_reconciliator_contact', require_record.get('bu_financial_reconciliator_contact'));
                    set_required(set_record, 'person_nums', require_record.get('bu_person_nums'));
                    set_required(set_record, 'founding_time', require_record.get('bu_founding_time'));
                    //set_required(set_record, 'charge_standard', require_record.get('bu_charge_standard'));
                    set_required(set_record, 'comments', require_record.get('bu_comments'));
                    set_required(set_record, 'industry_ranks_desc', require_record.get('bu_industry_ranks_desc'));
                    set_required(set_record, 'main_competitor', require_record.get('bu_main_competitor'));
            
                }
            }
            
            function pur5730_vendor_survey_equipment_business_tab_ds_updateFun(value, record, name) {
                var charge_flag = record.get('charge_flag');
                if (name == "charge_flag") {
                    if (charge_flag == 'Y') {
                        record.getField('charge_standard').setReadOnly(false);
            
                        record.getField('charge_standard').setRequired(true);
                    } else if (charge_flag == 'N') {
                        record.set('charge_standard', '');
                        record.getField('charge_standard').setReadOnly(true);
                        record.getField('charge_standard').setRequired(false);
                    }
                }
            }
            
            function pur5730_vendor_survey_equipment_business_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_equipment_business_tab_ds').query();
            }
            
            
            
            function pur5730_vendor_survey_equipment_account_tab_ds_update(ds, record, name, value) {
                if (name == 'c_attribute1') {
                    record.set(name, value.replace(/\s+/g, ""));
                }
            }
            
            
            
            function pur5730_vendor_survey_manufacturer_authenticate_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_authenticate_tab_ds').query();
            }
            
            function pur5730_vendor_survey_manufacturer_device_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_manufacturer_device_tab_ds').query();
            }
            
            function pur7210_vendor_survey_manufacturer_product_capacity_tab_ds_submitsuccessFun() {
                $('pur7210_vendor_survey_manufacturer_product_capacity_tab_ds').query();
            }
            
            function pur5730_vendor_survey_manufacturer_subcontract_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_manufacturer_subcontract_tab_ds').query();
            }
            
            function pur5730_vendor_survey_equipment_customer_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_equipment_customer_tab_ds').query();
            }
            
            function pur5730_vendor_survey_equpiment_finance_tab_ds_addFun(dataSet, record, index) {
                record.set('year_period', year - 1);
                year = year - 1;
            }
            
            function pur5730_vendor_survey_equpiment_finance_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_equpiment_finance_tab_ds').query();
            }
            
            function pur5730_vendor_survey_after_service_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_after_service_tab_ds').query();
            }
            
            function pur5730_vendor_survey_eq_product_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_eq_product_tab_ds').query();
            }
            
            function pur5730_vendor_survey_product_eq_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_product_eq_tab_ds').query();
            }
            
            function pur5730_vendor_survey_ind_competition_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_ind_competition_tab_ds').query();
            }
            
            function pur5730_vendor_survey_con_transaction_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_con_transaction_tab_ds').query();
            }
            
            function pur5730_vendor_survey_manufacturer_finance_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_manufacturer_finance_tab_ds').query();
            }
            
            function pur5730_vendor_survey_mtl_manager_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_mtl_manager_tab_ds').query();
            }
            
            function pur5730_vendor_survey_maj_accessories_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_maj_accessories_tab_ds').query();
            }
            
            function pur5730_vendor_survey_application_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_application_tab_ds').query();
            }
            
            function pur5730_vendor_survey_equipment_performance_tab_ds_submitsuccessFun() {
                $('pur5730_vendor_survey_equipment_performance_tab_ds').query();
            }
            //提交成功，刷新附件页签
            
            function pur5730_vendor_survey_equipment_attachment_tab_ds_submitSuccessFun() {
                $('pur5730_vendor_survey_equipment_attachment_tab_ds').query();
            }
            
            function pur5730_vendor_survey_equipment_attachment_tab_ds_selectFun(record) {
                if (record.isNew) {
                    return true;
                }
                return false;
            }
            
            function pur7210_vendor_survey_queryFun(id) {
                new Aurora.Window({
                    id: 'pur5730_attachment_file_query_link_window',
                    title: '${l:PROMPT.BUYER_ATTACHMENT}',
                    url: $('pur5730_attachment_file_query_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_ATTACHMENT_BUYER',
                    width: 610,
                    height: 500
                }).on('close', function() {
                    $('pur5730_vendor_survey_equipment_attachment_tab_ds').query();
                });
            }
            
            function pur7210_vendor_survey_uploadFun(id) {
                new Aurora.Window({
                    id: 'pur5730_attachment_file_upload_link_window',
                    title: '${l:PROMPT.VENDOR_ATTACHMENT}',
                    url: $('pur5730_attachment_file_upload_link').getUrl() + '?pkvalue=' + id + '&table_name=PUR_VENDOR_SURVEY_ATTACHMENT',
                    width: 610,
                    height: 500
                }).on('close', function() {
                    $('pur5730_vendor_survey_equipment_attachment_tab_ds').query();
                });
            }
            
            function eq_product_footerRender(datas, name) {
                var sum = 0;
                for (var i = 0;i < datas.length;i++) {
                    var r = datas[i];
                    var d = r.get(name);
                    var n = parseFloat(d);
                    if (!isNaN(n)) {
                        sum += n;
                    }
                }
                return '<font>' + sum + '</font>';
            }
            
            function product_eq_footerRender(datas, name) {
                var sum = 0;
                for (var i = 0;i < datas.length;i++) {
                    var r = datas[i];
                    var d = r.get(name);
                    var n = parseFloat(d);
                    if (!isNaN(n)) {
                        sum += n;
                    }
                }
                return '<font>' + sum + '</font>';
            }
            
            function pur5730_vendor_survey_equipment_attachment_tab_ds_updateFun(dataSet, record, name, value, oldvalue) {
                // if (name == 'attachment_type') {
                // var records = dataSet.getAll();
                // for (var i = 0;i < records.length;i++) {
                // for (var j = i + 1;j < records.length;j++) {
                // if (records[i].get('attachment_type') == records[j].get('attachment_type')) {
                // Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.ATTACHMENT_EXIST_AND_SELECT_AGAIN}');
                // return;
                // }
                // }
                // }
                // }
            }
            
            function pur5730_survey_atm_type_editorFun(record, name) {
                if (record.isNew) {
                    return 'pur5730_vendor_survey_manufacturer_attachment_tab_cbb';
                }
                return '';
            }
            
            //地点tab事件
            
            function pur5730_equipment_addressesCellClick_fun(grid, row, name, record) {
                //国家、地区、城市级联更新
                if (Ext.isEmpty(record.get('country_name')) || record.get('country_name') == undefined) {
                    record.set('country_code', '');
                    record.getField("province_name").setLovService('');
                    record.getField("city_name").setLovService('');
            
                    record.getField('province_name').setReadOnly(true);
                    record.getField('city_name').setReadOnly(true);
                } else {
                    var temp_string = record.get('country_code');
                    record.getField("city_name").setLovService('');
                    record.getField("province_name").setLovService('public.fnd_region_province_lov');
                    record.getField("province_name").setLovPara('country_code', temp_string);
            
                    record.getField('province_name').setReadOnly(false);
                }
                if (Ext.isEmpty(record.get('province_name')) || record.get('province_name') == undefined) {
                    record.set('province_id', '');
                    record.getField("city_name").setLovService('');
            
                    record.getField('city_name').setReadOnly(true);
                } else {
                    record.getField("city_name").setLovService('public.fnd_region_city_lov');
                    record.getField("city_name").setLovPara('province_id', record.get('province_id'));
                    record.getField('city_name').setReadOnly(false);
                }
            }
            //校验是否有必输数据未填写
            
            function check_validate() {
            
                //
                if (!$('pur5730_vendor_survey_basic_info_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(0);
                    return;
                }
                if (!$('pur5730_vendor_survey_equipment_business_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(1);
                    return '';
                }
                if (!$('pur5730_vendor_survey_after_service_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(2);
                    return;
                }
                if (!$('pur5730_vendor_survey_equipment_contact_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(3);
                    return;
                }
                if (!$('pur7210_vendor_survey_equipment_address_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(4);
                    return;
                }
                if (!$('pur5730_vendor_survey_equipment_account_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(5);
                    return;
                }
                if (!$('pur5730_vendor_survey_eq_product_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(6);
                    return;
                }
                if (!$('pur5730_vendor_survey_product_eq_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(7);
                    return;
                }
                if (!$('pur5730_vendor_survey_equpiment_finance_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(8);
                    return;
                }
                if (!$('pur5730_vendor_survey_ind_competition_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(9);
                    return;
                }
                if (!$('pur5730_vendor_survey_con_transaction_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(10);
                    return;
                }
                if (!$('pur5730_vendor_survey_mtl_manager_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(11);
                    return;
                }
                if (!$('pur5730_vendor_survey_equipment_attachment_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(12);
                    return;
                }
                //
                if (!$('pur5730_vendor_survey_equipment_customer_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(1);
                    return '';
                }
                if (!$('pur5730_vendor_survey_maj_accessories_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(2);
                    return '';
                }
                if (!$('pur5730_vendor_survey_application_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(3);
                    return '';
                }
                if (!$('pur5730_vendor_survey_equipment_performance_tab_ds').validate()) {
                    $('vendor_survey_equipment_tabPanel_id').selectTab(4);
                    return '';
                }
                //
            
            
                //
            }
            
            function pur5730_equipment_competition_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'ind_name') {
                        set_required(record, name, require_record.get('ind_name'));
                    }
                    if (name == 'ind_company_name') {
                        set_required(record, name, require_record.get('ind_company_name'));
                    }
                    if (name == 'ind_position') {
                        set_required(record, name, require_record.get('ind_position'));
                    }
                    if (name == 'ind_id_card') {
                        set_required(record, name, require_record.get('ind_id_card'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_transaction_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'con_name') {
                        set_required(record, name, require_record.get('con_name'));
                    }
                    if (name == 'con_former_department') {
                        set_required(record, name, require_record.get('con_former_department'));
                    }
                    if (name == 'con_station') {
                        set_required(record, name, require_record.get('con_station'));
                    }
                    if (name == 'con_serving_years') {
                        set_required(record, name, require_record.get('con_serving_years'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_man_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'key_material_name') {
                        set_required(record, name, require_record.get('key_material_name'));
                    }
                    if (name == 'purchase_method') {
                        set_required(record, name, require_record.get('purchase_method'));
                    }
                    if (name == 'annual_purchase_amount') {
                        set_required(record, name, require_record.get('annual_purchase_amount'));
                    }
                    if (name == 'sum_ratio') {
                        set_required(record, name, require_record.get('man_sum_ratio'));
                    }
                    if (name == 'purchase_cycle') {
                        set_required(record, name, require_record.get('purchase_cycle'));
                    }
                }
                return value;
            }
            
            function pur5730_maskWindow() {
                if ($('pur5730_vendor_survey_detail_win')) {
                    Aurora.Masker.mask($('pur5730_vendor_survey_detail_win').wrap, '...');
                } else {
                    Aurora.Masker.mask(Ext.getBody(), '..');
                }
            }
            
            function pur5730_unmaskWindow() {
                if ($('pur5730_vendor_survey_detail_win')) {
                    Aurora.Masker.unmask($('pur5730_vendor_survey_detail_win').wrap);
                } else {
                    Aurora.Masker.unmask(Ext.getBody());
                }
            }
            
            function pur5730_detail_manufacturer_saveFun() {
                pur5730_maskWindow();
                $('pur5730_survey_equipment_headers_ds').submit();
                pur5730_unmaskWindow();
            }
            
            function pur5730_survey_equipment_headers_ds_submitsuccessFun() {
                Aurora.showMessage('${l:PROMPT}', '${l:PROMPT.SAVE_SUCCESS}', null);
                $('pur5730_survey_equipment_headers_ds').query();
            }
            //账户保存
            
            function pur5730_vendorSurveyAccounts_saveFun() {
                $('pur5730_detail_manufacturer_saveBtn').disable();
                $('pur5730_detail_manufacturer_submitBtn').disable();
                $('pur5730_detail_manufacturer_backBtn').disable();
            
                var account_ds = $('pur5730_vendor_survey_equipment_account_tab_ds');
            
                if (!account_ds.validate()) {
                    $('pur5730_detail_manufacturer_saveBtn').enable();
                    $('pur5730_detail_manufacturer_submitBtn').enable();
                    $('pur5730_detail_manufacturer_backBtn').enable();
                    return;
                }
            
                var data = {};
                var lines = [];
                var records = account_ds.getAll();
                for (i = 0;i < records.length;i++) {
                    lines.push(records[i].data);
                }
            
                data['accounts'] = lines;
                data['survey_header_id'] = '${/parameter/@survey_header_id}';
            
                Aurora.request({
                    url: $('pur5730_vendorSurveyAccountSave_link').getUrl(),
                    para: data,
                    success: function(result) {
                        $('pur5730_detail_manufacturer_saveBtn').enable();
                        $('pur5730_detail_manufacturer_submitBtn').enable();
                        $('pur5730_detail_manufacturer_backBtn').enable();
                        pur5730_vendor_survey_equipment_account_tab_ds_submitSuccessFun();
                    },
                    failure: function() {
                        $('pur5730_detail_manufacturer_saveBtn').enable();
                        $('pur5730_detail_manufacturer_submitBtn').enable();
                        $('pur5730_detail_manufacturer_backBtn').enable();
                    },
                    error: function() {
                        $('pur5730_detail_manufacturer_saveBtn').enable();
                        $('pur5730_detail_manufacturer_submitBtn').enable();
                        $('pur5730_detail_manufacturer_backBtn').enable();
                    },
                    scope: this
                });
            }
            //校验是否有数据未保存
            
            function check_update() {
                debugger;
                if ($('pur5730_survey_equipment_headers_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_equipment_customer_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_basic_info_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_equipment_business_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_maj_accessories_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_application_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_equipment_performance_tab_ds').isModified()) {
                    return 'Y';
                }
            
                if ($('pur5730_vendor_survey_equipment_attachment_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_equipment_contact_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur7210_vendor_survey_equipment_address_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_equipment_account_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_equpiment_finance_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_after_service_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_eq_product_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_product_eq_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_ind_competition_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_con_transaction_tab_ds').isModified()) {
                    return 'Y';
                }
                if ($('pur5730_vendor_survey_mtl_manager_tab_ds').isModified()) {
                    return 'Y';
                }
                return 'N';
            }
            //查看采购方附件
            
            function pur5730_survey_atm_query_rendererFun(value, record, name) {
                var attachment_id = record.get('attachment_id');
                if (record.isNew) {
                    return '';
                }
                if (record.get('atm_count_buyer') == 0) {
                    return '<a style="color:blue" href="javascript:pur7210_vendor_survey_queryFun(' + attachment_id + ')">${l:PROMPT.VIEW_ATTACHMENT}</a>';
                } else {
                    return '<a style="color:blue" href="javascript:pur7210_vendor_survey_queryFun(' + attachment_id + ')">${l:PROMPT.VIEW_ATTACHMENT}</a>' + '<img id="pur5730_vendor_survey_manufacturer_uploadBtu_img_1" height="12" src="${/request/@context_path}/images/touch/report.png" width="15"/>';
                }
            }
            //上传供应商附件
            
            function pur5730_survey_atm_upload_rendererFun(value, record, name) {
                var attachment_id = record.get('attachment_id');
                if (record.isNew) {
                    return '';
                }
                if (record.get('atm_count_vendor') == 0) {
                    return '<a style="color:blue" href="javascript:pur7210_vendor_survey_uploadFun(' + attachment_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>';
                } else {
                    return '<a style="color:blue" href="javascript:pur7210_vendor_survey_uploadFun(' + attachment_id + ')">${l:ATM.UPLOAD_ATTACHMENT}</a>' + '<img id="pur5730_vendor_survey_manufacturer_uploadBtu_img_2" height="12" src="${/request/@context_path}/images/touch/report.png" width="15"/>';
                }
            }
            
            function pur5730_detail_manufacturer_submitFun() {
                var finances = $('pur5730_vendor_survey_equpiment_finance_tab_ds').getAll();
 				if (document.getElementById("vendor_survey_equipment_finance_tab_id").style.display != 'none') {
                    if (finances.length < 3) {
                        Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.AT_LEAST_THREE_LINES}', null);
                        return;
                    }
                }
                Aurora.showConfirm('${l:PROMPT}', '${l:DOCUMNET_SUBMIT_CONFIRM}', function() {
                    var isModified = check_update();
                    if (isModified == 'Y') {
                        Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.SAVE_DATA_FIRST}', null);
                        return '';
                    }
            
                    pur5730_maskWindow();
                    Aurora.request({
                        url: $('pur5730_survey_manufacturer_submit_link').getUrl(),
                        para: {
                            'survey_header_id': '${/parameter/@survey_header_id}'
                        },
                        success: function(result) {
                            Aurora.showMessage('${l:PROMPT}', '${l:PROMPT.SUBMIT_SUCCESS}', null);
                            pur5730_unmaskWindow();
                            pur5730_detail_manufacturer_returnFun();
                        },
                        failure: function() {
                            pur5730_unmaskWindow();
                        },
                        error: function() {
                            pur5730_unmaskWindow();
                        },
                        scope: this
                    });
                });
            }
            
            function pur5730_basic_info_saveFun() {
            
                var ds = $('pur5730_vendor_survey_basic_info_tab_ds');
                var record = ds.getCurrentRecord();
                var url;
                if (record.isNew) {
                    url = $('pur5730_basic_info_save_link').getUrl();
                } else {
                    url = $('pur5730_basic_info_update_link').getUrl();
                }
                if (!ds.validate()) {
                    return;
                }
                var data = record.data;
                Aurora.Masker.mask(Ext.getBody());
                Aurora.request({
                    url: url,
                    para: data,
                    success: function(res) {
                        Aurora.Masker.unmask(Ext.getBody());
                        pur5730_survey_equipment_headers_ds_submitsuccessFun();
                        record.isNew = false;
                        Aurora.showMessage('${l:PROMPT}', '${l:PROMPT.SAVE_SUCCESS}', null);
                    },
                    failure: function(args) {
                        Aurora.Masker.unmask(Ext.getBody());
                    },
                    error: function(args) {
                        Aurora.Masker.unmask(Ext.getBody());
                    },
                    async: false,
                    scope: this
                });
            }
            //无头内容时提示已提交
            
            function pur5730_survey_header_ds_load() {
                debugger;
                var records = $('pur5730_survey_equipment_headers_ds').getAll();
                if (records.length == 0) {
                    Aurora.showMessage('提示', '调查表已提交!', function() {
                        window.close();
                    });
                }
                   records[0].set('account_period_desc', '按照合同执行');
                  records[0].set('payment_method_desc', '支票');
                // records[0].isNew = true;
                // records[0].dirty = false;
            }
            
            function pur5730_equipment_accessories_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
            
                    if (name == 'material_name') {
                        set_required(record, name, require_record.get('ac_material_name'));
                    }
                    if (name == 'brand_model') {
                        set_required(record, name, require_record.get('ac_brand_model'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'unit_price') {
                        set_required(record, name, require_record.get('ac_unit_price'));
                    }
                    if (name == 'replace_frequency') {
                        set_required(record, name, require_record.get('ac_replace_frequency'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'monthly_expenses') {
                        set_required(record, name, require_record.get('ac_monthly_expenses'));
                    }
                    if (name == 'yearly_expenses') {
                        set_required(record, name, require_record.get('ac_yearly_expenses'));
                    }
                    if (name == 'comments') {
                        set_required(record, name, require_record.get('ac_comments'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_account_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'payment_method_name') {
                        set_required(record, name, require_record.get('payment_method_name'));
                    }
                    if (name == 'currency_code') {
                        set_required(record, name, require_record.get('currency_code'));
                    }
                    if (name == 'bank_code') {
                        set_required(record, name, require_record.get('bank_code'));
                    }
                    if (name == 'bank_branch_name') {
                        set_required(record, name, require_record.get('bank_branch_name'));
                    }
                    if (name == 'bank_account_name') {
                        set_required(record, name, require_record.get('bank_account_name'));
                    }
                    if (name == 'bank_account_number') {
                        set_required(record, name, require_record.get('bank_account_number'));
                    }
                    if (name == 'tax_type_name') {
                        set_required(record, name, require_record.get('ac_tax_type_name'));
                    }
            
                    if (name == 'c_attribute1') {
                        set_required(record, name, require_record.get('bank_c_attribute1'));
                        if (!Aurora.isEmpty(value)) {
                            return value.replace(/\s+/g, "");
                        }
                    }
                }
                return value;
            }
            
            function pur5730_equipment_eq_cap_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'main_product') {
                        set_required(record, name, require_record.get('eq_main_product'));
                    }
                    if (name == 'annual_sales') {
                        set_required(record, name, require_record.get('eq_annual_sales'));
                    }
                    if (name == 'fir_case_name') {
                        set_required(record, name, require_record.get('eq_fir_case_name'));
                    }
                    if (name == 'fir_case_sales') {
                        set_required(record, name, require_record.get('eq_fir_case_sales'));
                    }
                    if (name == 'sec_case_name') {
                        set_required(record, name, require_record.get('eq_sec_case_name'));
                    }
                    if (name == 'sec_case_sales') {
                        set_required(record, name, require_record.get('eq_sec_case_sales'));
                    }
                    if (name == 'thir_case_name') {
                        set_required(record, name, require_record.get('eq_thir_case_name'));
                    }
                    if (name == 'thir_case_sales') {
                        set_required(record, name, require_record.get('eq_thir_case_sales'));
                    }
                    if (name == 'for_case_name') {
                        set_required(record, name, require_record.get('eq_for_case_name'));
                    }
                    if (name == 'for_case_sales') {
                        set_required(record, name, require_record.get('eq_for_case_sales'));
                    }
                    if (name == 'fiv_case_name') {
                        set_required(record, name, require_record.get('eq_fiv_case_name'));
                    }
                    if (name == 'fiv_case_sales') {
                        set_required(record, name, require_record.get('eq_fiv_case_sales'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_cap_eq_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'main_product') {
                        set_required(record, name, require_record.get('main_product_eq'));
                    }
                    if (name == 'annual_sales') {
                        set_required(record, name, require_record.get('annual_sales_eq'));
                    }
                    if (name == 'fir_case_name') {
                        set_required(record, name, require_record.get('fir_case_name_eq'));
                    }
                    if (name == 'fir_case_sales') {
                        set_required(record, name, require_record.get('fir_case_sales_eq'));
                    }
                    if (name == 'sec_case_name') {
                        set_required(record, name, require_record.get('sec_case_name_eq'));
                    }
                    if (name == 'sec_case_sales') {
                        set_required(record, name, require_record.get('sec_case_sales_eq'));
                    }
                    if (name == 'thir_case_name') {
                        set_required(record, name, require_record.get('thir_case_name_eq'));
                    }
                    if (name == 'thir_case_sales') {
                        set_required(record, name, require_record.get('thir_case_sales_eq'));
                    }
                    if (name == 'for_case_name') {
                        set_required(record, name, require_record.get('for_case_name_eq'));
                    }
                    if (name == 'for_case_sales') {
                        set_required(record, name, require_record.get('for_case_sales_eq'));
                    }
                    if (name == 'fiv_case_name') {
                        set_required(record, name, require_record.get('fiv_case_name_eq'));
                    }
                    if (name == 'fiv_case_sales') {
                        set_required(record, name, require_record.get('fiv_case_sales_eq'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_application_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
            
                    if (name == 'product_name') {
                        set_required(record, name, require_record.get('ap_product_name'));
                    }
                    if (name == 'application_scope') {
                        set_required(record, name, require_record.get('ap_application_scope'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'customer_name') {
                        set_required(record, name, require_record.get('ap_customer_name'));
                    }
                    if (name == 'project_date') {
                        set_required(record, name, require_record.get('ap_project_date'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'project_price') {
                        set_required(record, name, require_record.get('ap_project_price'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_service_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'sale_point') {
                        set_required(record, name, require_record.get('as_sale_point'));
                    }
                    if (name == 'service_site') {
                        set_required(record, name, require_record.get('as_service_site'));
                    }
                    if (name == 'person_nums') {
                        set_required(record, name, require_record.get('as_person_nums'));
                    }
                    if (name == 'founding_time') {
                        set_required(record, name, require_record.get('as_founding_time'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'charge_standard') {
                        set_required(record, name, require_record.get('as_charge_standard'));
                    }
                    if (name == 'comments') {
                        set_required(record, name, require_record.get('as_comments'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_contact_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'contact_name') {
                        set_required(record, name, require_record.get('contact_name'));
                    }
                    if (name == 'contact_sex_name') {
                        set_required(record, name, require_record.get('contact_sex'));
                    }
                    if (name == 'id_type') {
                        set_required(record, name, require_record.get('contact_id_type'));
                    }
                    if (name == 'id_number') {
                        set_required(record, name, require_record.get('contact_id_number'));
                    }
                    if (name == 'department') {
                        set_required(record, name, require_record.get('contact_department'));
                    }
                    if (name == 'position') {
                        set_required(record, name, require_record.get('contact_position'));
                    }
                    if (name == 'mobile_phone') {
                        set_required(record, name, require_record.get('contact_mobile_phone'));
                    }
                    if (name == 'telephone') {
                        set_required(record, name, require_record.get('contact_telephone'));
                    }
                    if (name == 'email') {
                        set_required(record, name, require_record.get('contact_email'));
                    }
                    if (name == 'c_attribute1') {
                        set_required(record, name, require_record.get('contact_c_attribute1'));
                    }
                    if (name == 'comments') {
                        set_required(record, name, require_record.get('contact_comments'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_performance_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
            
                    if (name == 'production_efficiency') {
                        set_required(record, name, require_record.get('eq_production_efficiency'));
                    }
                    if (name == 'process_ability_size') {
                        set_required(record, name, require_record.get('eq_process_ability_size'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'power_consumption') {
                        set_required(record, name, require_record.get('eq_power_consumption'));
                    }
                    if (name == 'temperature_uniformity') {
                        set_required(record, name, require_record.get('eq_temperature_uniformity'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'delivery_time') {
                        set_required(record, name, require_record.get('eq_delivery_time'));
                    }
                    if (name == 'maintenance_period') {
                        set_required(record, name, require_record.get('eq_maintenance_period'));
                    }
                    if (name == 'process_ability_thickness') {
                        set_required(record, name, require_record.get('eq_process_ability_thickness'));
                    }
                    if (name == 'planeness') {
                        set_required(record, name, require_record.get('eq_planeness'));
                    }
                    if (name == 'machine_model') {
                        set_required(record, name, require_record.get('eq_machine_model'));
                    }
                }
                return value;
            }
            //银行tab点击事件
            
            function pur5730_equipment_accountsCellClick_fun(grid, row, name, record) {
            
                //银行、开户行名称级联更新
                if (Ext.isEmpty(record.get('bank_name')) || record.get('bank_name') == undefined) {
                    record.set('bank_code', '');
                    record.getField("bank_branch_name").setLovService('');
            
                    record.getField('bank_branch_name').setReadOnly(true);
                } else {
                    var temp_string = record.get('bank_code');
                    if (temp_string != 'ABROAD') {
                        record.getField("bank_branch_name").setLovService('public.csh_bank_branchs_lov');
                        record.getField("bank_branch_name").setLovPara('bank_code', temp_string);
                    }
                    record.getField('bank_branch_name').setReadOnly(false);
            
                }
            }
            
            function pur5730_equipment_accountEditor(record, name) {
                //如果银行代码为  ABROAD 则手工输入
                var bank_code = record.get('bank_code');
                if (name == 'bank_branch_name') {
                    if (bank_code != 'ABROAD') {
                        return 'pur5730_manufacturer_account_lov';
                    } else {
                        return 'pur5730_manufacturer_account_tf';
                    }
                } else if (name == 'c_attribute1') {
                    if (bank_code == 'ABROAD') {
                        return 'pur5730_manufacturer_account_tf';
                    } else {
                        return '';
                    }
                }
            }
            
            function pur5730_equipment_customer_grid_renderer(value, record, name) {
                if (name == 'cooperation_date') {
                    return Aurora.formatDate(value);
                }
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
            
                    if (name == 'transaction_address') {
                        set_required(record, name, require_record.get('transaction_address'));
                    }
                    if (name == 'cooperation_date') {
                        set_required(record, name, require_record.get('cooperation_date'));
                        return Aurora.formatDate(value);
                    }
                    if (name == 'customer_name') {
                        set_required(record, name, require_record.get('customer_name'));
                    }
                    if (name == 'contact_person') {
                        set_required(record, name, require_record.get('contact_person'));
                    }
                    if (name == 'position') {
                        set_required(record, name, require_record.get('position'));
                    }
                    if (name == 'contact_way') {
                        set_required(record, name, require_record.get('contact_way'));
                    }
                    if (name == 'customer_rank') {
                        set_required(record, name, require_record.get('customer_rank'));
                    }
                    if (name == 'transaction_content') {
                        set_required(record, name, require_record.get('transaction_content'));
                    }
                    if (name == 'cooperation_frequency_desc') {
                        set_required(record, name, require_record.get('customer_coop_frequency_code'));
                    }
                    if (name == 'belong_regions') {
                        set_required(record, name, require_record.get('customer_belong_regions'));
                    }
                    if (name == 'sales_volume') {
                        set_required(record, name, require_record.get('customer_sales_volume'));
                    }
                    if (name == 'sales') {
                        set_required(record, name, require_record.get('customer_sales'));
                    }
                    if (name == 'description') {
                        set_required(record, name, require_record.get('customer_description'));
                    }
                    if (name == 'industry') {
                        set_required(record, name, require_record.get('customer_industry'));
                    }
                }
                return value;
            }
            
            function pur5730_equipment_fin_grid_renderer(value, record, name) {
                if (!check_require_ds_is_empty()) {
                    var require_record = $('pur5730_vendor_survey_require_ds').getAt(0);
                    if (name == 'year_period') {
                        set_required(record, name, require_record.get('fin_year_period'));
                    }
                    if (name == 'turnover') {
                        set_required(record, name, require_record.get('fin_turnover'));
                    }
                    if (name == 'revenue') {
                        set_required(record, name, require_record.get('fin_revenue'));
                    }
                    if (name == 'cost_of_sales') {
                        set_required(record, name, require_record.get('fin_cost_of_sales'));
                    }
                    if (name == 'operating_expense') {
                        set_required(record, name, require_record.get('fin_operating_expense'));
                    }
                    if (name == 'operating_profit') {
                        set_required(record, name, require_record.get('fin_operating_profit'));
                    }
                    if (name == 'invest_profit') {
                        set_required(record, name, require_record.get('fin_invest_profit'));
                    }
                    if (name == 'total_profit') {
                        set_required(record, name, require_record.get('fin_total_profit'));
                    }
                    if (name == 'income_tax') {
                        set_required(record, name, require_record.get('fin_income_tax'));
                    }
                    if (name == 'net_profit') {
                        set_required(record, name, require_record.get('fin_net_profit'));
                    }
                    if (name == 'current_assets') {
                        set_required(record, name, require_record.get('fin_current_assets'));
                    }
                    if (name == 'long_term_investment') {
                        set_required(record, name, require_record.get('fin_long_term_investment'));
                    }
                    if (name == 'fixed_assets') {
                        set_required(record, name, require_record.get('fin_fixed_assets'));
                    }
                    if (name == 'intangible_other_assets') {
                        set_required(record, name, require_record.get('fin_intangible_other_assets'));
                    }
                    if (name == 'defered_tax') {
                        set_required(record, name, require_record.get('fin_defered_tax'));
                    }
                    if (name == 'total_assets') {
                        set_required(record, name, require_record.get('fin_total_assets'));
                    }
                    if (name == 'current_liabilities') {
                        set_required(record, name, require_record.get('fin_current_liabilities'));
                    }
                    if (name == 'long_term_liabilities') {
                        set_required(record, name, require_record.get('fin_long_term_liabilities'));
                    }
                    if (name == 'total_liabilities') {
                        set_required(record, name, require_record.get('fin_total_liabilities'));
                    }
                    if (name == 'investors_equity') {
                        set_required(record, name, require_record.get('fin_investors_equity'));
                    }
                    if (name == 'ttl_liabi_and_investors') {
                        set_required(record, name, require_record.get('fin_ttl_liabi_and_investors'));
                    }
                    if (name == 'operating_cash') {
                        set_required(record, name, require_record.get('fin_operating_cash'));
                    }
                    if (name == 'investing_cash') {
                        set_required(record, name, require_record.get('fin_investing_cash'));
                    }
                    if (name == 'financing_cash') {
                        set_required(record, name, require_record.get('fin_financing_cash'));
                    }
                    if (name == 'exchange_cash') {
                        set_required(record, name, require_record.get('fin_exchange_cash'));
                    }
                    if (name == 'cash_and_equivalents') {
                        set_required(record, name, require_record.get('fin_cash_and_equivalents'));
                    }
                    if (name == 'final_cash') {
                        set_required(record, name, require_record.get('fin_final_cash'));
                    }
                }
                return value;
            }
            
            function pur5730_vendor_survey_equipment_contact_tab_ds_submitsuccessFun(dataset) {
                dataset.query();
            }
            
            function pur5730_vendor_survey_manufacturer_address_submitSuccessFun() {
                $('pur7210_vendor_survey_equipment_address_tab_ds').query();
            }
            
            function pur5730_vendor_survey_equipment_account_tab_ds_submitSuccessFun() {
                $('pur5730_vendor_survey_equipment_account_tab_ds').query();
            }
            
            function pur5730_vendor_survey_equipment_contact_tab_saveFun() {
            
                var contact_ds = $('pur5730_vendor_survey_equipment_contact_tab_ds');
            
                if (!contact_ds.validate()) {
                    return;
                }
                contact_ds.submit();
            }
            
            //模版下载 --added wangchenglong 2019-12-17
            function pur5130_ItemImportTemplateDownload_new() {
                var table_pk_value = '${/model/import_template/record/@table_pk_value}';
                if (table_pk_value == undefined || Aurora.isEmpty(table_pk_value)) {
                    Aurora.showMessage('${l:PROMPT}', '${l:PROMPT.NO_IMPORT_TEMPLATE_TO_DOWNLOAD}');
                    return;
                }
            
             pur5130_upload_file(table_pk_value);
        
            }            
            
            
            function pur5130_upload_file(id) {
                var url = "${/request/@context_path}/check_uploadFile.screen?table_name=FND_EXCEL_IMPORT_TEMPLATES&header_id=" + id;
                new Aurora.Window({
                    url: url,
                    title: '${l:FND_ATM_LINES.ATM_DOWNLOAD}',
                    id: 'pur5130_upload_window',
                    width: 850,
                    height: 500
                }).on('beforeclose', function() {
                   // $('pur5130_rfx_template_attachments').query();
                   $('pur5730_survey_equipment_headers_ds').query();
                });
            
            }            
            
            function pur5730_vendor_survey_equipment_contact_tab_deleteFun() {
            
                Aurora.showMessage('${l:PROMPT}', '${l:PUR5730.CONFIRM_TO_DELETE_DATA}', function() {
                    var contact_records = $('pur5730_vendor_survey_equipment_contact_tab_ds').getSelected();
                    var delete_flag = 'N';
                    var los = [];
                    var llo = {};
            
                    for (var i = 0;i < contact_records.length;i++) {
                        var contact_id = contact_records[i].get('contact_id');
            
                        if (contact_id == null || contact_id == '' || contact_id == 'undefined') {
                            $('pur5730_vendor_survey_equipment_contact_tab_ds').remove(contact_records[i]);
                        } else {
                            llo['contact_id'] = contact_records[i].get('contact_id');
                            llo['survey_header_id'] = contact_records[i].get('survey_header_id');
                            llo['_status'] = 'delete';
                            los.push(llo);
                            delete_flag = 'Y';
                        }
                    }
            
                    if (delete_flag == 'Y') {
                        Aurora.request({
                            url: $('pur5730_vendor_survey_manufacturer_contact_tab_save_link').getUrl(),
                            para: los,
                            success: function(result) {
                                $('pur5730_vendor_survey_equipment_contact_tab_ds').query();
                            },
                            failure: function() {},
                            error: function() {},
                            scope: this
                        });
                    }
                });
            }
        ]]></script>
        <a:dataSets>
            <a:dataSet id="pur5730_vendor_survey_manufacturer_tabs_ds">
                <a:datas dataSource="pur5730_vendor_survey_tabs"/>
            </a:dataSet>
            <a:dataSet id="pur5730_taxpayer_type_ds" lookupCode="FND_COM_SUP_INFOS.TAXPAYER_TYPE"/>
            <a:dataSet id="pur5730_pur_method_ds" lookupCode="FND_MTL_PUR_METHOD"/>
            <a:dataSet id="pur5730_vendor_survey_require_ds">
                <a:datas dataSource="pur5730_vendor_survey_require"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturer_industry_rank_ds">
                <a:datas dataSource="pur5730_manufacturer_industry_rank"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturer_list_ds">
                <a:datas>
                    <a:record name="是" code="Y"/>
                    <a:record name="否" code="N"/>
                    <a:record name="其他" code="OTHER"/>
                </a:datas>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_idType_ds" lookupCode="FND_COM_SUP_INFOS.ID_TYPE"/>
            <a:dataSet id="pur5730_vendor_survey_sex_ds" lookupCode="PUR_SEX"/>
            <a:dataSet id="pur5730_manufacturer_certification_ds">
                <a:datas dataSource="pur5730_manufacturer_certification"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturer_device_type_ds">
                <a:datas dataSource="pur5730_manufacturer_device_type"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturer_satisfaction_ds">
                <a:datas dataSource="pur5730_manufacturer_satisfaction"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturerCooperation_frequency_ds">
                <a:datas dataSource="pur5730_manufacturer_cooperation_frequency"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturer_attachment_type_ds">
                <a:datas dataSource="pur5730_attachment_type"/>
            </a:dataSet>
            <a:dataSet id="pur5730_manufacturer_payment_method_ds">
                <a:datas dataSource="pur5730_manufacturer_payment_method"/>
            </a:dataSet>
            <a:dataSet id="pur5730_survey_equipment_headers_ds" autoQuery="true" model="pur.PUR5730.pur5730_vendor_survey_headers" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_headers/query?survey_header_id=${/parameter/@survey_header_id}&amp;release_flag=${/parameter/@release_flag}" submitUrl="${/request/@context_path}/modules/pur/PUR5730/pur5730_vendor_survey_receive_save.svc">
                <a:fields>
                    <a:field name="vendor_name" readOnly="true"/>
                    <a:field name="survey_header_id"/>
                    <a:field name="account_period_desc"/>
                    <a:field name="payment_method_desc"/>
                    <a:field name="survey_number" readOnly="true"/>
                    <a:field name="created_by_desc" readOnly="true"/>
                    <a:field name="creation_date" readOnly="true"/>
                    <a:field name="submit_date" readOnly="true"/>
                    <a:field name="status" readOnly="true"/>
                    <a:field name="status_desc" readOnly="true"/>
                    <a:field name="require_business_group"/>
                    <a:field name="require_company_id"/>
                    <a:field name="company_code" readOnly="true"/>
                    <a:field name="company_name" readOnly="true"/>
                    <a:field name="vendor_code" readOnly="true"/>
                    <a:field name="supplier_business_group" readOnly="true"/>
                    <a:field name="supplier_company_id"/>
                    <a:field name="survey_type_code" readOnly="true"/>
                    <a:field name="vendor_short_name" readOnly="true"/>
                    <a:field name="survey_description" readOnly="true"/>
                    <a:field name="approve_comments" readOnly="true"/>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5730_survey_header_ds_load"/>
                    <a:event name="submitsuccess" handler="pur5730_survey_equipment_headers_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_basic_info_tab_ds" autoQuery="true" bindName="basic_info" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_basic_info_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_basic_info_tab/query?survey_header_id=${/parameter/@survey_header_id}">
                <a:fields>
                    <a:field name="basic_info_id"/>
                    <a:field name="c_attribute3" validator="pur51401_founding_dateValidator"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                    <a:field name="survey_type_name"/>
                    <a:field name="tax_type_codes_bg_id"/>
                    <a:field name="tax_type_name" lovHeight="500" lovService="pur.PUR5730.pur5730_tax_type_codes_bg_lov?require_business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.TAX_TYPE_NAME" title="PUR5730.TAX_TYPE_NAME">
                        <a:mapping>
                            <a:map from="tax_type_codes_bg_id" to="tax_type_codes_bg_id"/>
                            <a:map from="tax_type_name" to="tax_type_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="payment_method_id"/>
                    <a:field name="payment_method_code"/>
                    <a:field name="payment_method_name" displayField="flex_desc" options="pur5730_manufacturer_payment_method_ds" returnField="payment_method_code" valueField="flex_value"/>
                    <!-- <a:field name="payment_method_name" lovHeight="500" lovService="pur.PUR5730.pur5730_payment_methods_lov?require_business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.PAYMENT_METHOD_NAME" title="PUR5730.PAYMENT_METHOD_NAME">
                        <a:mapping>
                            <a:map from="payment_method_id" to="payment_method_id"/>
                            <a:map from = "payment_method_code" to= "payment_method_code"/>
                            <a:map from="description" to="payment_method_name"/>
                        </a:mapping>
                    </a:field> -->
                    <a:field name="payment_term_id"/>
                    <a:field name="payment_terms" lovHeight="500" lovService="fnd.FND9220.fnd_9220_payment_terms_lov?business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.PAYMENT_TERMS" title="PUR5730.PAYMENT_TERMS">
                        <a:mapping>
                            <a:map from="payment_term_id" to="payment_term_id"/>
                            <a:map from="description" to="payment_terms"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="chairman_board"/>
                    <a:field name="general_manager"/>
                    <a:field name="listed_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="listed_place"/>
                    <a:field name="listed_date"/>
                    <a:field name="staff_count"/>
                    <a:field name="management_staff_count"/>
                    <a:field name="technical_staff_count"/>
                    <a:field name="production_staff_count"/>
                    <a:field name="rd_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="rd_staff_count"/>
                    <a:field name="building_area"/>
                    <a:field name="industry_ranks"/>
                    <a:field name="industry_ranks_desc" displayField="flex_desc" options="pur5730_manufacturer_industry_rank_ds" returnField="industry_ranks" valueField="flex_value"/>
                    <a:field name="others"/>
                    <a:field name="international_top5"/>
                    <a:field name="domestic_top5"/>
                    <a:field name="iso9001_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="iso9001_date"/>
                    <a:field name="iso9002_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="iso9002_date"/>
                    <a:field name="iso14001_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="iso14001_date"/>
                    <a:field name="c_attribute2" displayField="code_value_name" options="pur5730_taxpayer_type_ds" returnField="taxpayer_type" valueField="code_value"/>
                    <a:field name="c_attribute8" displayField="name" options="pur5730_manufacturer_list_ds" returnField="c_attribute8_code" valueField="code"/>
                    <a:field name="c_attribute15" lovHeight="510" lovLabelWidth="100" lovService="fnd.FND9100.fnd_currency_code_lov" lovWidth="650" prompt="FND_COMPANY_REGISTED.REGISTERED_CURRENCY_CODE" title="CURRENCY_SELECTION">
                        <a:mapping>
                            <a:map from="currency_code" to="c_attribute15"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="audit_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5730_vendor_survey_basic_info_ds_loadFun"/>
                    <a:event name="update" handler="pur5730_vendor_survey_basic_info_ds_updateFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equipment_business_tab_ds" autoQuery="true" bindName="business" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_business_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_business_tab/query?survey_header_id=${/parameter/@survey_header_id}">
                <a:fields>
                    <a:field name="charge_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="business_id"/>
                    <a:field name="charge_standard" readOnly="true"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                    <a:field name="inspection_agency"/>
                    <a:field name="inspection_staffcount"/>
                    <a:field name="incoming_inspection_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="ex_factory_inspection_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="production_inspection_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="qulity_keypoint_control_desc"/>
                    <a:field name="working_days_per_week"/>
                    <a:field name="working_shifts_per_day"/>
                    <a:field name="working_hours_per_day"/>
                    <a:field name="current_production_load"/>
                    <a:field name="maximum_production_load"/>
                    <a:field name="off_season"/>
                    <a:field name="busy_season"/>
                    <a:field name="authorized_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="main_distribution_channel"/>
                    <a:field name="land_transport_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="sea_transport_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="air_transport_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="descriptions"/>
                    <a:field name="warranty_date"/>
                    <a:field name="warranty_party"/>
                    <a:field name="field_maintenance_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="service_network_count"/>
                    <a:field name="service_network_address"/>
                    <a:field name="c_attribute13"/>
                    <a:field name="c_attribute14"/>
                    <a:field name="delivery_accuracy"/>
                    <a:field name="industry_ranks"/>
                    <a:field name="industry_ranks_desc" displayField="flex_desc" options="pur5730_manufacturer_industry_rank_ds" returnField="industry_ranks" valueField="flex_value"/>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5730_vendor_survey_equipment_business_tab_ds_loadFun"/>
                    <a:event name="update" handler="pur5730_vendor_survey_equipment_business_tab_ds_updateFun"/>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_equipment_business_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equipment_contact_tab_ds" autoQuery="true" bindName="contact" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_contact_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_contact_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true" submitUrl="${/request/@context_path}/modules/pur/PUR5730/pur5730_vendor_survey_contact_save.svc">
                <a:fields>
                    <a:field name="contact_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="contact_name" requiredMessage="${l:FND_COM_SUP_CONTACTS.CONTACT_NAME}${l:PROMPT.INPUT}"/>
                    <a:field name="contact_sex"/>
                    <a:field name="contact_sex_name" displayField="code_value_name" options="pur5730_vendor_survey_sex_ds" returnField="contact_sex" valueField="code_value"/>
                    <a:field name="id_type"/>
                    <a:field name="id_type_name" displayField="code_value_name" options="pur5730_vendor_survey_idType_ds" returnField="id_type" valueField="code_value"/>
                    <a:field name="id_number"/>
                    <a:field name="department"/>
                    <a:field name="position"/>
                    <a:field name="mobile_phone" requiredMessage="${l:FND_COM_SUP_CONTACTS.MOBIL}${l:PROMPT.INPUT}"/>
                    <a:field name="telephone"/>
                    <a:field name="email"/>
                    <a:field name="default_contact_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="contact_comments"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitsuccess" handler="pur5730_vendor_survey_equipment_contact_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur7210_vendor_survey_equipment_address_tab_ds" autoQuery="true" bindName="address" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_address_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_address_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="address_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="country_code"/>
                    <a:field name="country_name" lovHeight="500" lovService="public.fnd_country_lov" lovWidth="500" requiredMessage="${l:FND_COM_SUP_ADDRESSES.COUNTRY_CODE}${l:PROMPT.INPUT}" title="FND_COM_SUP_ADDRESSES.COUNTRY_CODE_CHOOSE">
                        <a:mapping>
                            <a:map from="country_code" to="country_code"/>
                            <a:map from="country_name" to="country_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="province_id"/>
                    <a:field name="province_name" lovHeight="500" lovWidth="500" readOnly="true" title="FND_COM_SUP_ADDRESSES.PROVINCE_CHOOSE">
                        <a:mapping>
                            <a:map from="province_id" to="province_id"/>
                            <a:map from="province_name" to="province_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="city_id"/>
                    <a:field name="city_name" lovHeight="500" lovWidth="500" readOnly="true" title="FND_COM_SUP_ADDRESSES.CITY_CHOOSE">
                        <a:mapping>
                            <a:map from="city_id" to="city_id"/>
                            <a:map from="city_name" to="city_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="address_detail_desc" requiredMessage="${l:FND_COM_SUP_ADDRESSES.ADDRESS_DETAIL_ID}${l:PROMPT.INPUT}"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_manufacturer_address_submitSuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equipment_account_tab_ds" autoQuery="true" bindName="account" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_account_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_account_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="account_id"/>
                    <a:field name="payment_method_name" lovHeight="500" lovService="pur.PUR5730.pur5730_payment_methods_lov?require_business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.PAYMENT_METHOD_NAME" title="PUR5730.PAYMENT_METHOD_NAME">
                        <a:mapping>
                            <a:map from="payment_method_id" to="payment_method_id"/>
                            <a:map from="payment_method_code" to="payment_method_code"/>
                            <a:map from="description" to="payment_method_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="tax_type_codes_bg_id"/>
                    <a:field name="tax_type_name" lovHeight="500" lovService="pur.PUR5730.pur5730_tax_type_codes_bg_lov?require_business_group=${/parameter/@require_business_group}" lovWidth="500" prompt="PUR5730.TAX_TYPE_NAME" title="PUR5730.TAX_TYPE_NAME">
                        <a:mapping>
                            <a:map from="tax_type_codes_bg_id" to="tax_type_codes_bg_id"/>
                            <a:map from="tax_type_name" to="tax_type_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="payment_method_id"/>
                    <a:field name="payment_method_code"/>
                    <a:field name="currency_code" lovHeight="510" lovLabelWidth="100" lovService="fnd.FND9100.fnd_currency_code_lov" lovWidth="650" prompt="FND_COMPANY_REGISTED.REGISTERED_CURRENCY_CODE" title="CURRENCY_SELECTION">
                        <a:mapping>
                            <a:map from="currency_code" to="currency_code"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="bank_code" lovHeight="500" lovService="pur.public.csh_banks_lov" lovWidth="500" title="PUR5730.BANK_QUERY">
                        <a:mapping>
                            <a:map from="bank_code" to="bank_code"/>
                            <a:map from="bank_name" to="bank_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="bank_branch_name" lovHeight="500" lovWidth="500" readOnly="true" title="开户行名称选择">
                        <a:mapping>
                            <a:map from="branch_name" to="bank_branch_name"/>
                            <a:map from="bank_branch_code" to="c_attribute1"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="c_attribute1" required="true"/>
                    <a:field name="bank_account_name"/>
                    <a:field name="bank_account_number"/>
                    <a:field name="primary_account_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_equipment_account_tab_ds_submitSuccessFun"/>
                    <a:event name="update" handler="pur5730_vendor_survey_equipment_account_tab_ds_update"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equipment_customer_tab_ds" autoQuery="true" bindName="customer" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_customer_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_customer_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="customer_id"/>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                    <a:field name="customer_name"/>
                    <a:field name="cooperation_frequency_code"/>
                    <a:field name="cooperation_frequency_desc" displayField="flex_desc" options="pur5730_manufacturerCooperation_frequency_ds" returnField="cooperation_frequency_code" valueField="flex_value"/>
                    <a:field name="belong_regions"/>
                    <a:field name="sales_volume"/>
                    <a:field name="sales"/>
                    <a:field name="description"/>
                    <a:field name="industry"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_equipment_customer_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_maj_accessories_tab_ds" autoQuery="true" bindName="accessories" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_accessories_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_accessories_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_maj_accessories_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_application_tab_ds" autoQuery="true" bindName="application" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_application_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_application_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_application_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equipment_performance_tab_ds" autoQuery="true" bindName="equipment" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_equipment_performance_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_equipment_performance_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_equipment_performance_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equpiment_finance_tab_ds" autoQuery="true" bindName="finance" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_finance_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_finance_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="add" handler="pur5730_vendor_survey_equpiment_finance_tab_ds_addFun"/>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_equpiment_finance_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_after_service_tab_ds" autoQuery="true" bindName="after_service" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_after_service_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_after_service_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                    <a:field name="charge_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_after_service_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_eq_product_tab_ds" autoQuery="true" bindName="eq_product" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_eq_capability_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_eq_capability_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_eq_product_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_product_eq_tab_ds" autoQuery="true" bindName="product_eq" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_capability_eq_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_capability_eq_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_product_eq_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_ind_competition_tab_ds" autoQuery="true" bindName="competition" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_competition_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_competition_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                    <a:field name="ind_competition_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_ind_competition_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_con_transaction_tab_ds" autoQuery="true" bindName="transaction" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_transaction_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_transaction_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_con_transaction_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_mtl_manager_tab_ds" autoQuery="true" bindName="manager" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_manager_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_manager_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="survey_type_code" defaultValue="30_EQUIPMENT"/>
                    <a:field name="purchase_method" displayField="code_value_name" options="pur5730_pur_method_ds" returnField="purchase_method_code" valueField="code_value"/>
                    <a:field name="purchase_method_code"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_mtl_manager_tab_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5730_vendor_survey_equipment_attachment_tab_ds" autoQuery="true" bindName="attachment" bindTarget="pur5730_survey_equipment_headers_ds" model="pur.PUR7210.pur7210_vendor_survey_attachment_tab" queryUrl="${/request/@context_path}/autocrud/pur.PUR7210.pur7210_vendor_survey_attachment_tab/query?survey_header_id=${/parameter/@survey_header_id}" selectFunction="pur5730_vendor_survey_equipment_attachment_tab_ds_selectFun" selectable="true">
                <a:fields>
                    <a:field name="survey_header_id" defaultValue="${/parameter/@survey_header_id}"/>
                    <a:field name="attachment_id"/>
                    <a:field name="attachment_name"/>
                    <a:field name="attachment_type"/>
                    <a:field name="attachment_type_desc" displayField="flex_desc" options="pur5730_manufacturer_attachment_type_ds" required="true" returnField="attachment_type" valueField="flex_value"/>
                    <a:field name="required_flag" checkedValue="Y" defaultValue="N" readOnly="true" uncheckedValue="N"/>
                    <a:field name="invalid_date"/>
                    <a:field name="last_upload_date"/>
                </a:fields>
                <a:events>
                    <a:event name="submitSuccess" handler="pur5730_vendor_survey_equipment_attachment_tab_ds_submitSuccessFun"/>
                    <a:event name="update" handler="pur5730_vendor_survey_equipment_attachment_tab_ds_updateFun"/>
                </a:events>
            </a:dataSet>
        </a:dataSets>
        <a:screenBody>
            <a:screenTopToolbar>
                <a:toolbarButton id="pur5730_detail_manufacturer_saveBtn" click="pur5730_detail_manufacturer_saveFun" style="margin-left:20px;" text="HAP_SAVE" width="100"/>
                <a:toolbarButton id="pur5730_detail_manufacturer_backBtn" click="pur5730_detail_manufacturer_returnFun" text="HAP_BACK" width="100"/>
            </a:screenTopToolbar>
            <a:fieldSet style="margin-top:10px;margin-left:2px;" title="PROMPT.BASIC_INFOMATION">
                <a:hBox labelWidth="120">
                    <a:textField name="survey_number" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5710.SURVEY_NUMBER"/>
                    <a:textField name="survey_type_desc" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5710.SURVEY_TYPE_DESC" readOnly="true"/>
                    <a:textField name="status_desc" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5710.STATUS_DESC"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="company_code" bindTarget="pur5730_survey_equipment_headers_ds" prompt="FND_COMPANIES.CLIENT_CODE"/>
                    <a:textField name="company_name" bindTarget="pur5730_survey_equipment_headers_ds" prompt="FND_COMPANIES.CLIENT_NAME" width="427"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="created_by_desc" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5710.CREATED_BY_DESC"/>
                    <a:textField name="creation_date" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5710.CREATION_DATE"/>
                    <a:textField name="submit_date" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5730.SUBMIT_DATE"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textArea name="survey_description" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5710.SURVEY_DESCRIPTION" readOnly="true" width="702"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textField name="survey_comment" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR5730.SURVEY_COMMENT" width="705"/>
                </a:hBox>
            </a:fieldSet>
            <a:fieldSet id="pur5730_approve_comments_id" style="margin-top:10px;margin-left:2px;" title="审批意见">
                <a:hBox labelWidth="120">
                    <a:textArea name="approve_comments" bindTarget="pur5730_survey_equipment_headers_ds" readOnly="true" width="702"/>
                </a:hBox>
            </a:fieldSet>
            <a:fieldSet style="margin-top:10px;margin-left:2px;" title="PUR_VENDORS.SUPPLIER_INFORMATION">
                <a:hBox labelWidth="130">
                    <a:textField name="vendor_code" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR_VENDORS.VENDOR_CODE"/>
                    <a:textField name="vendor_name" bindTarget="pur5730_survey_equipment_headers_ds" prompt="PUR_VENDORS.VENDOR_NAME" width="426"/>
                </a:hBox>
                <!-- <a:hBox labelWidth="130">
                    <a:datePicker name="c_attribute3" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE3"/>
                    <a:numberField name="c_attribute4" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" decimalPrecision="2" prompt="注册资金(万)"/>
                    <a:numberField name="annual_turnover" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" decimalPrecision="2" prompt="年营业额(万)"/>
                </a:hBox> -->
                <a:hBox labelWidth="130">
                    <a:numberField name="person_nums" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="人数" width="153"/>
                    <a:textField name="account_period_desc" bindTarget="pur5730_survey_equipment_headers_ds" prompt="账期" readOnly="true"/>
                    <a:textField name="payment_method_desc" bindTarget="pur5730_survey_equipment_headers_ds" prompt="付款方式" readOnly="true"/>
                    <!-- <a:textField name="c_attribute5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE5"/> -->
                </a:hBox>
                <a:hBox labelWidth="130">
                    <a:label name="sale_situation" id="pur5730_vendor_survey_equipment_uploadBtu" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="最近三年的销售情况" renderer="pur5730_vendor_survey_equipment_rendererFun" width="120"/>
                    <img id="pur5730_vendor_survey_equipment_uploadBtu_img" alt="有附件" height="20" src="${/request/@context_path}/images/touch/report.png" title="有附件" width="20"/>
                </a:hBox>
            </a:fieldSet>
            <a:tabPanel id="vendor_survey_equipment_tabPanel_id" marginHeight="50" marginWidth="30">
                <a:tabs>
                    <a:tab id="vendor_survey_equipment_base_info_tab_id" prompt="PUR5710.ENTERPRISE_INFO" width="70">
                        <a:toolbarButton click="pur5730_basic_info_saveFun" text="HAP_SAVE" width="100"/>
                        <!-- <a:fieldSet style="margin-top:10px;margin-left:2px;" title="基本信息">
                            <a:hBox labelWidth="120">
                                <a:textField name="c_attribute1" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE1"/>
                                <a:comboBox name="c_attribute2" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE2"/>
                            </a:hBox>
                        </a:fieldSet> -->
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.OPERATION_SITUATION">
                            <a:hBox labelWidth="120">
                                <a:datePicker name="c_attribute3" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE3"/>
                                <a:numberField name="c_attribute4" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" decimalPrecision="2" prompt="注册资金(万)"/>
                                <a:numberField name="annual_turnover" allowDecimals="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="年营业额(万)"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textField name="chairman_board" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.CHAIRMAN_BOARD" readOnly="false"/>
                                <a:textField name="chairman_contact" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="董事长联系方式" readOnly="false"/>
                                <a:textField name="general_manager" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.GENERAL_MANAGER" readOnly="false"/>
                                <a:textField name="general_manager_contact" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="总经理联系方式" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textField name="first_stock_name" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="第一大股东姓名" readOnly="false"/>
                                <a:numberField name="first_stock_percent" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" max="100" min="0" prompt="第一大股东股份占比(%)" readOnly="false"/>
                                <a:textField name="sec_stock_name" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="第二大股东姓名" readOnly="false"/>
                                <a:numberField name="sec_stock_percent" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" max="100" min="0" prompt="第二大股东股份占比(%)" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:checkBox name="listed_flag" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.LISTED_FLAG" width="0"/>
                                <a:label/>
                                <a:textField name="listed_place" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.LISTED_PLACE" readOnly="false"/>
                                <a:datePicker name="listed_date" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.LISTED_DATE" readOnly="false" renderer="Aurora.formatDate"/>
                                <a:textField name="c_attribute5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE5"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:label name="organization" id="pur5730_vendor_survey_manufacturer_uploadBtu" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.ORGANIZATION" renderer="pur5730_vendor_survey_equipment_rendererFun" width="120"/>
                                <img id="pur5730_vendor_survey_organization_uploadBtu_img" alt="有附件" height="20" src="${/request/@context_path}/images/touch/report.png" title="有附件" width="20"/>
                                <a:label name="stock_right" id="pur5730_vendor_survey_manufacturer_stock_uploadBtu" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="OWNERSHIP_STRUCTURE" renderer="pur5730_vendor_survey_equipment_rendererFun" width="120"/>
                                <img id="pur5730_vendor_survey_equipment_bond_uploadBtu_img" alt="有附件" height="20" src="${/request/@context_path}/images/touch/report.png" title="有附件" width="20"/>
                                <a:checkBox name="audit_flag" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.AUDIT_FLAG" width="0"/>
                            </a:hBox>
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.COMPANY_SCALE">
                            <a:hBox labelWidth="120">
                                <a:numberField name="staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.STAFF_COUNT" readOnly="false"/>
                                <a:numberField name="management_staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.MANAGEMENT_STAFF_COUNT" readOnly="false"/>
                                <a:numberField name="technical_staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.TECHNICAL_STAFF_COUNT" readOnly="false"/>
                                <a:numberField name="c_attribute14" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR2510.BASIC_C_ATTRIBUTE14" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:numberField name="production_staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.PRODUCTION_STAFF_COUNT" readOnly="false"/>
                                <a:checkBox name="rd_flag" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.RD_FLAG" width="0"/>
                                <a:label/>
                                <a:numberField name="rd_staff_count" allowDecimals="false" allowNegative="false" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.RD_STAFF_COUNT" readOnly="false"/>
                                <a:numberField name="building_area" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.BUILDING_AREA" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="140">
                                <a:textField name="c_attribute6" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" emptyText="PUR2510.BASIC_C_ATTRIBUTE6_EMPTY_TEXT" prompt="PUR2510.BASIC_C_ATTRIBUTE6" width="450"/>
                                <a:label name="employment_qualifications" id="employment_qualifications_uploadBtu" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.EMPLOYMENT_QUALIFICATIONS" renderer="pur5730_vendor_survey_equipment_rendererFun" width="120"/>
                            </a:hBox>
                        </a:fieldSet>
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="PUR7010.BUSINESS_COST">
                            <a:hBox labelWidth="150">
                                <a:lov name="tax_type_name" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR5730.TAX_TYPE_NAME"/>
                                <a:lov name="c_attribute15" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="ACP_BILL_SOURCE.CURRENCY_CODE"/>
                                <a:comboBox name="payment_method_name" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="PUR5730.PAYMENT_METHOD_NAME"/>
                            </a:hBox>
                        </a:fieldSet>
                        <!-- <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.OVERALL_STRENGTH">
                            <a:hBox labelWidth="120">
                                <a:comboBox name="industry_ranks_desc" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.INDUSTRY_RANKS_DESC" readOnly="false"/>
                                <a:textField name="others" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" prompt="VENDOR_SURVEY_TAB.OTHERS" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="international_top5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" emptyText="VENDOR_SURVEY_TAB.ENTER_TOP_FIVE_INTERNATIONAL_WITHIN_100_WORD" prompt="VENDOR_SURVEY_TAB.INTERNATIONAL_TOP5" width="427"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="domestic_top5" bindTarget="pur5730_vendor_survey_basic_info_tab_ds" emptyText="VENDOR_SURVEY_TAB.ENTER_TOP_FIVE_DOMESTIC_WITHIN_100_WORD" prompt="VENDOR_SURVEY_TAB.DOMESTIC_TOP5" readOnly="false" width="427"/>
                            </a:hBox>
                        </a:fieldSet> -->
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_business_tab_id" prompt="PUR5710.BUSINESS_INFO" width="90">
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="联系人">
                            <a:hBox labelWidth="120">
                                <a:textField name="first_contact" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="首次联系的景旺员工" width="153"/>
                                <a:textField name="contact_way" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="联系方式" width="153"/>
                                <a:datePicker name="contact_date" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="联系时间" width="153"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textField name="financial_reconciliator" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="财务对账人员" width="153"/>
                                <a:textField name="financial_reconciliator_contact" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="财务对账人员联系方式" width="153"/>
                            </a:hBox>
                        </a:fieldSet>
                        <!--  <a:fieldSet style="margin-top:10px;margin-left:2px;" title="售后服务">
                            <a:hBox labelWidth="120">
                                <a:checkBox name="charge_flag" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="是否收费" width="0"/>
                                <a:label/>
                                <a:textField name="charge_standard" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="售后收费标准" width="153"/>
                                <a:textField name="comments" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="备注" width="153"/>
                            </a:hBox>
                        </a:fieldSet> -->
                        <a:fieldSet style="margin-top:10px;margin-left:2px;" title="VENDOR_SURVEY_TAB.OVERALL_STRENGTH">
                            <a:hBox labelWidth="120">
                                <a:comboBox name="industry_ranks_desc" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="VENDOR_SURVEY_TAB.INDUSTRY_RANKS_DESC" readOnly="false"/>
                            </a:hBox>
                            <a:hBox labelWidth="120">
                                <a:textArea name="main_competitor" bindTarget="pur5730_vendor_survey_equipment_business_tab_ds" prompt="主要竞争对手" width="427"/>
                            </a:hBox>
                        </a:fieldSet>
                    </a:tab>
                    <a:tab id="vendor_survey_after_service_tab_id" prompt="售后服务" width="80">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_after_service_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="sale_point" align="center" editor="pur5730_manufacturer_service_tf" prompt="分公司或售后服务点" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                                <a:column name="service_site" align="center" editor="pur5730_manufacturer_service_tf" prompt="地点" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                                <a:column name="person_nums" align="center" editor="pur5730_manufacturer_service_nf" prompt="人数" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                                <a:column name="founding_time" align="center" editor="pur5730_manufacturer_service_dp" prompt="成立时间" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                                <a:column name="charge_flag" align="center" editor="pur5730_manufacturer_service_cb" prompt="是否收费" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                                <a:column name="charge_standard" align="center" editor="pur5730_manufacturer_service_tf" prompt="售后服务标准" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                                <a:column name="comments" align="center" editor="pur5730_manufacturer_service_tf" prompt="备注" renderer="pur5730_equipment_service_grid_renderer" width="100"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_manufacturer_service_tf"/>
                                <a:numberField id="pur5730_manufacturer_service_nf"/>
                                <a:comboBox id="pur5730_manufacturer_service_cbb"/>
                                <a:checkBox id="pur5730_manufacturer_service_cb"/>
                                <a:datePicker id="pur5730_manufacturer_service_dp"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_contact_tab_id" prompt="FND9220.CONTACT_INFORMATION" width="70">
                        <a:grid bindTarget="pur5730_vendor_survey_equipment_contact_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:label width="10"/>
                                <a:button click="pur5730_vendor_survey_equipment_contact_tab_saveFun" text="PROMPT.SAVE"/>
                                <a:label width="10"/>
                                <a:button click="pur5730_vendor_survey_equipment_contact_tab_deleteFun" text="PROMPT.DELETE"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="contact_name" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.CONTACT_NAME" renderer="pur5730_equipment_contact_grid_renderer" width="65"/>
                                <a:column name="contact_sex_name" align="left" editor="pur5730_manufacturer_contact_cbx" prompt="FND_COM_SUP_CONTACTS.SEX" renderer="pur5730_equipment_contact_grid_renderer" width="40"/>
                                <a:column name="id_type_name" align="left" editor="pur5730_manufacturer_contact_cbx" prompt="FND_COM_SUP_CONTACTS.ID_TYPE" renderer="pur5730_equipment_contact_grid_renderer" width="60"/>
                                <a:column name="id_number" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.ID_NUMBER" renderer="pur5730_equipment_contact_grid_renderer" width="120"/>
                                <a:column name="department" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.DEPARTMENT" renderer="pur5730_equipment_contact_grid_renderer" width="80"/>
                                <a:column name="position" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.POSITION" renderer="pur5730_equipment_contact_grid_renderer" width="80"/>
                                <a:column name="mobile_phone" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.MOBIL" renderer="pur5730_equipment_contact_grid_renderer" width="100"/>
                                <a:column name="c_attribute1" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.FAX_NUMBER" renderer="pur5730_equipment_contact_grid_renderer" width="100"/>
                                <a:column name="telephone" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.PHONE" renderer="pur5730_equipment_contact_grid_renderer" width="100"/>
                                <a:column name="email" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.EMAIL" renderer="pur5730_equipment_contact_grid_renderer" width="120"/>
                                <a:column name="default_contact_flag" align="center" editor="pur5730_manufacturer_contact_cb" prompt="FND_COM_SUP_CONTACTS.DEFAULT_CONTACT_FLAG" width="65"/>
                                <a:column name="contact_comments" align="left" editor="pur5730_manufacturer_contact_tf" prompt="FND_COM_SUP_CONTACTS.CONTACT_COMMENTS" renderer="pur5730_equipment_contact_grid_renderer" width="90"/>
                                <a:column name="enabled_flag" align="center" editor="pur5730_manufacturer_contact_cb" prompt="FND_COM_SUP_CONTACTS.ENABLED_FLAG" width="40"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_manufacturer_contact_tf"/>
                                <a:comboBox id="pur5730_manufacturer_contact_cbx"/>
                                <a:checkBox id="pur5730_manufacturer_contact_cb"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_address_tab_id" prompt="FND9220.ADDRESS_INFORMATION" width="70">
                        <a:grid bindTarget="pur7210_vendor_survey_equipment_address_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="country_name" align="left" editor="pur5730_manufacturer_lov" prompt="FND_COM_SUP_ADDRESSES.COUNTRY_CODE" renderer="pur5730_equipment_address_grid_renderer" width="120"/>
                                <a:column name="province_name" align="left" editor="pur5730_manufacturer_lov" prompt="FND_COM_SUP_ADDRESSES.PROVINCE_ID" renderer="pur5730_equipment_address_grid_renderer" width="100"/>
                                <a:column name="city_name" align="left" editor="pur5730_manufacturer_lov" prompt="FND_COM_SUP_ADDRESSES.CITY_ID" renderer="pur5730_equipment_address_grid_renderer" width="100"/>
                                <a:column name="address_detail_desc" align="left" editor="pur5730_manufacturer_tf" prompt="FND_COM_SUP_ADDRESSES.ADDRESS_DETAIL_ID" renderer="pur5730_equipment_address_grid_renderer" width="150"/>
                                <a:column name="post_code" align="left" editor="pur5730_manufacturer_tf" prompt="FND_COM_SUP_ADDRESSES.POST_CODE" renderer="pur5730_equipment_address_grid_renderer" width="60"/>
                                <a:column name="address_comments" align="left" editor="pur5730_manufacturer_tf" prompt="FND_COM_SUP_ADDRESSES.ADDRESS_COMMENTS" renderer="pur5730_equipment_address_grid_renderer" width="150"/>
                                <a:column name="enabled_flag" align="center" editor="pur5730_manufacturer_cb" prompt="FND_COM_SUP_ADDRESSES.ENABLED_FLAG" renderer="pur5730_equipment_address_grid_renderer" width="60"/>
                            </a:columns>
                            <a:editors>
                                <a:lov id="pur5730_manufacturer_lov"/>
                                <a:textField id="pur5730_manufacturer_tf"/>
                                <a:checkBox id="pur5730_manufacturer_cb"/>
                            </a:editors>
                            <a:events>
                                <a:event name="cellclick" handler="pur5730_equipment_addressesCellClick_fun"/>
                            </a:events>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_account_tab_id" prompt="FND9220.ACCOUNT_INFORMATION" width="70">
                        <a:hBox>
                            <lable class="tishi"><![CDATA[注：（1）请确保银行选择、收款账号与账户名填写正确，若因信息填写错误导致延误付款，责任将由贵司承担！]]></lable>
                        </a:hBox>
                        <a:hBox>
                            <lable class="tishi2"><![CDATA[（2）中国大陆境内银行，查询不到银行代码时，请选择“Other 其他银行”；外国及港澳台地区，请选择“ABROAD 港澳台及境外银行”，手工输入开户行名称和Swiftcode！]]></lable>
                        </a:hBox>
                        <a:grid bindTarget="pur5730_vendor_survey_equipment_account_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <!-- <a:toolBar>
                                <a:button type="add"/>
                                <a:button click="pur5730_vendorSurveyAccounts_saveFun" text="PROMPT.SAVE"/>
                                <a:button type="delete"/>
                            </a:toolBar> -->
                            <!-- <a:columns>
                                <a:column name="bank_code" align="center" editor="pur5730_manufacturer_account_lov" prompt="FND_COM_SUP_ACCOUNTS.BANK_CODE" renderer="pur5730_equipment_account_grid_renderer" width="60"/>
                                <a:column name="bank_name" align="left" prompt="FND_COM_SUP_ACCOUNTS.BANK_NAME" renderer="pur5730_equipment_account_grid_renderer" width="80"/>
                                <a:column name="bank_branch_name" align="left" editorFunction="pur5730_equipment_accountEditor" prompt="FND_COM_SUP_ACCOUNTS.OPENING_BANK_NAME" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="c_attribute1" align="left" editorFunction="pur5730_equipment_accountEditor" prompt="CNAPS号" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="bank_account_name" align="left" editor="pur5730_manufacturer_account_tf" prompt="FND_COM_SUP_ACCOUNTS.BANK_ACCOUNT_NAME" renderer="pur5730_equipment_account_grid_renderer" width="100"/>
                                <a:column name="bank_account_number" align="left" editor="pur5730_manufacturer_account_tf" prompt="FND_COM_SUP_ACCOUNTS.BANK_ACCOUNT" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="payment_method_name" align="left" editor="pur5730_manufacturer_account_lov" prompt="PUR5730.PAYMENT_METHOD_NAME" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="tax_type_name" align="left" editor="pur5730_manufacturer_account_lov" prompt="PUR5730.TAX_TYPE_NAME" renderer="pur5730_equipment_account_grid_renderer" width="80"/>
                                <a:column name="currency_code" align="left" editor="pur5730_manufacturer_account_lov" prompt="ACP_BILL_SOURCE.CURRENCY_CODE" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="primary_account_flag" align="center" editor="pur5730_manufacturer_account_cb" prompt="FND_COM_SUP_ACCOUNTS.PRIMARY_ACCOUNT_FLAG" renderer="pur5730_equipment_account_grid_renderer" width="60"/>
                                <a:column name="enabled_flag" align="center" editor="pur5730_manufacturer_account_cb" prompt="FND_COM_SUP_ACCOUNTS.ENABLED_FLAG" renderer="pur5730_equipment_account_grid_renderer" width="60"/>
                            </a:columns> -->
                            <a:columns>
                                <a:column name="bank_code" align="center" prompt="FND_COM_SUP_ACCOUNTS.BANK_CODE" width="60"/>
                                <a:column name="bank_name" align="left" prompt="FND_COM_SUP_ACCOUNTS.BANK_NAME" width="80"/>
                                <a:column name="bank_branch_name" align="left" prompt="FND_COM_SUP_ACCOUNTS.OPENING_BANK_NAME" width="120"/>
                                <a:column name="c_attribute1" align="left" prompt="CNAPS号" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="bank_account_name" align="left" prompt="FND_COM_SUP_ACCOUNTS.BANK_ACCOUNT_NAME" renderer="pur5730_equipment_account_grid_renderer" width="100"/>
                                <a:column name="bank_account_number" align="left" prompt="FND_COM_SUP_ACCOUNTS.BANK_ACCOUNT" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="payment_method_name" align="left" prompt="PUR5730.PAYMENT_METHOD_NAME" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="tax_type_name" align="left" prompt="PUR5730.TAX_TYPE_NAME" renderer="pur5730_equipment_account_grid_renderer" width="80"/>
                                <a:column name="currency_code" align="left" prompt="ACP_BILL_SOURCE.CURRENCY_CODE" renderer="pur5730_equipment_account_grid_renderer" width="120"/>
                                <a:column name="primary_account_flag" align="center" prompt="FND_COM_SUP_ACCOUNTS.PRIMARY_ACCOUNT_FLAG" renderer="pur5730_equipment_account_grid_renderer" width="60"/>
                                <a:column name="enabled_flag" align="center" prompt="FND_COM_SUP_ACCOUNTS.ENABLED_FLAG" renderer="pur5730_equipment_account_grid_renderer" width="60"/>
                            </a:columns>
                            <!-- <a:editors>
                                <a:lov id="pur5730_manufacturer_account_lov"/>
                                <a:textField id="pur5730_manufacturer_account_tf"/>
                                <a:checkBox id="pur5730_manufacturer_account_cb"/>
                            </a:editors> -->
                            <a:events>
                                <a:event name="cellclick" handler="pur5730_equipment_accountsCellClick_fun"/>
                            </a:events>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_eq_product_tab_id" prompt="产品能力信息" width="110">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_eq_product_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="main_product" align="center" editor="pur5730_eq_product_tf" prompt="主营产品（工程或者服务）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="120"/>
                                <a:column name="annual_sales" align="center" editor="pur5730_eq_product_nf" footerRenderer="eq_product_footerRender" prompt="年销售额（万元）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="80"/>
                                <a:column prompt="第一大案例">
                                    <a:column name="fir_case_name" align="center" editor="pur5730_eq_product_tf" prompt="名称" renderer="pur5730_equipment_eq_cap_grid_renderer" width="50"/>
                                    <a:column name="fir_case_sales" align="center" editor="pur5730_eq_product_nf" footerRenderer="eq_product_footerRender" prompt="年交易额（万元）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第二大案例">
                                    <a:column name="sec_case_name" align="center" editor="pur5730_eq_product_tf" prompt="名称" renderer="pur5730_equipment_eq_cap_grid_renderer" width="50"/>
                                    <a:column name="sec_case_sales" align="center" editor="pur5730_eq_product_nf" footerRenderer="eq_product_footerRender" prompt="年交易额（万元）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第三大案例">
                                    <a:column name="thir_case_name" align="center" editor="pur5730_eq_product_tf" prompt="名称" renderer="pur5730_equipment_eq_cap_grid_renderer" width="50"/>
                                    <a:column name="thir_case_sales" align="center" editor="pur5730_eq_product_nf" footerRenderer="eq_product_footerRender" prompt="年交易额（万元）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第四大案例">
                                    <a:column name="for_case_name" align="center" editor="pur5730_eq_product_tf" prompt="名称" renderer="pur5730_equipment_eq_cap_grid_renderer" width="50"/>
                                    <a:column name="for_case_sales" align="center" editor="pur5730_eq_product_nf" footerRenderer="eq_product_footerRender" prompt="年交易额（万元）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第五大案例">
                                    <a:column name="fiv_case_name" align="center" editor="pur5730_eq_product_tf" prompt="名称" renderer="pur5730_equipment_eq_cap_grid_renderer" width="50"/>
                                    <a:column name="fiv_case_sales" align="center" editor="pur5730_eq_product_nf" footerRenderer="eq_product_footerRender" prompt="年交易额（万元）" renderer="pur5730_equipment_eq_cap_grid_renderer" width="80"/>
                                </a:column>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_eq_product_tf"/>
                                <a:comboBox id="pur5730_eq_product_cbb"/>
                                <a:numberField id="pur5730_eq_product_nf" allowNegative="false" decimalPrecision="2"/>
                                <a:numberField id="pur5730_eq_product_nf2" allowNegative="true" decimalPrecision="2"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_product_eq_tab_id" prompt="产品能力信息" width="110">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_product_eq_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="main_product" align="center" editor="pur5730_product_eq_tf" prompt="主营产品（设备）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="120"/>
                                <a:column name="annual_sales" align="center" editor="pur5730_product_eq_nf" footerRenderer="product_eq_footerRender" prompt="年销售量（台）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="80"/>
                                <a:column prompt="第一大客户">
                                    <a:column name="fir_case_name" align="center" editor="pur5730_product_eq_tf" prompt="名称" renderer="pur5730_equipment_cap_eq_grid_renderer" width="50"/>
                                    <a:column name="fir_case_sales" align="center" editor="pur5730_product_eq_nf" footerRenderer="product_eq_footerRender" prompt="年销售量（台）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第二大客户">
                                    <a:column name="sec_case_name" align="center" editor="pur5730_product_eq_tf" prompt="名称" renderer="pur5730_equipment_cap_eq_grid_renderer" width="50"/>
                                    <a:column name="sec_case_sales" align="center" editor="pur5730_product_eq_nf" footerRenderer="product_eq_footerRender" prompt="年销售量（台）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第三大客户">
                                    <a:column name="thir_case_name" align="center" editor="pur5730_product_eq_tf" prompt="名称" renderer="pur5730_equipment_cap_eq_grid_renderer" width="50"/>
                                    <a:column name="thir_case_sales" align="center" editor="pur5730_product_eq_nf" footerRenderer="product_eq_footerRender" prompt="年销售量（台）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第四大客户">
                                    <a:column name="for_case_name" align="center" editor="pur5730_product_eq_tf" prompt="名称" renderer="pur5730_equipment_cap_eq_grid_renderer" width="50"/>
                                    <a:column name="for_case_sales" align="center" editor="pur5730_product_eq_nf" footerRenderer="product_eq_footerRender" prompt="年销售量（台）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="80"/>
                                </a:column>
                                <a:column prompt="第五大客户">
                                    <a:column name="fiv_case_name" align="center" editor="pur5730_product_eq_tf" prompt="名称" renderer="pur5730_equipment_cap_eq_grid_renderer" width="50"/>
                                    <a:column name="fiv_case_sales" align="center" editor="pur5730_product_eq_nf" footerRenderer="product_eq_footerRender" prompt="年销售量（台）" renderer="pur5730_equipment_cap_eq_grid_renderer" width="80"/>
                                </a:column>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_product_eq_tf"/>
                                <a:comboBox id="pur5730_product_eq_cbb"/>
                                <a:numberField id="pur5730_product_eq_nf" allowNegative="false" decimalPrecision="2"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <!-- <a:tab id="vendor_survey_manufacturer_customer_tab_id" prompt="PUR5710.CLIENT_INFO" width="80">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_equipment_customer_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="customer_name" align="left" editor="pur5730_equipment_customer_tf" prompt="VENDOR_SURVEY_TAB.CUSTOMER_NAME" renderer="pur5730_equipment_customer_grid_renderer" width="100"/>
                                <a:column name="transaction_address" align="left" editor="pur5730_equipment_customer_tf" prompt="交易地址" renderer="pur5730_equipment_customer_grid_renderer" width="100"/>
                                <a:column name="transaction_content" align="left" editor="pur5730_equipment_customer_tf" prompt="交易内容" renderer="pur5730_equipment_customer_grid_renderer" width="100"/>
                                <a:column name="cooperation_date" align="left" editor="pur5730_equipment_customer_dp" prompt="合作时间" renderer="pur5730_equipment_customer_grid_renderer" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_equipment_customer_tf"/>
                                <a:datePicker id="pur5730_equipment_customer_dp"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_manufacturer_accessories_tab_id" prompt="主要配件和材料品牌" width="140">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_maj_accessories_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="material_name" align="left" editor="pur5730_equipment_accessories_tf" prompt="材料/配件名称" renderer="pur5730_equipment_accessories_grid_renderer" width="100"/>
                                <a:column name="brand_model" align="left" editor="pur5730_equipment_accessories_tf" prompt="品牌及型号" renderer="pur5730_equipment_accessories_grid_renderer" width="100"/>
                                <a:column name="unit_price" align="left" editor="pur5730_equipment_accessories_nf" prompt="单价" renderer="pur5730_equipment_accessories_grid_renderer" width="100"/>
                                <a:column name="replace_frequency" align="left" editor="pur5730_equipment_accessories_tf" prompt="更换频次" renderer="pur5730_equipment_accessories_grid_renderer" width="120"/>
                                <a:column name="monthly_expenses" align="left" editor="pur5730_equipment_accessories_nf" prompt="每月费用" renderer="pur5730_equipment_accessories_grid_renderer" width="120"/>
                                <a:column name="yearly_expenses" align="left" editor="pur5730_equipment_accessories_nf" prompt="每年费用" renderer="pur5730_equipment_accessories_grid_renderer" width="120"/>
                                <a:column name="comments" align="left" editor="pur5730_equipment_accessories_tf" prompt="备注" renderer="pur5730_equipment_accessories_grid_renderer" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_equipment_accessories_tf"/>
                                <a:numberField id="pur5730_equipment_accessories_nf"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_manufacturer_application_tab_id" prompt="软件产品和应用客户信息" width="160">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_application_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="product_name" align="left" editor="pur5730_equipment_application_tf" prompt="软件产品名称/品牌" renderer="pur5730_equipment_application_grid_renderer" width="100"/>
                                <a:column name="application_scope" align="left" editor="pur5730_equipment_application_tf" prompt="应用范围" renderer="pur5730_equipment_application_grid_renderer" width="100"/>
                                <a:column name="customer_name" align="left" editor="pur5730_equipment_application_tf" prompt="客户名称" renderer="pur5730_equipment_application_grid_renderer" width="100"/>
                                <a:column name="project_date" align="left" editor="pur5730_equipment_application_dp" prompt="项目日期" renderer="pur5730_equipment_application_grid_renderer" width="120"/>
                                <a:column name="project_price" align="left" editor="pur5730_equipment_application_nf" prompt="项目金额" renderer="pur5730_equipment_application_grid_renderer" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_equipment_application_tf"/>
                                <a:numberField id="pur5730_equipment_application_nf"/>
                                <a:datePicker id="pur5730_equipment_application_dp"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_manufacturer_equipment_performance_tab_id" prompt="设备性能" width="80">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_equipment_performance_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="production_efficiency" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="生产效率（pnl/h）" renderer="pur5730_equipment_performance_grid_renderer" width="100"/>
                                <a:column name="process_ability_size" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="制程能力（最小、最大尺寸）" renderer="pur5730_equipment_performance_grid_renderer" width="120"/>
                                <a:column name="power_consumption" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="耗电量（kw/h）" renderer="pur5730_equipment_performance_grid_renderer" width="100"/>
                                <a:column name="temperature_uniformity" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="温度均匀性" renderer="pur5730_equipment_performance_grid_renderer" width="80"/>
                                <a:column name="delivery_time" align="left" editor="pur5730_equipment_equipment_performance_nf" prompt="交货时间（天）" renderer="pur5730_equipment_performance_grid_renderer" width="100"/>
                                <a:column name="maintenance_period" align="left" editor="pur5730_equipment_equipment_performance_nf" prompt="保修期" renderer="pur5730_equipment_performance_grid_renderer" width="100"/>
                                <a:column name="process_ability_thickness" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="制程能力（最薄、最厚尺寸）" renderer="pur5730_equipment_performance_grid_renderer" width="120"/>
                                <a:column name="planeness" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="平整度" renderer="pur5730_equipment_performance_grid_renderer" width="80"/>
                                <a:column name="machine_model" align="left" editor="pur5730_equipment_equipment_performance_tf" prompt="机器型号" renderer="pur5730_equipment_performance_grid_renderer" width="100"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_equipment_equipment_performance_tf"/>
                                <a:numberField id="pur5730_equipment_equipment_performance_nf"/>
                            </a:editors>
                        </a:grid>
                    </a:tab> -->
                    <a:tab id="vendor_survey_equipment_finance_tab_id" prompt="财务信息" width="80">
                        <a:hBox>
                            <lable class="tishi"><![CDATA[注：财务信息请最少输入3行记录]]></lable>
                        </a:hBox>
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_equpiment_finance_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="year_period" align="center" editor="pur5730_manufacturer_year_nf" prompt="FND_COM_SUP_FINANCES.YEAR_PERIOD" renderer="pur5730_equipment_fin_grid_renderer" width="50"/>
                                <a:column name="turnover" align="center" editor="pur5730_manufacturer_finance_nf" prompt="营业额（万元）" renderer="pur5730_equipment_fin_grid_renderer" width="50"/>
                                <a:column name="total_assets" align="center" editor="pur5730_manufacturer_finance_nf" prompt="FND_COM_SUP_FINANCES.TOTAL_ASSETS" renderer="pur5730_equipment_fin_grid_renderer" width="100"/>
                                <a:column name="total_liabilities" align="center" editor="pur5730_manufacturer_finance_nf" prompt="FND_COM_SUP_FINANCES.TOTAL_LIABILITIES" renderer="pur5730_equipment_fin_grid_renderer" width="100"/>
                                <a:column name="current_assets" align="center" editor="pur5730_manufacturer_finance_nf" prompt="FND_COM_SUP_FINANCES.CURRENT_ASSETS" renderer="pur5730_equipment_fin_grid_renderer" width="100"/>
                                <a:column name="current_liabilities" align="center" editor="pur5730_manufacturer_finance_nf" prompt="FND_COM_SUP_FINANCES.CURRENT_LIABILITIES" renderer="pur5730_equipment_fin_grid_renderer" width="100"/>
                                <a:column name="revenue" align="center" editor="pur5730_manufacturer_finance_nf" prompt="FND_COM_SUP_FINANCES.REVENUE" renderer="pur5730_equipment_fin_grid_renderer" width="100"/>
                                <a:column name="net_profit" align="right" editor="pur5730_manufacturer_finance_nf2" prompt="FND_COM_SUP_FINANCES.NET_PROFIT" renderer="pur5730_equipment_fin_grid_renderer" width="100"/>
                                <a:column name="asset_liability_ratio" align="right" prompt="PUR_REGISTER_VENDOR_REJECT_DETAIL.ASSET_LIABILITY_RATIO" renderer="pur5730_equipment_fin_grid_renderer" width="50"/>
                                <a:column name="current_ratio" align="right" prompt="PUR_REGISTER_VENDOR_REJECT_DETAIL.CURRENT_RATIO" renderer="pur5730_equipment_fin_grid_renderer" width="50"/>
                                <a:column name="total_asset_earning _ratio" align="right" prompt="PUR_REGISTER_VENDOR_REJECT_DETAIL.ROE" renderer="pur5730_equipment_fin_grid_renderer" width="50"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_manufacturer_finance_tf"/>
                                <a:comboBox id="pur5730_manufacturer_finance_cbb"/>
                                <a:numberField id="pur5730_manufacturer_year_nf" allowDecimals="false" allowNegative="false"/>
                                <a:numberField id="pur5730_manufacturer_finance_nf" allowNegative="false" decimalPrecision="2"/>
                                <a:numberField id="pur5730_manufacturer_finance_nf2" allowNegative="true" decimalPrecision="2"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_competition_tab_id" prompt="同业竞争调查" width="90">
                        <a:hBox>
                            <lable class="tishi"><![CDATA[注：贵司法定代表人、股东或实际控制人及其亲属，是否从事经营与我司同行业的公司，并任公司法定代表人、股东、实际控制人、董事、监事、高管等职位]]></lable>
                        </a:hBox>
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_ind_competition_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="ind_name" align="center" editor="pur5730_manufacturer_competition_tf" prompt="姓名" renderer="pur5730_equipment_competition_grid_renderer" width="50"/>
                                <a:column name="ind_company_name" align="center" editor="pur5730_manufacturer_competition_tf" prompt="同行公司名称" renderer="pur5730_equipment_competition_grid_renderer" width="100"/>
                                <a:column name="ind_position" align="center" editor="pur5730_manufacturer_competition_tf" prompt="职位" renderer="pur5730_equipment_competition_grid_renderer" width="100"/>
                                <a:column name="ind_id_card" align="center" editor="pur5730_manufacturer_competition_nf" prompt="身份证号码" renderer="pur5730_equipment_competition_grid_renderer" width="100"/>
                                <a:column name="ind_competition_flag" align="center" editor="pur5730_manufacturer_competition_cb" prompt="是否与我司存在同业竞争" width="120"/>
                            </a:columns>
                            <a:editors>
                                <a:checkBox id="pur5730_manufacturer_competition_cb"/>
                                <a:textField id="pur5730_manufacturer_competition_tf"/>
                                <a:numberField id="pur5730_manufacturer_competition_nf"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_transaction_tab_id" prompt="关联交易调查" width="90">
                        <a:hBox>
                            <lable class="tishi"><![CDATA[注：贵司法定代表人、股东或实际控制人及其亲属，是否曾在我司任职]]></lable>
                        </a:hBox>
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_con_transaction_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="con_name" align="center" editor="pur5730_manufacturer_transaction_tf" prompt="姓名" renderer="pur5730_equipment_transaction_grid_renderer" width="50"/>
                                <a:column name="con_former_department" align="center" editor="pur5730_manufacturer_transaction_tf" prompt="曾任职部门" renderer="pur5730_equipment_transaction_grid_renderer" width="100"/>
                                <a:column name="con_station" align="center" editor="pur5730_manufacturer_transaction_tf" prompt="岗位" renderer="pur5730_equipment_transaction_grid_renderer" width="100"/>
                                <a:column name="con_serving_years" align="center" editor="pur5730_manufacturer_transaction_nf" prompt="任职年限" renderer="pur5730_equipment_transaction_grid_renderer" width="100"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_manufacturer_transaction_tf"/>
                                <a:numberField id="pur5730_manufacturer_transaction_nf"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_manager_tab_id" prompt="生产计划与物流管理" width="140">
                        <a:grid autoAppend="false" bindTarget="pur5730_vendor_survey_mtl_manager_tab_ds" marginHeight="280" marginWidth="45" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="delete"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="key_material_name" align="center" editor="pur5730_manufacturer_manager_tf" prompt="关键原料名称" renderer="pur5730_equipment_man_grid_renderer" width="50"/>
                                <a:column name="purchase_method" align="center" editor="pur5730_manufacturer_manager_cbb" prompt="采购方式" renderer="pur5730_equipment_man_grid_renderer" width="100"/>
                                <a:column name="annual_purchase_amount" align="center" editor="pur5730_manufacturer_manager_nf" prompt="年采购金额（万元）" renderer="pur5730_equipment_man_grid_renderer" width="100"/>
                                <a:column name="sum_ratio" align="center" editor="pur5730_manufacturer_manager_nf" prompt="金额占比（%）" renderer="pur5730_equipment_man_grid_renderer" width="100"/>
                                <a:column name="purchase_cycle" align="center" editor="pur5730_manufacturer_manager_nf" prompt="采购周期（天）" renderer="pur5730_equipment_man_grid_renderer" width="100"/>
                            </a:columns>
                            <a:editors>
                                <a:textField id="pur5730_manufacturer_manager_tf"/>
                                <a:numberField id="pur5730_manufacturer_manager_nf"/>
                                <a:comboBox id="pur5730_manufacturer_manager_cbb"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                    <a:tab id="vendor_survey_equipment_attachment_tab_id" prompt="FND9220.ATTACHMENT_INFORMATION" width="80">
                        <a:grid bindTarget="pur5730_vendor_survey_equipment_attachment_tab_ds" marginHeight="280" marginWidth="40" navBar="true" width="1000">
                            <a:toolBar>
                                <a:button type="add"/>
                                <a:button type="save"/>
                                <a:button type="clear"/>
                            </a:toolBar>
                            <a:columns>
                                <a:column name="attachment_type_desc" align="center" editorFunction="pur5730_survey_atm_type_editorFun" prompt="VENDOR_SURVEY_TAB.ATTACHMENT_TYPE_DESC" width="100"/>
                                <a:column name="attachment_name" editor="pur5730_vendor_survey_manufacturer_attachment_tab_tf" prompt="VENDOR_SURVEY_TAB.ATTACHMENT_NAME" width="200"/>
                                <a:column name="required_flag" align="center" prompt="VENDOR_SURVEY_TAB.REQUIRED_FLAG" width="80"/>
                                <a:column name="invalid_date" align="center" editor="pur5730_vendor_survey_manufacturer_attachment_tab_dp" prompt="VENDOR_SURVEY_TAB.INVALID_DATE" renderer="Aurora.formatDate" width="100"/>
                                <a:column name="last_upload_date" align="center" prompt="VENDOR_SURVEY_TAB.LAST_UPLOAD_DATE" width="130"/>
                                <a:column name="attachment_id" align="left" prompt="PROMPT.BUYER_ATTACHMENT" renderer="pur5730_survey_atm_query_rendererFun" width="70"/>
                                <a:column name="attachment_id" align="left" prompt="PROMPT.VENDOR_ATTACHMENT" renderer="pur5730_survey_atm_upload_rendererFun" width="70"/>
                            </a:columns>
                            <a:editors>
                                <a:comboBox id="pur5730_vendor_survey_manufacturer_attachment_tab_cbb"/>
                                <a:textField id="pur5730_vendor_survey_manufacturer_attachment_tab_tf"/>
                                <a:datePicker id="pur5730_vendor_survey_manufacturer_attachment_tab_dp"/>
                            </a:editors>
                        </a:grid>
                    </a:tab>
                </a:tabs>
            </a:tabPanel>
        </a:screenBody>
        <script><![CDATA[
            function diaplayTab(id) {
                var ui = document.getElementById(id);
                ui.style.display = "none";
            }
            
            function init() {
                var tab_records = $('pur5730_vendor_survey_manufacturer_tabs_ds').getAll();
                var length = tab_records.length - 1;
                for (var i = 0;i <= length;i++) {
            
            
                    if (tab_records[length - i].get('survey_tab_code') == '10_BASE_INFO') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_base_info_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '20_BUSINESS') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_business_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '22_AFTER_SERVICE') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_after_service_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '23_CONTACT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_contact_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '25_ADDRESS') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_address_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '28_ACCOUNT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_account_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '30_CUSTOMER') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_manufacturer_customer_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '40_ACCESSORIES') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_manufacturer_accessories_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '50_APPLICATION') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_manufacturer_application_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '50_PRODUCT_CAPACITY_EQ') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_eq_product_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '55_PRODUCT_CAPACITY') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_product_eq_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '60_EQUIPMENT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_manufacturer_equipment_performance_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '85_FINANCE') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_finance_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '86_COMPETITION') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_competition_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '87_TRANSACTION') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_transaction_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '88_MANAGER') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_manager_tab_id");
                        }
                    } else if (tab_records[length - i].get('survey_tab_code') == '90_ATTACHMENT') {
                        if (tab_records[length - i].get('enabled_flag') == 'N') {
                            diaplayTab("vendor_survey_equipment_attachment_tab_id");
                        }
                    }
                }
            }
            
            init();
        ]]></script>
    </a:view>
</a:screen>
