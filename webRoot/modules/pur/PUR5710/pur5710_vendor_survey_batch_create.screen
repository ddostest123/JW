<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: weiqinglong 
    $Date: 2015-3-20 下午6:26:54  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application" trace="true">
    <a:init-procedure>
        <a:model-query defaultWhereClause="flex_value_set_code = &apos;FND_VENDOR_SURVEY_TYPE&apos;" fetchAll="true" model="public.fnd_flex_value_v_lov" rootPath="pur5710_vendor_survey_type"/>
    </a:init-procedure>
    <a:view>
        <a:link id="pur5710_vendor_survey_equipment_af_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_equipment_af_tab.screen"/>
        <a:link id="pur5710_vendor_survey_equipment_eq_capacity_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_equipment_eq_capacity_tab.screen"/>
        <a:link id="pur5710_vendor_survey_equipment_capacity_eq_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_equipment_capacity_eq_tab.screen"/>
        <a:link id="pur5710_vendor_survey_equipment_basic_info_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_equipment_basic_info_tab.screen"/>
        <a:link id="pur5710_vendor_survey_equipment_business_info_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_equipment_business_tab.screen"/>
        <a:link id="pur5710_vendor_survey_equipment_account_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_equipment_account_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_basic_info_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_basic_info_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_basic_info_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_basic_info_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_business_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_business_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_contact_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_contact_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_contact_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_contact_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_address_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_address_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_address_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_address_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_account_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_account_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_account_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_account_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_branch_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_branch_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_authenticate_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_authenticate_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_authenticate_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_authenticate_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_product_capacity_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_product_capacity_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_product_capacity_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_product_capacity_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_device_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_device_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_subcontract_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_subcontract_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_customer_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_customer_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_customer_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_customer_tab.screen"/>
        <a:link id="pur5710_vendor_survey_finance_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_finance_tab.screen"/>
        <a:link id="pur5710_vendor_survey_manufacturer_attachment_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_manufacturer_attachment_tab.screen"/>
        <a:link id="pur5710_vendor_survey_merchant_attachment_tab_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_merchant_attachment_tab.screen"/>
        <a:link id="pur5710_batch_survey_release_link" model="pur.PUR5710.pur5710_vendor_survey_headers" modelaction="execute"/>
        <a:link id="pur5710_batch_survey_delete_link" model="pur.PUR5710.pur5710_vendor_survey_headers" modelaction="delete"/>
        <a:link id="pur5710_vendor_batch_survey_lines_query_link_1" model="pur.PUR5710.pur5710_vendor_survey_lines" modelaction="query"/>
        <a:link id="pur5710_vendor_survey_batch_save_link" url="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_save.svc"/>
        <script><![CDATA[
            function pur5710_batch_edit_return() {
                $('pur5710_vendor_survey_batch_create_win').close();
            }
            
            //保存
            
            function pur5710_batch_edit_save() {
                var record = $('pur5710_batch_survey_init_headers_ds').getAt(0);
            
                var header_records = $('pur5710_batch_survey_headers_ds').getAll();
                if (header_records.length == 0) {
                    Aurora.showInfoMessage('${l:PROMPT}', '${l:PUR5710.PLEASE_EDIT_ONE_VENDOR_RECORD_AT_LEAST}');
                    return '';
                }
            
                Aurora.showConfirm('${l:PROMPT}', '${l:PUR5710.CONFIRM_SAVE_AND_SUBMIT}', function() {
                    var line_records = $('pur5710_batch_survey_lines_ds').getAll();
                    for (var t = 0;t < header_records.length;t++) {
            
                        header_records[t].set('company_code', record.get('company_code'));
                        header_records[t].set('company_name', record.get('company_name'));
                        header_records[t].set('created_by_desc', record.get('created_by_desc'));
                        header_records[t].set('require_business_group', record.get('require_business_group'));
                        header_records[t].set('require_company_id', record.get('require_company_id'));
                        header_records[t].set('survey_description', record.get('survey_description'));
                        header_records[t].set('survey_type_code', record.get('survey_type_code'));
                        header_records[t].set('survey_type_desc', record.get('survey_type_desc'));
                        header_records[t].set('require_company_id', record.get('require_company_id'));
                        header_records[t].set('require_company_id', record.get('require_company_id'));
                        header_records[t].set('require_company_id', record.get('require_company_id'));
            
                        var los = [];
                        for (var i = 0;i < line_records.length;i++) {
                            var llo = {};
                            llo['survey_tab_code'] = line_records[i].get('survey_tab_code');
                            llo['enabled_flag'] = line_records[i].get('enabled_flag');
                            llo['_status'] = 'insert';
                            los.push(llo);
                        }
                        header_records[t].data['lines'] = los;
                    }
                    Aurora.Masker.mask(Ext.getBody());
                    $('pur5710_batch_survey_headers_ds').submit();
                    Aurora.Masker.unmask(Ext.getBody());
                });
            }
            
            function pur5710_vendor_survey_manufacturer_basic_info_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_basic_info_tab_link_window',
                    title: '${l:PUR5710.ENTERPRISE_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_basic_info_tab_link').getUrl(),
                    width: 900,
                    height: 580
                });
            }
            
            function pur5710_vendor_survey_merchant_basic_info_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_basic_info_tab_link_window',
                    title: '${l:PUR5710.ENTERPRISE_INFO}',
                    url: $('pur5710_vendor_survey_merchant_basic_info_tab_link').getUrl(),
                    width: 900,
                    height: 600
                });
            }
            
            function pur5710_vendor_survey_manufacturer_business_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_business_tab_link_window',
                    title: '${l:PUR5710.BUSINESS_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_business_tab_link').getUrl(),
                    width: 900,
                    height: 600
                });
            }
            
            function pur5710_vendor_survey_manufacturer_contact_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_contact_tab_link_window',
                    title: '${l:PUR5710.CONTACT_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_contact_tab_link').getUrl(),
                    width: 960,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_merchant_contact_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_contact_tab_link_window',
                    title: '${l:PUR5710.CONTACT_INFO}',
                    url: $('pur5710_vendor_survey_merchant_contact_tab_link').getUrl(),
                    width: 960,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_manufacturer_address_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_address_tab_link_window',
                    title: '${l:PUR5710.ADDRESS_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_address_tab_link').getUrl(),
                    width: 610,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_merchant_address_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_address_tab_link_window',
                    title: '${l:PUR5710.ADDRESS_INFO}',
                    url: $('pur5710_vendor_survey_merchant_address_tab_link').getUrl(),
                    width: 610,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_equipment_basic_info_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_equipment_basic_info_tab_link_window',
                    title: '${l:PUR5710.ENTERPRISE_INFO}',
                    url: $('pur5710_vendor_survey_equipment_basic_info_tab_link').getUrl(),
                    fullScreen: true
                });
            }
            
            function pur5710_vendor_survey_equipment_business_info_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_equipment_business_info_tab_link_win_window',
                    title: '${l:PUR5710.BUSINESS_INFO}',
                    url: $('pur5710_vendor_survey_equipment_business_info_tab_link').getUrl(),
                    width: 800,
                    height: 360
                });
            }
            //售后服务
            
            function pur5710_vendor_survey_equipment_af_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_equipment_af_tab_link_window',
                    title: '售后服务',
                    url: $('pur5710_vendor_survey_equipment_af_tab_link').getUrl(),
                    width: 960,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_equipment_account_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_equipment_account_tab_link_window',
                    title: '${l:PUR5710.BANK_ACCOUNT_INFO}',
                    url: $('pur5710_vendor_survey_equipment_account_tab_link').getUrl(),
                    width: 610,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_equipment_eq_capacity_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_equipment_eq_capacity_tab_link_win_window',
                    title: '产品能力信息（工程或服务）',
                    url: $('pur5710_vendor_survey_equipment_eq_capacity_tab_link').getUrl(),
                    width: 800,
                    height: 260
                });
            }
            
            function pur5710_vendor_survey_equipment_capacity_eq_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_equipment_capacity_eq_tab_link_win_window',
                    title: '产品能力信息（设备）',
                    url: $('pur5710_vendor_survey_equipment_capacity_eq_tab_link').getUrl(),
                    width: 800,
                    height: 260
                });
            }
            
            function pur5710_vendor_survey_manufacturer_account_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_account_tab_link_window',
                    title: '${l:PUR5710.BANK_ACCOUNT_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_account_tab_link').getUrl(),
                    width: 610,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_merchant_account_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_account_tab_link_window',
                    title: '${l:PUR5710.BANK_ACCOUNT_INFO}',
                    url: $('pur5710_vendor_survey_merchant_account_tab_link').getUrl(),
                    width: 610,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_merchant_branch_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_branch_tab_link_window',
                    title: '${l:PUR5710.BRANCH_INFO}',
                    url: $('pur5710_vendor_survey_merchant_branch_tab_link').getUrl(),
                    width: 730,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_manufacturer_authenticate_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_authenticate_tab_link_window',
                    title: '${l:PUR5710.MANAGEMENT_SYSTEM_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_authenticate_tab_link').getUrl(),
                    width: 490,
                    height: 400
                });
            }
            
            function pur5710_vendor_survey_merchant_authenticate_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_authenticate_tab_link_window',
                    title: '${l:PUR5710.MANAGEMENT_SYSTEM_INFO}',
                    url: $('pur5710_vendor_survey_merchant_authenticate_tab_link').getUrl(),
                    width: 490,
                    height: 400
                });
            }
            
            function pur5710_vendor_survey_manufacturer_product_capacity_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_product_capacity_tab_link_window',
                    title: '${l:PUR5710.PRODUCT_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_product_capacity_tab_link').getUrl(),
                    width: 820,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_merchant_product_capacity_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_product_capacity_tab_link_window',
                    title: '${l:PUR5710.PRODUCT_INFO}',
                    url: $('pur5710_vendor_survey_merchant_product_capacity_tab_link').getUrl(),
                    width: 660,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_manufacturer_device_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_device_tab_link_window',
                    title: '${l:PUR5710.EQUIPMENT_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_device_tab_link').getUrl(),
                    width: 545,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_manufacturer_subcontract_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_subcontract_tab_link_window',
                    title: '${l:PUR5710.SUBSUPPLIER_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_subcontract_tab_link').getUrl(),
                    width: 410,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_manufacturer_customer_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_customer_tab_link_window',
                    title: '${l:PUR5710.CLIENT_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_customer_tab_link').getUrl(),
                    width: 580,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_merchant_customer_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_customer_tab_link_window',
                    title: '${l:PUR5710.CLIENT_INFO}',
                    url: $('pur5710_vendor_survey_merchant_customer_tab_link').getUrl(),
                    width: 580,
                    height: 240
                });
            }
            
            function pur5710_vendor_survey_finance_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_finance_tab_link_window',
                    title: '财务信息',
                    url: $('pur5710_vendor_survey_finance_tab_link').getUrl(),
                    width: 900,
                    height: 300
                });
            }
            
            function pur5710_vendor_survey_manufacturer_attachment_tab_link_win() {
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_manufacturer_attachment_tab_link_window',
                    title: '${l:PUR5710.ATTACHMENT_INFO}',
                    url: $('pur5710_vendor_survey_manufacturer_attachment_tab_link').getUrl(),
                    width: 590,
                    height: 330
                });
            }
            
            function pur5710_vendor_survey_merchant_attachment_tab_link_win() {
            
                new Aurora.Window({
                    id: 'pur5710_vendor_survey_merchant_attachment_tab_link_window',
                    title: '${l:PUR5710.ATTACHMENT_INFO}',
                    url: $('pur5710_vendor_survey_merchant_attachment_tab_link').getUrl(),
                    width: 590,
                    height: 330
                });
            }
            
            function pur5710_batch_survey_tab_desc_rendererFun(value, record, name) {
            
                var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
            
                if (survey_type_code == '10_MANUFACTURER') {
                    if (record.get('survey_tab_code') == '10_BASE_INFO') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_basic_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '20_BUSINESS') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_business_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '23_CONTACT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_contact_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '25_ADDRESS') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_address_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '28_ACCOUNT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_account_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '40_AUTHENTICATE') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_authenticate_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '50_PRODUCT_CAPACITY') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_product_capacity_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '60_DEVICE') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_device_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '70_SUBCONTRACT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_subcontract_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '80_CUSTOMER') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_customer_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '85_FINANCE') {
                        return '<a href="javascript:pur5710_vendor_survey_finance_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '86_COMPETITION') {
                        return '<a href="javascript:pur5710_vendor_survey_competition_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '87_TRANSACTION') {
                        return '<a href="javascript:pur5710_vendor_survey_transaction_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '88_MANAGER') {
                        return '<a href="javascript:pur5710_vendor_survey_manager_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '90_ATTACHMENT') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_attachment_tab_link_win()">' + value + '</a>';
                    }
                } else if (survey_type_code == '30_EQUIPMENT') {
                    if (record.get('survey_tab_code') == '10_BASE_INFO') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_basic_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '20_BUSINESS') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_business_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '22_AFTER_SERVICE') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_af_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '23_CONTACT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_contact_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '25_ADDRESS') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_address_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '28_ACCOUNT') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_account_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '30_CUSTOMER') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_customer_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '40_ACCESSORIES') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_accessories_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '50_APPLICATION') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_application_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '50_PRODUCT_CAPACITY') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_eq_capacity_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '55_PRODUCT_CAPACITY') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_capacity_eq_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '60_EQUIPMENT') {
                        return '<a href="javascript:pur5710_vendor_survey_equipment_equipment_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '85_FINANCE') {
                        return '<a href="javascript:pur5710_vendor_survey_finance_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '86_COMPETITION') {
                        return '<a href="javascript:pur5710_vendor_survey_competition_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '87_TRANSACTION') {
                        return '<a href="javascript:pur5710_vendor_survey_transaction_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '88_MANAGER') {
                        return '<a href="javascript:pur5710_vendor_survey_manager_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '90_ATTACHMENT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_attachment_tab_link_win()">' + value + '</a>';
                    }
                } else if (survey_type_code == '40_BIDIRECTIONAL') {
                    if (record.get('survey_tab_code') == '10_BASIC') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_basic_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '20_CAPACITY') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_contact_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '30_DISMANTL') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_address_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '40_VENDORS') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_account_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '50_SUPPLIES') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_branch_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '60_BUSINESS') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_branch_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '70_OPERATING') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_branch_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '80_PRODUCTION') {
                        return '<a href="javascript:pur5710_vendor_survey_merchant_branch_tab_link_win()">' + value + '</a>';
                    }
                } else {
                    if (record.get('survey_tab_code') == '10_BASE_INFO') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_basic_info_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '20_BUSINESS') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_business_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '23_CONTACT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_contact_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '25_ADDRESS') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_address_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '28_ACCOUNT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_account_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '40_AUTHENTICATE') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_authenticate_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '60_DEVICE') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_device_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '70_SUBCONTRACT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_subcontract_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '80_CUSTOMER') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_customer_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '85_FINANCE') {
                        return '<a href="javascript:pur5710_vendor_survey_finance_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '86_COMPETITION') {
                        return '<a href="javascript:pur5710_vendor_survey_competition_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '87_TRANSACTION') {
                        return '<a href="javascript:pur5710_vendor_survey_transaction_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '88_MANAGER') {
                        return '<a href="javascript:pur5710_vendor_survey_manager_tab_link_win()">' + value + '</a>';
                    } else if (record.get('survey_tab_code') == '90_ATTACHMENT') {
                        return '<a href="javascript:pur5710_vendor_survey_manufacturer_attachment_tab_link_win()">' + value + '</a>';
                    }
                }
            }
            
            function pur5710_batch_on_survey_init_headers_ds_updateFun(dataSet, record, name, value, oldvalue) {
                debugger;
                var header_records = $('pur5710_batch_survey_headers_ds').getAll();
                var i = 0;
                if (name == 'company_code' || name == 'company_name') {
                    var company_id = record.get('require_company_id');
                    var company_name = record.get('company_name');
                    for (i = 0;i < header_records.length;i++) {
            
                        if (company_name == '' || company_name == 'undefined' || company_name == null) {
                            header_records[i].set('require_business_group', '');
                            header_records[i].set('require_company_id', '');
                            header_records[i].set('company_code', '');
                            header_records[i].set('supplier_categroy_desc', '');
                            header_records[i].set('enterprise_nature_desc', '');
                            header_records[i].set('domestic_foreign_relation_desc', '');
                            header_records[i].set('vendor_code', '');
                            header_records[i].set('vendor_name', '');
                            header_records[i].getMeta().getField('vendor_code').setLovPara('company_id', company_id);
                            header_records[i].getMeta().getField('vendor_code').setReadOnly(true);
                        } else {
                            header_records[i].set('require_business_group', '${/session/@business_group}');
                            header_records[i].set('require_company_id', company_id);
                            header_records[i].set('company_code', record.get('company_code'));
                            header_records[i].set('company_name', company_name);
                            header_records[i].getMeta().getField('vendor_code').setLovPara('company_id', company_id);
                            header_records[i].getMeta().getField('vendor_code').setReadOnly(false);
                        }
                    }
                } else if (name == 'survey_type_code' || name == 'survey_type_desc') {
                    var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
                    if (survey_type_code != '' && survey_type_code != 'undefined' && survey_type_code != null) {
                        $('pur5710_batch_survey_lines_ds').removeAll();
                        if (record.get('survey_type_code') == '10_MANUFACTURER') {
                            $('pur5710_batch_survey_lines_ds').setQueryParameter('vendor_survey_tab_codes', 'VENDOR_SURVEY_MANUFACTURER_TAB');
                            $('pur5710_batch_survey_lines_ds').query();
                        } else if (record.get('survey_type_code') == '30_EQUIPMENT') {
                            $('pur5710_batch_survey_lines_ds').setQueryParameter('vendor_survey_tab_codes', 'VENDOR_SURVEY_EQUIPMENT_TAB');
                            $('pur5710_batch_survey_lines_ds').query();
                        } else if (record.get('survey_type_code') == '40_BIDIRECTIONAL') {
                            $('pur5710_batch_survey_lines_ds').setQueryParameter('vendor_survey_tab_codes', 'VENDOR_SURVEY_BIDIRECTE_TAB');
                            $('pur5710_batch_survey_lines_ds').query();
                        } else {
                            $('pur5710_batch_survey_lines_ds').setQueryParameter('vendor_survey_tab_codes', 'VENDOR_SURVEY_LOGISTICS_TAB');
                            $('pur5710_batch_survey_lines_ds').query();
                        }
                    }
                }
            }
            
            function pur5710_batch_survey_headers_ds_addFun(dataSet, record, index) {
                debugger;
                var company_id = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('require_company_id');
                var require_business_group = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('require_business_group');
                var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
                var line_records = $('pur5710_batch_survey_lines_ds').getAll();
                var enabled_flag = 'N';
            
                record.set('survey_type_code', survey_type_code);
                if (company_id == '' || company_id == 'undefined' || company_id == null) {
                    record.set('require_business_group', '');
                    record.set('require_company_id', '');
                    record.set('supplier_categroy_desc', '');
                    record.set('enterprise_nature_desc', '');
                    record.set('domestic_foreign_relation_desc', '');
                    record.getMeta().getField('vendor_code').setReadOnly(true);
                    record.getMeta().getField('vendor_code').setLovPara('company_id', company_id);
                    record.getMeta().getField('vendor_code').setReadOnly(true);
                } else {
                    record.getMeta().getField('vendor_code').setLovPara('company_id', company_id);
                    record.getMeta().getField('vendor_code').setReadOnly(false);
                }
                if (survey_type_code == '10_MANUFACTURER') {
                    for (var i = 0;i < line_records.length;i++) {
                        if (line_records[i].get('survey_tab_code') == '90_ATTACHMENT') {
                            enabled_flag = line_records[i].get('enabled_flag');
                        }
                    }
            
                    if (enabled_flag == 'Y') {
                        if ($('pur5710_batch_survey_template_hds_ds').getAll().length == 1) {
                            var template_record = $('pur5710_batch_survey_template_hds_ds').getAt(0);
                            record.set('tmpl_hds_id', template_record.get('tmpl_hds_id'));
                            record.set('template_name', template_record.get('template_name'));
                        }
                        record.getMeta().getField('template_name').setReadOnly(false);
                        record.getMeta().getField('template_name').setRequired(true);
                    } else {
                        record.getMeta().getField('template_name').setReadOnly(true);
                        record.getMeta().getField('template_name').setRequired(false);
                    }
                } else {
                    if ($('pur5710_batch_survey_template_hds_ds').getAll().length == 1) {
                        var template_record = $('pur5710_batch_survey_template_hds_ds').getAt(0);
                        record.set('tmpl_hds_id', template_record.get('tmpl_hds_id'));
                        record.set('template_name', template_record.get('template_name'));
                    }
                    record.getMeta().getField('template_name').setReadOnly(false);
                    record.getMeta().getField('template_name').setRequired(true);
                }
            }
            
            function pur5710_batch_survey_headers_ds_cellclickFun(grid, row, name, record) {
                var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
                if (name == 'vendor_code') {
                    var company_id = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('require_company_id');
                    if (company_id == '' || company_id == 'undefined' || company_id == null) {
                        record.getMeta().getField('vendor_code').setLovPara('company_id', company_id);
                        record.getMeta().getField('vendor_code').setReadOnly(true);
                    } else {
                        record.getMeta().getField('vendor_code').setLovPara('company_id', company_id);
                        record.getMeta().getField('vendor_code').setReadOnly(false);
                    }
                } else if (name == 'template_name') {
                    var enabled_flag = 'N';
                    var line_records = $('pur5710_batch_survey_lines_ds').getAll();
                    if (survey_type_code == '10_MANUFACTURER') {
                        for (var i = 0;i < line_records.length;i++) {
                            if (line_records[i].get('survey_tab_code') == '90_ATTACHMENT') {
                                enabled_flag = line_records[i].get('enabled_flag');
                            }
                        }
            
                        if (enabled_flag == 'Y') {
                            if ($('pur5710_batch_survey_template_hds_ds').getAll().length == 1) {
                                var template_record = $('pur5710_batch_survey_template_hds_ds').getAt(0);
                                record.set('tmpl_hds_id', template_record.get('tmpl_hds_id'));
                                record.set('template_name', template_record.get('template_name'));
                            }
                            var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
                            record.getMeta().getField('template_name').setLovPara('template_type', survey_type_code);
                            record.getMeta().getField('template_name').setReadOnly(false);
                            record.getMeta().getField('template_name').setRequired(true);
                        } else {
                            record.getMeta().getField('template_name').setReadOnly(true);
                            record.getMeta().getField('template_name').setRequired(false);
                        }
                    } else {
                        if ($('pur5710_batch_survey_template_hds_ds').getAll().length == 1) {
                            var template_record = $('pur5710_batch_survey_template_hds_ds').getAt(0);
                            record.set('tmpl_hds_id', template_record.get('tmpl_hds_id'));
                            record.set('template_name', template_record.get('template_name'));
                        }
                        var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
                        record.getMeta().getField('template_name').setLovPara('template_type', survey_type_code);
                        record.getMeta().getField('template_name').setReadOnly(false);
                        record.getMeta().getField('template_name').setRequired(true);
                    }
                }
            }
            
            function pur5710_batch_survey_headers_ds_updateFun(dataSet, record, name, value, oldvalue) {
                if (name == 'vendor_code' || name == 'vendor_name') {
                    if (record.get('vendor_name') == '' || record.get('vendor_name') == 'undefined' || record.get('vendor_name') == null) {
                        record.set('supplier_categroy_desc', '');
                        record.set('enterprise_nature_desc', '');
                        record.set('domestic_foreign_relation_desc', '');
                    }
                }
            }
            
            function pur5710_batch_survey_lines_ds_updateFun(dataSet, record, name, value, oldvalue) {
                if (record.get('survey_tab_code') == '90_ATTACHMENT') {
                    var enabled_flag = record.get('enabled_flag');
                    var header_records = $('pur5710_batch_survey_headers_ds').getAll();
                    for (var i = 0;i < header_records.length;i++) {
                        if (enabled_flag == 'Y') {
                            if ($('pur5710_batch_survey_template_hds_ds').getAll().length == 1) {
                                var template_record = $('pur5710_batch_survey_template_hds_ds').getAt(0);
                                header_records[i].set('tmpl_hds_id', template_record.get('tmpl_hds_id'));
                                header_records[i].set('template_name', template_record.get('template_name'));
                            }
                            header_records[i].getMeta().getField('template_name').setReadOnly(false);
                            header_records[i].getMeta().getField('template_name').setRequired(true);
                        } else {
                            header_records[i].set('tmpl_hds_id', '');
                            header_records[i].set('template_name', '');
                            header_records[i].getMeta().getField('template_name').setReadOnly(true);
                            header_records[i].getMeta().getField('template_name').setRequired(false);
                        }
                    }
                }
            }
            
            function pur5710_batch_survey_lines_ds_loadFun(dataSet) {
                var line_records = dataSet.getAll();
                var survey_type_code = $('pur5710_batch_survey_init_headers_ds').getAt(0).get('survey_type_code');
                if (survey_type_code == '10_MANUFACTURER') {
                    for (var i = 0;i < line_records.length;i++) {
                        if (line_records[i].get('survey_tab_code') == '90_ATTACHMENT') {
                            var enabled_flag = line_records[i].get('enabled_flag');
                            if (enabled_flag == 'Y') {
                                var header_records = $('pur5710_batch_survey_headers_ds').getAll();
                                for (var j = 0;j < header_records.length;j++) {
                                    if (enabled_flag == 'Y') {
                                        header_records[j].getMeta().getField('template_name').setReadOnly(false);
                                        header_records[j].getMeta().getField('template_name').setRequired(true);
                                    }
                                }
            
                                $('pur5710_batch_survey_template_hds_ds').setQueryParameter('template_type', survey_type_code);
                                $('pur5710_batch_survey_template_hds_ds').setQueryParameter('default_flag', 'Y');
                                $('pur5710_batch_survey_template_hds_ds').query();
                            }
                        }
                    }
                } else {
                    var header_records = $('pur5710_batch_survey_headers_ds').getAll();
                    for (var j = 0;j < header_records.length;j++) {
                        if (enabled_flag == 'Y') {
                            header_records[j].getMeta().getField('template_name').setReadOnly(false);
                            header_records[j].getMeta().getField('template_name').setRequired(true);
                        }
                    }
            
                    $('pur5710_batch_survey_template_hds_ds').setQueryParameter('template_type', survey_type_code);
                    $('pur5710_batch_survey_template_hds_ds').setQueryParameter('default_flag', 'Y');
                    $('pur5710_batch_survey_template_hds_ds').query();
                }
            }
            
            function pur5710_batch_survey_template_hds_ds_loadFun(dataSet) {
                var header_records = $('pur5710_batch_survey_headers_ds').getAll();
                for (var i = 0;i < header_records.length;i++) {
                    header_records[i].set('tmpl_hds_id', dataSet.getAt(0).get('tmpl_hds_id'));
                    header_records[i].set('template_name', dataSet.getAt(0).get('template_name'));
                }
            }
            
            function pur5710_batch_survey_headers_ds_submitsuccessFun(dataSet, res) {
                Aurora.showMessage('${l:PROMPT}', '${l:PUR5710.RELEASE_SUCCESS}', null);
                pur5710_batch_edit_return();
            }
        ]]></script>
        <a:dataSets>
            <a:dataSet id="pur5710_vendor_batch_survey_type_ds">
                <a:datas dataSource="pur5710_vendor_survey_type"/>
            </a:dataSet>
            <a:dataSet id="pur5710_batch_survey_init_headers_ds" autoQuery="true" model="pur.PUR5710.pur5710_vendor_survey_headers">
                <a:fields>
                    <a:field name="vendor_name"/>
                    <a:field name="survey_header_id"/>
                    <a:field name="survey_number"/>
                    <a:field name="created_by_desc"/>
                    <a:field name="creation_date"/>
                    <a:field name="status" defaultValue="10_NEW"/>
                    <a:field name="status_display"/>
                    <a:field name="require_business_group"/>
                    <a:field name="require_company_id"/>
                    <a:field name="company_code" autoComplete="true" autoCompleteField="company_code" lovGridHeight="360" lovHeight="500" lovService="pur.PUR5710.pur5710_company_lov" lovWidth="500" required="true" title="PUR5170.VENDOR_QUERY">
                        <a:mapping>
                            <a:map from="owner_business_group" to="require_business_group"/>
                            <a:map from="owner_company_id" to="require_company_id"/>
                            <a:map from="company_code" to="company_code"/>
                            <a:map from="company_name" to="company_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="company_name"/>
                    <a:field name="survey_type_code"/>
                    <a:field name="survey_type_desc" displayField="flex_desc" options="pur5710_vendor_batch_survey_type_ds" required="true" returnField="survey_type_code" valueField="flex_value"/>
                </a:fields>
                <a:events>
                    <a:event name="update" handler="pur5710_batch_on_survey_init_headers_ds_updateFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5710_batch_survey_headers_ds" selectable="true" submitUrl="${/request/@context_path}/modules/pur/PUR5710/pur5710_vendor_survey_batch_save.svc">
                <a:fields>
                    <a:field name="vendor_name"/>
                    <a:field name="survey_header_id"/>
                    <a:field name="survey_number"/>
                    <a:field name="created_by_desc"/>
                    <a:field name="creation_date"/>
                    <a:field name="status" defaultValue="10_NEW"/>
                    <a:field name="status_display"/>
                    <a:field name="require_business_group" required="true"/>
                    <a:field name="require_company_id" required="true"/>
                    <a:field name="company_code" autoComplete="true" autoCompleteField="company_code" lovGridHeight="360" lovHeight="500" lovService="pur.PUR5710.pur5710_company_lov" lovWidth="500" title="PUR5170.COMPANY_QUERY">
                        <a:mapping>
                            <a:map from="owner_business_group" to="require_business_group"/>
                            <a:map from="owner_company_id" to="require_company_id"/>
                            <a:map from="company_code" to="company_code"/>
                            <a:map from="company_name" to="company_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="company_name" required="true"/>
                    <a:field name="vendor_code" autoComplete="true" autoCompleteField="vendor_code" lovGridHeight="360" lovHeight="500" lovService="pur.PUR5710.pur5710_coop_vendor_lov" lovWidth="500" readOnly="true" required="true" title="PUR5170.VENDOR_QUERY">
                        <a:mapping>
                            <a:map from="coop_business_group" to="supplier_business_group"/>
                            <a:map from="coop_company_id" to="supplier_company_id"/>
                            <a:map from="vendor_code" to="vendor_code"/>
                            <a:map from="vendor_name" to="vendor_name"/>
                            <a:map from="supplier_categroy" to="supplier_categroy"/>
                            <a:map from="supplier_categroy_desc" to="supplier_categroy_desc"/>
                            <a:map from="enterprise_nature_desc" to="enterprise_nature_desc"/>
                            <a:map from="domestic_foreign_relation_desc" to="domestic_foreign_relation_desc"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="supplier_business_group"/>
                    <a:field name="supplier_company_id"/>
                    <a:field name="survey_type_code"/>
                    <a:field name="supplier_categroy"/>
                    <a:field name="supplier_categroy_desc"/>
                    <a:field name="enterprise_nature_desc"/>
                    <a:field name="domestic_foreign_relation_desc"/>
                    <a:field name="survey_type_desc" displayField="flex_desc" options="pur5710_vendor_batch_survey_type_ds" required="true" returnField="survey_type_code" valueField="flex_value"/>
                    <a:field name="tmpl_hds_id"/>
                    <a:field name="template_name" autoComplete="true" autoCompleteField="tmpl_hds_code" lovGridHeight="360" lovHeight="500" lovService="pur.PUR5710.pur5710_survey_template_hds_lov" lovWidth="500" readOnly="true" title="PUR5710.TEMPLATE_NAME">
                        <a:mapping>
                            <a:map from="tmpl_hds_id" to="tmpl_hds_id"/>
                            <a:map from="template_name" to="template_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="survey_description"/>
                </a:fields>
                <a:events>
                    <a:event name="add" handler="pur5710_batch_survey_headers_ds_addFun"/>
                    <a:event name="update" handler="pur5710_batch_survey_headers_ds_updateFun"/>
                    <a:event name="submitsuccess" handler="pur5710_batch_survey_headers_ds_submitsuccessFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5710_batch_survey_lines_ds" model="pur.PUR5710.pur5710_vendor_survey_lines" pageSize="15">
                <a:fields>
                    <a:field name="survey_line_id"/>
                    <a:field name="survey_header_id"/>
                    <a:field name="survey_tab_code"/>
                    <a:field name="survey_tab_desc"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5710_batch_survey_lines_ds_loadFun"/>
                    <a:event name="update" handler="pur5710_batch_survey_lines_ds_updateFun"/>
                </a:events>
            </a:dataSet>
            <a:dataSet id="pur5710_batch_survey_template_hds_ds" model="pur.PUR5710.pur5710_survey_template_hds_lov">
                <a:fields>
                    <a:field name="tmpl_hds_id"/>
                    <a:field name="template_name"/>
                </a:fields>
                <a:events>
                    <a:event name="load" handler="pur5710_batch_survey_template_hds_ds_loadFun"/>
                </a:events>
            </a:dataSet>
        </a:dataSets>
        <a:defaultScreen>
            <a:screenTopToolbar>
                <a:toolbarButton click="pur5710_batch_edit_save" text="PUR5710.SAVE_AND_SUBMIT" width="100"/>
                <a:toolbarButton click="pur5710_batch_edit_return" text="HAP_BACK" width="100"/>
            </a:screenTopToolbar>
            <a:fieldSet marginWidth="290" style="margin-top:10px;margin-left:2px;" title="PROMPT.BASIC_INFOMATION">
                <a:hBox labelWidth="120">
                    <a:comboBox name="survey_type_desc" bindTarget="pur5710_batch_survey_init_headers_ds" prompt="PUR5710.SURVEY_TYPE_DESC"/>
                    <a:textField name="status_desc" bindTarget="pur5710_batch_survey_init_headers_ds" prompt="PUR5710.STATUS_DESC" readOnly="true"/>
                    <a:textField name="creation_date" bindTarget="pur5710_batch_survey_init_headers_ds" prompt="PUR5710.CREATION_DATE" readOnly="true"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:lov name="company_code" bindTarget="pur5710_batch_survey_init_headers_ds" prompt="FND_COMPANIES.COMPANY_CODE"/>
                    <a:textField name="company_name" bindTarget="pur5710_batch_survey_init_headers_ds" prompt="FND_COMPANIES.COMPANY_NAME" readOnly="true" width="427"/>
                </a:hBox>
                <a:hBox labelWidth="120">
                    <a:textArea name="survey_description" bindTarget="pur5710_batch_survey_init_headers_ds" prompt="PUR5710.SURVEY_DESCRIPTION" width="702"/>
                </a:hBox>
            </a:fieldSet>
            <a:hBox>
                <a:grid bindTarget="pur5710_batch_survey_headers_ds" height="500" style="margin-top:10px;margin-left:2px;" width="828">
                    <a:toolBar>
                        <a:button type="add"/>
                        <a:button type="clear"/>
                    </a:toolBar>
                    <a:columns>
                        <a:column name="vendor_code" align="center" editor="pur5710_batch_vendor_suvey_headers_lov" prompt="PUR_VENDORS.VENDOR_CODE"/>
                        <a:column name="vendor_name" prompt="PUR_VENDORS.VENDOR_NAME" width="200"/>
                        <a:column name="supplier_categroy_desc" align="center" prompt="PUR5710.SUPPLIER_CATEGROY_DESC"/>
                        <a:column name="enterprise_nature_desc" align="center" prompt="PUR5710.ENTERPRISE_NATURE_DESC"/>
                        <a:column name="domestic_foreign_relation_desc" align="center" prompt="PUR5710.DOMESTIC_FOREIGN_RELATION_DESC"/>
                        <a:column name="template_name" editor="pur5710_batch_vendor_suvey_headers_lov" prompt="PUR5710.TEMPLATE_NAME" width="150"/>
                    </a:columns>
                    <a:editors>
                        <a:lov id="pur5710_batch_vendor_suvey_headers_lov"/>
                    </a:editors>
                    <a:events>
                        <a:event name="cellclick" handler="pur5710_batch_survey_headers_ds_cellclickFun"/>
                    </a:events>
                </a:grid>
                <a:grid bindTarget="pur5710_batch_survey_lines_ds" height="505" style="margin-top:10px;margin-left:10px;" width="222">
                    <a:columns>
                        <a:column name="survey_tab_desc" align="center" prompt="PUR5710_SURVEY_LINES.SURVEY_TAB_DESC" renderer="pur5710_batch_survey_tab_desc_rendererFun" width="120"/>
                        <a:column name="enabled_flag" align="center" editor="pur5710_batch_vendor_suvey_lines_cb" prompt="PUR5710_SURVEY_LINES.ENABLED_FLAG" width="80"/>
                    </a:columns>
                    <a:editors>
                        <a:checkBox id="pur5710_batch_vendor_suvey_lines_cb"/>
                    </a:editors>
                </a:grid>
            </a:hBox>
        </a:defaultScreen>
    </a:view>
</a:screen>
