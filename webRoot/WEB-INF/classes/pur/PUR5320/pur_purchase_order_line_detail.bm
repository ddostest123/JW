<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: Dru  
    $Date: 2014-7-22 下午2:43:16  
    $Revision: 1.0  
    $Purpose: 
-->
<bm:model xmlns:s="aurora.plugin.script" xmlns:bm="http://www.aurora-framework.org/schema/bm">
    <bm:operations>
        <bm:operation name="query">
            <bm:query-sql><![CDATA[
 select *from (
 SELECT pll.pur_line_location_id,
      h.pur_header_id,
      l.pur_line_id,
       l.line_num,
       pll.shipment_num,
       pda.pur_distribution_id,
       pda.distribution_num,
       l.cancel_flag,
       l.item_id,
       pll.line_location_status,
       pll.consigned_flag,
       nvl(msi.display_item_code, l.item_code) item_code,
       l.item_description,
       msi.item_specs,
       msi.item_model,
       msi.manufacturer_code,
       msi.manufacturer_name,
       msi.brand,
       l.ean_code,
       l.unit_meas_lookup_code,
       nvl((select vl.uom_desc from fnd_uom_codes_vl vl where l.unit_meas_lookup_code = vl.uom_code and vl.business_group = h.owner_business_group),l.unit_meas_lookup_code) unit_meas_lookup_code_desc,
       pll.quantity,
       (select a.display_po_number from pur_headers_all a where a.pur_header_id=pll.parent_header_id) as parent_po_num,
        l.unit_price unit_price,
        round (pll.quantity * l.unit_price,2) AS line_amount,
       to_char(pll.need_by_date,
               'yyyy-mm-dd') AS need_by_date,
       to_char(pll.promised_date,
               'yyyy-mm-dd') AS promised_date,
       pll.vendor_desc,
       pll.ship_to_location_name,
       h.bill_to_location_name,
       l.line_type_name,
       l.category_id,
       l.category_name,
       l.secondary_unit_of_measure,
       l.secondary_quantity,
       l.line_desc,
       pll.c_attribute1,
       pll.c_attribute2,
       pll.c_attribute3,
       pll.warehouse_id,
       (SELECT iwv.description FROM inv_warehouses_vl iwv WHERE iwv.warehouse_id = pll.warehouse_id) warehouse_name,
       pll.inv_location_id,
       (SELECT ilv.description FROM inv_locations_vl ilv WHERE ilv.location_id = pll.inv_location_id) inv_location_name,
       (SELECT su.user_id FROM sys_user   su, pur_buyers pb WHERE su.user_id = pb.user_id AND pb.buyer_id = h.agent_id AND ROWNUM = 1) agent_user_id,
       h.company_id,
       h.coop_company_id,
       h.coop_business_group,
       h.owner_company_id,
       h.owner_business_group,
       h.business_unit_id,
       h.vendor_id,
       to_char(pll.request_arrival_date,'YYYY-MM-DD') request_arrival_date_desc,
                    l.is_returned_flag,
                    (SELECT
                        v.code_value_name
                    FROM
                        sys_code_values_v v
                    WHERE
                        v.code       = 'YES_NO' AND
                        v.code_value = nvl(l.is_returned_flag,'N') 
                    ) AS is_returned_flag_desc,
                    l.is_free_flag,
                    (SELECT
                        v.code_value_name
                    FROM
                        sys_code_values_v v
                    WHERE
                        v.code       = 'YES_NO' AND
                        v.code_value = nvl(l.is_free_flag,'N') 
                    ) AS is_free_flag_desc,
                    l.is_immed_shipped_flag,
                    (SELECT
                        v.code_value_name
                    FROM
                        sys_code_values_v v
                    WHERE
                        v.code       = 'YES_NO' AND
                        v.code_value = nvl(l.is_immed_shipped_flag,'N') 
                    ) AS is_immed_shipped_flag_desc,
                    l.actual_receiver_code,
                    l.actual_receiver_name,
                    l.ship_to_location_address,
                    l.contacts_info,
                    pll.ship_to_organization_id,
                    (SELECT iov.description FROM inv_organizations_vl iov WHERE iov.inv_organization_id = pll.ship_to_organization_id) ship_to_organization_name,
                    l.tax_code_id,
                    (SELECT tc.tax_type_rate FROM fnd_tax_type_codes tc where tc.tax_type_id = l.tax_code_id) tax_rate,
                    DECODE(fnd_config_cnt_get_pkg.get_bg_item_value_po_05(p_business_group => h.owner_business_group),
                    	   'Y',
                    	  (l.unit_price * (1 + (SELECT tc.tax_type_rate FROM fnd_tax_type_codes tc where tc.tax_type_id = l.tax_code_id)/100)),
                           l.original_unit_price) AS original_unit_price,
                    l.currency_code,
                    l.rate,
                    (SELECT
                        v.code_value_name
                    FROM
                        sys_code_values_v v
                    WHERE
                        v.code       = 'YES_NO' AND
                        v.code_value = nvl(pll.user_hold_flag,'N') 
                    ) AS user_hold_flag_desc,
                    (SELECT
                        v.code_value_name
                    FROM
                        sys_code_values_v v
                    WHERE
                        v.code       = 'YES_NO' AND
                        v.code_value = nvl(pll.frozen_flag,'N') 
                    ) AS frozen_flag_desc,
                    l.comments,
                    l.unit_id,
                    (SELECT hu.unit_code FROM hrm_units hu WHERE hu.unit_id = l.unit_id) AS unit_code,
                    (SELECT rh.project_name
					  FROM pur_purchase_info_record_po rp,
					       pur_req_headers             rh
					 WHERE rp.req_header_id = rh.req_header_id
					       AND rp.pur_header_id = h.pur_header_id
					       AND rp.pur_line_id = l.pur_line_id
					       AND rownum = 1) AS project_name,
					 (SELECT prl.asset_number
                       FROM pur_req_lines               prl,
                            pur_purchase_info_record_po ppi
                      WHERE prl.req_line_id = ppi.req_line_id
                            AND pll.pur_line_id = ppi.pur_line_id) AS asset_number,
        null useless_id_3,
        null useless_id_4,
        null useless_id_5,
        null useless_id_6,
        null useless_id_7,
        null useless_id_8,
        null useless_id_9,
        null useless_id_10,
        null useless_id_11
  FROM mtl_system_items       msi,
       pur_headers_all_v      h,
       pur_lines_all          l,
       pur_line_locations_all pll,
       pur_distribution_all   pda
 WHERE msi.item_id(+) = l.item_id
       AND h.pur_header_id = l.pur_header_id
       AND l.pur_line_id = pll.pur_line_id
       AND pda.pur_line_location_id = pll.pur_line_location_id
       and h.owner_business_group = ${/session/@business_group}
       AND h.pur_header_id = ${@pur_header_id}
       and h.created_by = ${/session/@user_id})v
   #WHERE_CLAUSE# ORDER BY lpad(line_num,10,'0')       ASC,
          lpad(shipment_num,10,'0')  ASC
]]></bm:query-sql>
        </bm:operation>
        <bm:operation name="insert">
            <bm:parameters>
                <bm:parameter name="pur_line_id" input="false" output="true" outputPath="@pur_line_id"/>
            </bm:parameters>
            <bm:update-sql><![CDATA[
BEGIN
  pur_po_pkg.create_pur_lines_all(x_pur_line_id                 => ${@pur_line_id},
                                  p_pur_header_id               => nvl(${@pur_header_id},${../../@pur_header_id}),
                                  p_line_type_id                => ${@line_type_id},
                                  p_line_type_name              => ${@line_type_name},
                                  p_line_num                    => '10',
                                  p_item_id                     => ${@item_id},
                                  p_item_code                   => ${@item_code},
                                  p_item_description            => ${@item_description},
                                  p_item_revision               => null,
                                  p_category_id                 => ${@category_id},
                                  p_category_name               => ${@category_name},
                                  p_unit_meas_lookup_code       => ${@unit_meas_lookup_code},
                                  p_quantity_committed          => null,
                                  p_committed_amount            => null,
                                  p_allow_price_override_flag   => null,
                                  p_not_to_exceed_price         => null,
                                  p_list_price_per_unit         => null,
                                  p_unit_price                  => ${@unit_price},
                                  p_quantity                    => ${@quantity},
                                  p_un_number_id                => null,
                                  p_hazard_class_id             => null,
                                  p_note_to_vendor              => null,
                                  p_from_header_id              => null,
                                  p_from_line_id                => null,
                                  p_min_order_quantity          => null,
                                  p_max_order_quantity          => null,
                                  p_qty_rcv_tolerance           => null,
                                  p_over_tolerance_error_flag   => null,
                                  p_market_price                => null,
                                  p_unordered_flag              => null,
                                  p_closed_flag                 => 'N',
                                  p_user_hold_flag              => 'N',
                                  p_cancel_flag                 => 'N',
                                  p_cancelled_by                => null,
                                  p_cancel_date                 => null,
                                  p_cancel_reason               => null,
                                  p_firm_status_lookup_code     => null,
                                  p_firm_date                   => null,
                                  p_vendor_product_num          => null,
                                  p_contract_num                => null,
                                  p_note_to_authorizer          => null,
                                  p_taxable_flag                => null,
                                  p_tax_name                    => null,
                                  p_type_1099                   => null,
                                  p_capital_expense_flag        => null,
                                  p_negotiated_by_preparer_flag => null,
                                  p_attribute_category          => null,
                                  p_reference_num               => null,
                                  p_min_release_amount          => null,
                                  p_price_type_lookup_code      => null,
                                  p_closed_code                 => null,
                                  p_price_break_lookup_code     => null,
                                  p_ussgl_transaction_code      => null,
                                  p_government_context          => null,
                                  p_request_id                  => null,
                                  p_program_application_id      => null,
                                  p_program_id                  => null,
                                  p_program_update_date         => null,
                                  p_closed_date                 => null,
                                  p_closed_reason               => null,
                                  p_closed_by                   => null,
                                  p_transaction_reason_code     => null,
                                  p_org_id                      => ${@business_unit_id},
                                  p_qc_grade                    => null,
                                  p_base_uom                    => null,
                                  p_base_qty                    => null,
                                  p_secondary_uom               => null,
                                  p_secondary_qty               => null,
                                  p_line_reference_num          => null,
                                  p_project_id                  => null,
                                  p_task_id                     => null,
                                  p_expiration_date             => null,
                                  p_tax_code_id                 => ${@tax_code_id},
                                  p_oke_contract_header_id      => null,
                                  p_oke_contract_version_id     => null,
                                  p_secondary_quantity          => null,
                                  p_secondary_unit_of_measure   => null,
                                  p_preferred_grade             => null,
                                  p_auction_header_id           => null,
                                  p_auction_display_number      => null,
                                  p_auction_line_number         => null,
                                  p_bid_number                  => null,
                                  p_bid_line_number             => null,
                                  p_retroactive_date            => null,
                                  p_supplier_ref_number         => null,
                                  p_contract_id                 => null,
                                  p_start_date                  => null,
                                  p_amount                      => round(${@unit_price} * ${@quantity},2),
                                  p_job_id                      => null,
                                  p_contractor_first_name       => null,
                                  p_contractor_last_name        => null,
                                  p_manual_price_change_flag    => null,
                                  p_order_type_lookup_code      => null,
                                  p_purchase_basis              => null,
                                  p_matching_basis              => null,
                                  p_from_line_location_id       => null,
                                  p_svc_amount_notif_sent       => null,
                                  p_svc_completion_notif_sent   => null,
                                  p_base_unit_price             => null,
                                  p_release_type                => null,
                                  p_release_flag                => 'N',
                                  p_release_date                => null,
                                  p_release_by                  => null,
                                  p_confirm_date                => null,
                                  p_confirm_type                => null,
                                  p_confirm_flag                => 'N',
                                  p_confirm_by                  => null,
                                  p_agent_desc                  => ${@agent_desc},
                                  p_vendor_desc                 => ${@vendor_desc},
                                  p_line_desc                   => ${@line_desc},
                                  p_deliver_quantity            => null,
                                  p_return_quantity             => null,
                                  p_attribute1                  => ${@attribute1},
                                  p_attribute2                  => ${@attribute2},
                                  p_attribute3                  => ${@attribute3},
                                  p_attribute4                  => ${@attribute4},
                                  p_attribute5                  => ${@attribute5},
                                  p_attribute6                  => ${@attribute6},
                                  p_attribute7                  => ${@attribute7},
                                  p_attribute8                  => ${@attribute8},
                                  p_attribute9                  => ${@attribute9},
                                  p_attribute10                 => ${@attribute10},
                                  p_attribute11                 => ${@attribute11},
                                  p_attribute12                 => ${@attribute12},
                                  p_attribute13                 => ${@attribute13},
                                  p_attribute14                 => ${@attribute14},
                                  p_attribute15                 => ${@attribute15},
                                  p_data_source                 => 'MANUAL',
                                  p_source_from_id              => null,
                                  p_comments                    => ${@comments},
                                  p_c_attribute1                => ${@c_attribute1},
                                  p_c_attribute2                => ${@c_attribute2},
                                  p_c_attribute3                => ${@c_attribute3},
                                  p_c_attribute4                => ${@c_attribute4},
                                  p_c_attribute5                => ${@c_attribute5},
                                  p_c_attribute6                => ${@c_attribute6},
                                  p_c_attribute7                => ${@c_attribute7},
                                  p_c_attribute8                => ${@c_attribute8},
                                  p_c_attribute9                => ${@c_attribute9},
                                  p_c_attribute10               => ${@c_attribute10},
                                  p_c_attribute11               => ${@c_attribute11},
                                  p_c_attribute12               => ${@c_attribute12},
                                  p_c_attribute13               => ${@c_attribute13},
                                  p_c_attribute14               => ${@c_attribute14},
                                  p_c_attribute15               => ${@c_attribute15},
                                  p_c_attribute16               => ${@c_attribute16},
                                  p_c_attribute17               => ${@c_attribute17},
                                  p_c_attribute18               => ${@c_attribute18},
                                  p_c_attribute19               => ${@c_attribute19},
                                  p_c_attribute20               => ${@c_attribute20},
                                  p_c_attribute21               => ${@c_attribute21},
                                  p_c_attribute22               => ${@c_attribute22},
                                  p_c_attribute23               => ${@c_attribute23},
                                  p_c_attribute24               => ${@c_attribute24},
                                  p_c_attribute25               => ${@c_attribute25},
                                  p_c_attribute26               => ${@c_attribute26},
                                  p_c_attribute27               => ${@c_attribute27},
                                  p_c_attribute28               => ${@c_attribute28},
                                  p_c_attribute29               => ${@c_attribute29},
                                  p_c_attribute30               => ${@c_attribute30},
                                  p_c_attribute31               => ${@c_attribute31},
                                  p_c_attribute32               => ${@c_attribute32},
                                  p_c_attribute33               => ${@c_attribute33},
                                  p_c_attribute34               => ${@c_attribute34},
                                  p_c_attribute35               => ${@c_attribute35},
                                  p_c_attribute36               => ${@c_attribute36},
                                  p_c_attribute37               => ${@c_attribute37},
                                  p_c_attribute38               => ${@c_attribute38},
                                  p_c_attribute39               => ${@c_attribute39},
                                  p_c_attribute40               => ${@c_attribute40},
                                  p_c_attribute41               => ${@c_attribute41},
                                  p_c_attribute42               => ${@c_attribute42},
                                  p_c_attribute43               => ${@c_attribute43},
                                  p_c_attribute44               => ${@c_attribute44},
                                  p_c_attribute45               => ${@c_attribute45},
                                  p_c_attribute46               => ${@c_attribute46},
                                  p_c_attribute47               => ${@c_attribute47},
                                  p_c_attribute48               => ${@c_attribute48},
                                  p_c_attribute49               => ${@c_attribute49},
                                  p_c_attribute50               => ${@c_attribute50},
                                  p_manufacturer_code           => ${@manufacturer_code},
                                  p_manufacturer_name           => ${@manufacturer_name},
                                  p_agency_code                 => ${@agency_code},
                                  p_agency_name                 => ${@agency_name},
                                  p_item_type                   => ${@item_type},
                                  p_lots_num                    => ${@lots_num},
                                  p_lots_validity_date          => ${@lots_validity_date},
                                  p_erp_po_line_type            => ${@erp_po_line_type},
                                  p_erp_po_line_type_desc       => ${@erp_po_line_type_desc},
                                  p_original_supply_code        => ${@original_supply_code},
                                  p_original_supply_name        => ${@original_supply_name},
                                  p_erp_creation_date           => null,
                                  p_erp_last_update_date        => null,
                                  p_approved_date               => null,
                                  p_line_type_code              => ${@line_type_code},
                                  p_inv_organization_id         => ${@ship_to_organization_id},
                                  p_is_returned_flag            => ${@is_returned_flag},
                                  p_is_free_flag                => ${@is_free_flag},
                                  p_is_immed_shipped_flag       => ${@is_immed_shipped_flag},
                                  p_ship_to_location_address    => ${@ship_to_location_address},
                                  p_contacts_info               => ${@contacts_info},
                                  p_actual_receiver_code        => ${@actual_receiver_code},
                                  p_actual_receiver_name        => ${@actual_receiver_name},
                                  p_currency_code               => ${@currency_code},
                                  p_rate_type                   => ${@rate_type},
                                  p_rate_date                   => ${@rate_date},
                                  p_rate                        => ${@rate},
                                  p_original_unit_price         => ${@original_unit_price},
                                  p_purchase_batch              => ${@purchase_batch},
                                  p_ean_code                    => ${@ean_code},
                                  p_tax_amount                  => ${@tax_amount},
                                  p_user_id                     => ${/session/@user_id});
END;
]]></bm:update-sql>
        </bm:operation>
        <bm:operation name="update">
            <bm:update-sql><![CDATA[
BEGIN
  pur_po_pkg.update_pur_line_all(p_pur_line_id                 => ${@pur_line_id},
                                  p_pur_header_id               => nvl(${@pur_header_id},${../../@pur_header_id}),
                                  p_line_type_id                => ${@line_type_id},
                                  p_line_type_name              => ${@line_type_name},
                                  p_line_num                    => ${@line_num},
                                  p_item_id                     => ${@item_id},
                                  p_item_code                   => ${@item_code},
                                  p_item_description            => ${@item_description},
                                  p_item_revision               => null,
                                  p_category_id                 => ${@category_id},
                                  p_category_name               => ${@category_name},
                                  p_unit_meas_lookup_code       => ${@unit_meas_lookup_code},
                                  p_quantity_committed          => null,
                                  p_committed_amount            => null,
                                  p_allow_price_override_flag   => null,
                                  p_not_to_exceed_price         => null,
                                  p_list_price_per_unit         => null,
                                  p_unit_price                  => ${@unit_price},
                                  p_quantity                    => ${@quantity},
                                  p_un_number_id                => null,
                                  p_hazard_class_id             => null,
                                  p_note_to_vendor              => null,
                                  p_from_header_id              => null,
                                  p_from_line_id                => null,
                                  p_min_order_quantity          => null,
                                  p_max_order_quantity          => null,
                                  p_qty_rcv_tolerance           => null,
                                  p_over_tolerance_error_flag   => null,
                                  p_market_price                => null,
                                  p_unordered_flag              => null,
                                  p_closed_flag                 => 'N',
                                  p_user_hold_flag              => 'N',
                                  p_cancel_flag                 => ${@cancel_flag},
                                  p_cancelled_by                => null,
                                  p_cancel_date                 => null,
                                  p_cancel_reason               => null,
                                  p_firm_status_lookup_code     => null,
                                  p_firm_date                   => null,
                                  p_vendor_product_num          => null,
                                  p_contract_num                => null,
                                  p_note_to_authorizer          => null,
                                  p_taxable_flag                => null,
                                  p_tax_name                    => null,
                                  p_type_1099                   => null,
                                  p_capital_expense_flag        => null,
                                  p_negotiated_by_preparer_flag => null,
                                  p_attribute_category          => null,
                                  p_reference_num               => null,
                                  p_min_release_amount          => null,
                                  p_price_type_lookup_code      => null,
                                  p_closed_code                 => null,
                                  p_price_break_lookup_code     => null,
                                  p_ussgl_transaction_code      => null,
                                  p_government_context          => null,
                                  p_request_id                  => null,
                                  p_program_application_id      => null,
                                  p_program_id                  => null,
                                  p_program_update_date         => null,
                                  p_closed_date                 => null,
                                  p_closed_reason               => null,
                                  p_closed_by                   => null,
                                  p_transaction_reason_code     => null,
                                  p_org_id                      => ${@business_unit_id},
                                  p_qc_grade                    => null,
                                  p_base_uom                    => null,
                                  p_base_qty                    => null,
                                  p_secondary_uom               => null,
                                  p_secondary_qty               => null,
                                  p_line_reference_num          => null,
                                  p_project_id                  => null,
                                  p_task_id                     => null,
                                  p_expiration_date             => null,
                                  p_tax_code_id                 => ${@tax_code_id},
                                  p_oke_contract_header_id      => null,
                                  p_oke_contract_version_id     => null,
                                  p_secondary_quantity          => null,
                                  p_secondary_unit_of_measure   => null,
                                  p_preferred_grade             => null,
                                  p_auction_header_id           => null,
                                  p_auction_display_number      => null,
                                  p_auction_line_number         => null,
                                  p_bid_number                  => null,
                                  p_bid_line_number             => null,
                                  p_retroactive_date            => null,
                                  p_supplier_ref_number         => null,
                                  p_contract_id                 => null,
                                  p_start_date                  => null,
                                  p_amount                      => round(${@unit_price} * ${@quantity},2),
                                  p_job_id                      => null,
                                  p_contractor_first_name       => null,
                                  p_contractor_last_name        => null,
                                  p_manual_price_change_flag    => null,
                                  p_order_type_lookup_code      => null,
                                  p_purchase_basis              => null,
                                  p_matching_basis              => null,
                                  p_from_line_location_id       => null,
                                  p_svc_amount_notif_sent       => null,
                                  p_svc_completion_notif_sent   => null,
                                  p_base_unit_price             => null,
                                  p_release_type                => null,
                                  p_release_flag                => 'N',
                                  p_release_date                => null,
                                  p_release_by                  => null,
                                  p_confirm_date                => null,
                                  p_confirm_type                => null,
                                  p_confirm_flag                => 'N',
                                  p_confirm_by                  => null,
                                  p_agent_desc                  => ${@agent_desc},
                                  p_vendor_desc                 => ${@vendor_desc},
                                  p_line_desc                   => ${@line_desc},
                                  p_deliver_quantity            => null,
                                  p_return_quantity             => null,
                                  p_attribute1                  => ${@attribute1},
                                  p_attribute2                  => ${@attribute2},
                                  p_attribute3                  => ${@attribute3},
                                  p_attribute4                  => ${@attribute4},
                                  p_attribute5                  => ${@attribute5},
                                  p_attribute6                  => ${@attribute6},
                                  p_attribute7                  => ${@attribute7},
                                  p_attribute8                  => ${@attribute8},
                                  p_attribute9                  => ${@attribute9},
                                  p_attribute10                 => ${@attribute10},
                                  p_attribute11                 => ${@attribute11},
                                  p_attribute12                 => ${@attribute12},
                                  p_attribute13                 => ${@attribute13},
                                  p_attribute14                 => ${@attribute14},
                                  p_attribute15                 => ${@attribute15},
                                  p_data_source                 => 'MANUAL',
                                  p_source_from_id              => null,
                                  p_comments                    => ${@comments},
                                  p_c_attribute1                => ${@c_attribute1},
                                  p_c_attribute2                => ${@c_attribute2},
                                  p_c_attribute3                => ${@c_attribute3},
                                  p_c_attribute4                => ${@c_attribute4},
                                  p_c_attribute5                => ${@c_attribute5},
                                  p_c_attribute6                => ${@c_attribute6},
                                  p_c_attribute7                => ${@c_attribute7},
                                  p_c_attribute8                => ${@c_attribute8},
                                  p_c_attribute9                => ${@c_attribute9},
                                  p_c_attribute10               => ${@c_attribute10},
                                  p_c_attribute11               => ${@c_attribute11},
                                  p_c_attribute12               => ${@c_attribute12},
                                  p_c_attribute13               => ${@c_attribute13},
                                  p_c_attribute14               => ${@c_attribute14},
                                  p_c_attribute15               => ${@c_attribute15},
                                  p_c_attribute16               => ${@c_attribute16},
                                  p_c_attribute17               => ${@c_attribute17},
                                  p_c_attribute18               => ${@c_attribute18},
                                  p_c_attribute19               => ${@c_attribute19},
                                  p_c_attribute20               => ${@c_attribute20},
                                  p_c_attribute21               => ${@c_attribute21},
                                  p_c_attribute22               => ${@c_attribute22},
                                  p_c_attribute23               => ${@c_attribute23},
                                  p_c_attribute24               => ${@c_attribute24},
                                  p_c_attribute25               => ${@c_attribute25},
                                  p_c_attribute26               => ${@c_attribute26},
                                  p_c_attribute27               => ${@c_attribute27},
                                  p_c_attribute28               => ${@c_attribute28},
                                  p_c_attribute29               => ${@c_attribute29},
                                  p_c_attribute30               => ${@c_attribute30},
                                  p_c_attribute31               => ${@c_attribute31},
                                  p_c_attribute32               => ${@c_attribute32},
                                  p_c_attribute33               => ${@c_attribute33},
                                  p_c_attribute34               => ${@c_attribute34},
                                  p_c_attribute35               => ${@c_attribute35},
                                  p_c_attribute36               => ${@c_attribute36},
                                  p_c_attribute37               => ${@c_attribute37},
                                  p_c_attribute38               => ${@c_attribute38},
                                  p_c_attribute39               => ${@c_attribute39},
                                  p_c_attribute40               => ${@c_attribute40},
                                  p_c_attribute41               => ${@c_attribute41},
                                  p_c_attribute42               => ${@c_attribute42},
                                  p_c_attribute43               => ${@c_attribute43},
                                  p_c_attribute44               => ${@c_attribute44},
                                  p_c_attribute45               => ${@c_attribute45},
                                  p_c_attribute46               => ${@c_attribute46},
                                  p_c_attribute47               => ${@c_attribute47},
                                  p_c_attribute48               => ${@c_attribute48},
                                  p_c_attribute49               => ${@c_attribute49},
                                  p_c_attribute50               => ${@c_attribute50},
                                  p_manufacturer_code           => ${@manufacturer_code},
                                  p_manufacturer_name           => ${@manufacturer_name},
                                  p_agency_code                 => ${@agency_code},
                                  p_agency_name                 => ${@agency_name},
                                  p_item_type                   => ${@item_type},
                                  p_lots_num                    => ${@lots_num},
                                  p_lots_validity_date          => ${@lots_validity_date},
                                  p_erp_po_line_type            => ${@erp_po_line_type},
                                  p_erp_po_line_type_desc       => ${@erp_po_line_type_desc},
                                  p_original_supply_code        => ${@original_supply_code},
                                  p_original_supply_name        => ${@original_supply_name},
                                  p_erp_creation_date           => null,
                                  p_erp_last_update_date        => null,
                                  p_approved_date               => null,
                                  p_line_type_code              => ${@line_type_code},
                                  p_inv_organization_id         => ${@ship_to_organization_id},
                                  p_is_returned_flag            => ${@is_returned_flag},
                                  p_is_free_flag                => ${@is_free_flag},
                                  p_is_immed_shipped_flag       => ${@is_immed_shipped_flag},
                                  p_ship_to_location_address    => ${@ship_to_location_address},
                                  p_contacts_info               => ${@contacts_info},
                                  p_actual_receiver_code        => ${@actual_receiver_code},
                                  p_actual_receiver_name        => ${@actual_receiver_name},
                                  p_currency_code               => ${@currency_code},
                                  p_rate_type                   => ${@rate_type},
                                  p_rate_date                   => ${@rate_date},
                                  p_rate                        => ${@rate},
                                  p_original_unit_price         => ${@original_unit_price},
                                  p_purchase_batch              => ${@purchase_batch},
                                  p_ean_code                    => ${@ean_code},
                                  p_tax_amount                  => ${@tax_amount},
                                  p_user_id                     => ${/session/@user_id});
END;
]]></bm:update-sql>
        </bm:operation>
        <bm:operation name="execute">
            <bm:update-sql><![CDATA[
BEGIN
  pur_po_pkg.modified_pur_lines_desc(
    p_pur_header_id => nvl(${@pur_header_id},${../../@pur_header_id}),
    p_pur_line_id => ${@pur_line_id},
    p_line_desc  => ${@line_desc},
    p_user_id	 => ${/session/@user_id}
  );
END;
]]></bm:update-sql>
        </bm:operation>
        <bm:operation name="delete">
            <bm:update-sql><![CDATA[
BEGIN
  pur_po_pkg.delete_po_line(
    p_pur_header_id => ${@pur_header_id},
    p_pur_line_id => ${@pur_line_id},
    p_user_id	 => ${/session/@user_id}
  );
END;
]]></bm:update-sql>
        </bm:operation>
    </bm:operations>
</bm:model>
